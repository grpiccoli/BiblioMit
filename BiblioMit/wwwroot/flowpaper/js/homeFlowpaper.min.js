/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/
function PointerEventsPolyfill(n){if(this.options={selector:"*",mouseEvents:["click","dblclick","mousedown","mouseup"],usePolyfillIf:function(){var n,t;return navigator.appName=="Microsoft Internet Explorer"&&(n=navigator.userAgent,n.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/)!=null&&(t=parseFloat(RegExp.$1),t<11))?!0:!1}},n){var t=this;$.each(n,function(n,i){t.options[n]=i})}this.options.usePolyfillIf()&&this.register_mouse_events()}function getIEversion(){var n=-1,t,i;return navigator.appName=="Microsoft Internet Explorer"&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),i.exec(t)!=null&&(n=parseFloat(RegExp.$1))),n}var THREE,TWEEN,data,url;(function(n,t){function dt(n){var t=n.length,r=i.type(n);return i.isWindow(n)?!1:1===n.nodeType&&t?!0:"array"===r||"function"!==r&&(0===t||"number"==typeof t&&t>0&&t-1 in n)}function kf(n){var t=gt[n]={};return i.each(n.match(s)||[],function(n,i){t[i]=!0}),t}function ir(n,r,u,f){if(i.acceptData(n)){var s,h,c=i.expando,a="string"==typeof r,l=n.nodeType,o=l?i.cache:n,e=l?n[c]:n[c]&&c;if(e&&o[e]&&(f||o[e].data)||!a||u!==t)return e||(l?n[c]=e=b.pop()||i.guid++:e=c),o[e]||(o[e]={},l||(o[e].toJSON=i.noop)),("object"==typeof r||"function"==typeof r)&&(f?o[e]=i.extend(o[e],r):o[e].data=i.extend(o[e].data,r)),s=o[e],f||(s.data||(s.data={}),s=s.data),u!==t&&(s[i.camelCase(r)]=u),a?(h=s[r],null==h&&(h=s[i.camelCase(r)])):h=s,h}}function rr(n,t,r){if(i.acceptData(n)){var o,h,e,s=n.nodeType,u=s?i.cache:n,f=s?n[i.expando]:i.expando;if(u[f]){if(t&&(e=r?u[f]:u[f].data)){for(i.isArray(t)?t=t.concat(i.map(t,i.camelCase)):(t in e)?t=[t]:(t=i.camelCase(t),t=(t in e)?[t]:t.split(" ")),o=0,h=t.length;h>o;o++)delete e[t[o]];if(!(r?ni:i.isEmptyObject)(e))return}(r||(delete u[f].data,ni(u[f])))&&(s?i.cleanData([n],!0):i.support.deleteExpando||u!=u.window?delete u[f]:u[f]=null)}}}function ur(n,r,u){if(u===t&&1===n.nodeType){var f="data-"+r.replace(tr,"-$1").toLowerCase();if(u=n.getAttribute(f),"string"==typeof u){try{u="true"===u?!0:"false"===u?!1:"null"===u?null:+u+""===u?+u:nr.test(u)?i.parseJSON(u):u}catch(e){}i.data(n,r,u)}else u=t}return u}function ni(n){for(var t in n)if(("data"!==t||!i.isEmptyObject(n[t]))&&"toJSON"!==t)return!1;return!0}function ht(){return!0}function d(){return!1}function cr(n,t){do n=n[t];while(n&&1!==n.nodeType);return n}function lr(n,t,r){if(t=t||0,i.isFunction(t))return i.grep(n,function(n,i){var u=!!t.call(n,i,n);return u===r});if(t.nodeType)return i.grep(n,function(n){return n===t===r});if("string"==typeof t){var u=i.grep(n,function(n){return 1===n.nodeType});if(fe.test(t))return i.filter(t,u,!r);t=i.filter(t,u)}return i.grep(n,function(n){return i.inArray(n,t)>=0===r})}function ar(n){var i=vr.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function ye(n,t){return n.getElementsByTagName(t)[0]||n.appendChild(n.ownerDocument.createElement(t))}function dr(n){var t=n.getAttributeNode("type");return n.type=(t&&t.specified)+"/"+n.type,n}function gr(n){var t=le.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function si(n,t){for(var u,r=0;null!=(u=n[r]);r++)i._data(u,"globalEval",!t||i._data(t[r],"globalEval"))}function nu(n,t){if(1===t.nodeType&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle;r.events={};for(u in e)for(f=0,o=e[u].length;o>f;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function pe(n,t){var r,f,u;if(1===t.nodeType){if(r=t.nodeName.toLowerCase(),!i.support.noCloneEvent&&t[i.expando]){u=i._data(t);for(f in u.events)i.removeEvent(t,f,u.handle);t.removeAttribute(i.expando)}"script"===r&&t.text!==n.text?(dr(t).text=n.text,gr(t)):"object"===r?(t.parentNode&&(t.outerHTML=n.outerHTML),i.support.html5Clone&&n.innerHTML&&!i.trim(t.innerHTML)&&(t.innerHTML=n.innerHTML)):"input"===r&&ei.test(n.type)?(t.defaultChecked=t.checked=n.checked,t.value!==n.value&&(t.value=n.value)):"option"===r?t.defaultSelected=t.selected=n.defaultSelected:("input"===r||"textarea"===r)&&(t.defaultValue=n.defaultValue)}}function u(n,r){var s,e,h=0,f=typeof n.getElementsByTagName!==o?n.getElementsByTagName(r||"*"):typeof n.querySelectorAll!==o?n.querySelectorAll(r||"*"):t;if(!f)for(f=[],s=n.childNodes||n;null!=(e=s[h]);h++)!r||i.nodeName(e,r)?f.push(e):i.merge(f,u(e,r));return r===t||r&&i.nodeName(n,r)?i.merge([n],f):f}function we(n){ei.test(n.type)&&(n.defaultChecked=n.checked)}function fu(n,t){if(t in n)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),u=t,i=uu.length;i--;)if(t=uu[i]+r,t in n)return t;return u}function ut(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)}function eu(n,t){for(var f,r,o,e=[],u=0,s=n.length;s>u;u++)r=n[u],r.style&&(e[u]=i._data(r,"olddisplay"),f=r.style.display,t?(e[u]||"none"!==f||(r.style.display=""),""===r.style.display&&ut(r)&&(e[u]=i._data(r,"olddisplay",cu(r.nodeName)))):e[u]||(o=ut(r),(f&&"none"!==f||!o)&&i._data(r,"olddisplay",o?f:i.css(r,"display"))));for(u=0;s>u;u++)r=n[u],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?e[u]||"":"none"));return n}function ou(n,t,i){var r=ge.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function su(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+p[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+p[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+p[e]+"Width",!0,f))):(o+=i.css(n,"padding"+p[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+p[e]+"Width",!0,f)));return o}function hu(n,t,r){var e=!0,u="width"===t?n.offsetWidth:n.offsetHeight,f=v(n),o=i.support.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,f);if(0>=u||null==u){if(u=y(n,t,f),(0>u||null==u)&&(u=n.style[t]),ct.test(u))return u;e=o&&(i.support.boxSizingReliable||u===n.style[t]);u=parseFloat(u)||0}return u+su(n,t,r||(o?"border":"content"),e,f)+"px"}function cu(n){var u=r,t=iu[n];return t||(t=lu(n,u),"none"!==t&&t||(rt=(rt||i("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(u.documentElement),u=(rt[0].contentWindow||rt[0].contentDocument).document,u.write("<!doctype html><html><body>"),u.close(),t=lu(n,u),rt.detach()),iu[n]=t),t}function lu(n,t){var r=i(t.createElement(n)).appendTo(t.body),u=i.css(r[0],"display");return r.remove(),u}function ci(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||ro.test(n)?u(n,i):ci(n+"["+("object"==typeof i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)ci(n+"["+f+"]",t[f],r,u)}function ku(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(s)||[];if(i.isFunction(r))while(u=e[f++])"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function du(n,r,u,f){function o(h){var c;return e[h]=!0,i.each(n[h]||[],function(n,i){var h=i(r,u,f);return"string"!=typeof h||s||e[h]?s?!(c=h):t:(r.dataTypes.unshift(h),o(h),!1)}),c}var e={},s=n===vi;return o(r.dataTypes[0])||!e["*"]&&o("*")}function yi(n,r){var f,u,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);return f&&i.extend(!0,n,f),n}function co(n,i,r){var s,o,e,u,h=n.contents,f=n.dataTypes,c=n.responseFields;for(u in c)u in r&&(i[c[u]]=r[u]);while("*"===f[0])f.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("Content-Type"));if(o)for(u in h)if(h[u]&&h[u].test(o)){f.unshift(u);break}if(f[0]in r)e=f[0];else{for(u in r){if(!f[0]||n.converters[u+" "+f[0]]){e=u;break}s||(s=u)}e=e||s}return e?(e!==f[0]&&f.unshift(e),r[e]):t}function lo(n,t){var o,r,i,e,u={},h=0,s=n.dataTypes.slice(),f=s[0];if(n.dataFilter&&(t=n.dataFilter(t,n.dataType)),s[1])for(i in n.converters)u[i.toLowerCase()]=n.converters[i];for(;r=s[++h];)if("*"!==r){if("*"!==f&&f!==r){if(i=u[f+" "+r]||u["* "+r],!i)for(o in u)if(e=o.split(" "),e[1]===r&&(i=u[f+" "+e[0]]||u["* "+e[0]])){i===!0?i=u[o]:u[o]!==!0&&(r=e[0],s.splice(h--,0,r));break}if(i!==!0)if(i&&n.throws)t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function nf(){try{return new n.XMLHttpRequest}catch(t){}}function ao(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function tf(){return setTimeout(function(){tt=t}),tt=i.now()}function wo(n,t){i.each(t,function(t,i){for(var u=(ft[t]||[]).concat(ft["*"]),r=0,f=u.length;f>r;r++)if(u[r].call(n,t,i))return})}function rf(n,t,r){var h,e,o=0,l=yt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(e)return!1;for(var s=tt||tf(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,o=u.tweens.length;o>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&o?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:tt||tf(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(e)return this;for(e=!0;r>i;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),s=u.props;for(bo(s,u.opts.specialEasing);l>o;o++)if(h=yt[o].call(u,n,s,u.opts))return h;return wo(u,s),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function bo(n,t){var u,f,r,e,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ko(n,t,r){var u,o,w,a,s,v,l,f,b,h=this,e=n.style,y={},p=[],c=n.nodeType&&ut(n);r.queue||(f=i._queueHooks(n,"fx"),null==f.unqueued&&(f.unqueued=0,b=f.empty.fire,f.empty.fire=function(){f.unqueued||b()}),f.unqueued++,h.always(function(){h.always(function(){f.unqueued--;i.queue(n,"fx").length||f.empty.fire()})}));1===n.nodeType&&("height"in t||"width"in t)&&(r.overflow=[e.overflow,e.overflowX,e.overflowY],"inline"===i.css(n,"display")&&"none"===i.css(n,"float")&&(i.support.inlineBlockNeedsLayout&&"inline"!==cu(n.nodeName)?e.zoom=1:e.display="inline-block"));r.overflow&&(e.overflow="hidden",i.support.shrinkWrapBlocks||h.always(function(){e.overflow=r.overflow[0];e.overflowX=r.overflow[1];e.overflowY=r.overflow[2]}));for(o in t)if(a=t[o],vo.exec(a)){if(delete t[o],v=v||"toggle"===a,a===(c?"hide":"show"))continue;p.push(o)}if(w=p.length)for(s=i._data(n,"fxshow")||i._data(n,"fxshow",{}),("hidden"in s)&&(c=s.hidden),v&&(s.hidden=!c),c?i(n).show():h.done(function(){i(n).hide()}),h.done(function(){var t;i._removeData(n,"fxshow");for(t in y)i.style(n,t,y[t])}),o=0;w>o;o++)u=p[o],l=h.createTween(u,c?s[u]:0),y[u]=s[u]||i.style(n,u),u in s||(s[u]=l.start,c&&(l.end=l.start,l.start="width"===u||"height"===u?1:0))}function f(n,t,i,r,u){return new f.prototype.init(n,t,i,r,u)}function pt(n,t){var r,i={height:n},u=0;for(t=t?1:0;4>u;u+=2-t)r=p[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function uf(n){return i.isWindow(n)?n:9===n.nodeType?n.defaultView||n.parentWindow:!1}var et,wi,o=typeof t,r=n.document,ff=n.location,ef=n.jQuery,of=n.$,ot={},b=[],wt="1.9.1",bi=b.concat,bt=b.push,l=b.slice,ki=b.indexOf,sf=ot.toString,it=ot.hasOwnProperty,kt=wt.trim,i=function(n,t){return new i.fn.init(n,t,wi)},st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,s=/\S+/g,hf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,cf=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,di=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,lf=/^[\],:{}\s]*$/,af=/(?:^|:|,)(?:\s*\[)+/g,vf=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yf=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,pf=/^-ms-/,wf=/-([\da-z])/gi,bf=function(n,t){return t.toUpperCase()},h=function(n){(r.addEventListener||"load"===n.type||"complete"===r.readyState)&&(gi(),i.ready())},gi=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",h,!1),n.removeEventListener("load",h,!1)):(r.detachEvent("onreadystatechange",h),n.detachEvent("onload",h))},gt,nr,tr,pi,lt,g,nt,gu,at;i.fn=i.prototype={jquery:wt,constructor:i,init:function(n,u,f){var e,o;if(!n)return this;if("string"==typeof n){if(e="<"===n.charAt(0)&&">"===n.charAt(n.length-1)&&n.length>=3?[null,n,null]:cf.exec(n),!e||!e[1]&&u)return!u||u.jquery?(u||f).find(n):this.constructor(u).find(n);if(e[1]){if(u=u instanceof i?u[0]:u,i.merge(this,i.parseHTML(e[1],u&&u.nodeType?u.ownerDocument||u:r,!0)),di.test(e[1])&&i.isPlainObject(u))for(e in u)i.isFunction(this[e])?this[e](u[e]):this.attr(e,u[e]);return this}if(o=r.getElementById(e[2]),o&&o.parentNode){if(o.id!==e[2])return f.find(n);this.length=1;this[0]=o}return this.context=r,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(n){return null==n?this.toArray():0>n?this[this.length+n]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.ready.promise().done(n),this},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:bt,sort:[].sort,splice:[].splice};i.fn.init.prototype=i.fn;i.extend=i.fn.extend=function(){var u,o,r,e,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for("boolean"==typeof n&&(c=n,n=arguments[1]||{},f=2),"object"==typeof n||i.isFunction(n)||(n={}),l===f&&(n=this,--f);l>f;f++)if(null!=(s=arguments[f]))for(e in s)u=n[e],r=s[e],n!==r&&(c&&r&&(i.isPlainObject(r)||(o=i.isArray(r)))?(o?(o=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n};i.extend({noConflict:function(t){return n.$===i&&(n.$=of),t&&n.jQuery===i&&(n.jQuery=ef),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){if(n===!0?!--i.readyWait:!i.isReady){if(!r.body)return setTimeout(i.ready);i.isReady=!0;n!==!0&&--i.readyWait>0||(et.resolveWith(r,[i]),i.fn.trigger&&i(r).trigger("ready").off("ready"))}},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray||function(n){return"array"===i.type(n)},isWindow:function(n){return null!=n&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?ot[sf.call(n)]||"object":typeof n},isPlainObject:function(n){if(!n||"object"!==i.type(n)||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!it.call(n,"constructor")&&!it.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}for(var r in n);return r===t||it.call(n,r)},isEmptyObject:function(n){for(var t in n)return!1;return!0},error:function(n){throw Error(n);},parseHTML:function(n,t,u){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(u=t,t=!1);t=t||r;var f=di.exec(n),e=!u&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&i(e).remove(),i.merge([],f.childNodes))},parseJSON:function(r){return n.JSON&&n.JSON.parse?n.JSON.parse(r):null===r?r:"string"==typeof r&&(r=i.trim(r),r&&lf.test(r.replace(vf,"@").replace(yf,"]").replace(af,"")))?Function("return "+r)():(i.error("Invalid JSON: "+r),t)},parseXML:function(r){var u,f;if(!r||"string"!=typeof r)return null;try{n.DOMParser?(f=new DOMParser,u=f.parseFromString(r,"text/xml")):(u=new ActiveXObject("Microsoft.XMLDOM"),u.async="false",u.loadXML(r))}catch(e){u=t}return u&&u.documentElement&&!u.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+r),u},noop:function(){},globalEval:function(t){t&&i.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(pf,"ms-").replace(wf,bf)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=dt(n);if(i){if(e){for(;f>r;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;f>r;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:kt&&!kt.call("﻿ ")?function(n){return null==n?"":kt.call(n)}:function(n){return null==n?"":(n+"").replace(hf,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(dt(Object(n))?i.merge(r,"string"==typeof n?[n]:n):bt.call(r,n)),r},inArray:function(n,t,i){var r;if(t){if(ki)return ki.call(t,n,i);for(r=t.length,i=i?0>i?Math.max(0,r+i):i:0;r>i;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,i){var f=i.length,u=n.length,r=0;if("number"==typeof f)for(;f>r;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u,f=[],r=0,e=n.length;for(i=!!i;e>r;r++)u=!!t(n[r],r),i!==u&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=dt(n),f=[];if(o)for(;e>r;r++)u=t(n[r],r,i),null!=u&&(f[f.length]=u);else for(r in n)u=t(n[r],r,i),null!=u&&(f[f.length]=u);return bi.apply([],f)},guid:1,proxy:function(n,r){var f,u,e;return"string"==typeof r&&(e=n[r],r=n,n=e),i.isFunction(n)?(f=l.call(arguments,2),u=function(){return n.apply(r||this,f.concat(l.call(arguments)))},u.guid=n.guid=n.guid||i.guid++,u):t},access:function(n,r,u,f,e,o,s){var h=0,l=n.length,c=null==u;if("object"===i.type(u)){e=!0;for(h in u)i.access(n,r,h,u[h],!0,o,s)}else if(f!==t&&(e=!0,i.isFunction(f)||(s=!0),c&&(s?(r.call(n,f),r=null):(c=r,r=function(n,t,r){return c.call(i(n),r)})),r))for(;l>h;h++)r(n[h],u,s?f:f.call(n[h],h,r(n[h],u)));return e?n:c?r.call(n):l?r(n[0],u):o},now:function(){return(new Date).getTime()}});i.ready.promise=function(t){if(!et)if(et=i.Deferred(),"complete"===r.readyState)setTimeout(i.ready);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",h,!1),n.addEventListener("load",h,!1);else{r.attachEvent("onreadystatechange",h);n.attachEvent("onload",h);var u=!1;try{u=null==n.frameElement&&r.documentElement}catch(e){}u&&u.doScroll&&function f(){if(!i.isReady){try{u.doScroll("left")}catch(n){return setTimeout(f,50)}gi();i.ready()}}()}return et.promise(t)};i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ot["[object "+t+"]"]=t.toLowerCase()});wi=i(r);gt={};i.Callbacks=function(n){n="string"==typeof n?gt[n]||kf(n):i.extend({},n);var o,f,c,s,e,l,r=[],u=!n.once&&[],a=function(t){for(f=n.memory&&t,c=!0,e=l||0,l=0,s=r.length,o=!0;r&&s>e;e++)if(r[e].apply(t[0],t[1])===!1&&n.stopOnFalse){f=!1;break}o=!1;r&&(u?u.length&&a(u.shift()):f?r=[]:h.disable())},h={add:function(){if(r){var t=r.length;(function u(t){i.each(t,function(t,f){var e=i.type(f);"function"===e?n.unique&&h.has(f)||r.push(f):f&&f.length&&"string"!==e&&u(f)})})(arguments);o?s=r.length:f&&(l=t,a(f))}return this},remove:function(){return r&&i.each(arguments,function(n,t){for(var u;(u=i.inArray(t,r,u))>-1;)r.splice(u,1),o&&(s>=u&&s--,e>=u&&e--)}),this},has:function(n){return n?i.inArray(n,r)>-1:!(!r||!r.length)},empty:function(){return r=[],this},disable:function(){return r=u=f=t,this},disabled:function(){return!r},lock:function(){return u=t,f||h.disable(),this},locked:function(){return!u},fireWith:function(n,t){return t=t||[],t=[n,t.slice?t.slice():t],!r||c&&!u||(o?u.push(t):a(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var s=e[0],o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[s+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=l.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?l.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=Array(r),c=Array(r),s=Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.support=function(){var u,s,e,f,h,c,l,a,y,v,t=r.createElement("div");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",s=t.getElementsByTagName("*"),e=t.getElementsByTagName("a")[0],!s||!e||!s.length)return{};h=r.createElement("select");l=h.appendChild(r.createElement("option"));f=t.getElementsByTagName("input")[0];e.style.cssText="top:1px;float:left;opacity:.5";u={getSetAttribute:"t"!==t.className,leadingWhitespace:3===t.firstChild.nodeType,tbody:!t.getElementsByTagName("tbody").length,htmlSerialize:!!t.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:"/a"===e.getAttribute("href"),opacity:/^0.5/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:!!f.value,optSelected:l.selected,enctype:!!r.createElement("form").enctype,html5Clone:"<:nav><\/:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===r.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};f.checked=!0;u.noCloneChecked=f.cloneNode(!0).checked;h.disabled=!0;u.optDisabled=!l.disabled;try{delete t.test}catch(p){u.deleteExpando=!1}f=r.createElement("input");f.setAttribute("value","");u.input=""===f.getAttribute("value");f.value="t";f.setAttribute("type","radio");u.radioValue="t"===f.value;f.setAttribute("checked","t");f.setAttribute("name","t");c=r.createDocumentFragment();c.appendChild(f);u.appendChecked=f.checked;u.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;t.attachEvent&&(t.attachEvent("onclick",function(){u.noCloneEvent=!1}),t.cloneNode(!0).click());for(v in{submit:!0,change:!0,focusin:!0})t.setAttribute(a="on"+v,"t"),u[v+"Bubbles"]=a in n||t.attributes[a].expando===!1;return t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",u.clearCloneStyle="content-box"===t.style.backgroundClip,i(function(){var e,f,i,h="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=r.getElementsByTagName("body")[0];s&&(e=r.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(e).appendChild(t),t.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",i=t.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",y=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",u.reliableHiddenOffsets=y&&0===i[0].offsetHeight,t.innerHTML="",t.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",u.boxSizing=4===t.offsetWidth,u.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,n.getComputedStyle&&(u.pixelPosition="1%"!==(n.getComputedStyle(t,null)||{}).top,u.boxSizingReliable="4px"===(n.getComputedStyle(t,null)||{width:"4px"}).width,f=t.appendChild(r.createElement("div")),f.style.cssText=t.style.cssText=h,f.style.marginRight=f.style.width="0",t.style.width="1px",u.reliableMarginRight=!parseFloat((n.getComputedStyle(f,null)||{}).marginRight)),typeof t.style.zoom!==o&&(t.innerHTML="",t.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",u.inlineBlockNeedsLayout=3===t.offsetWidth,t.style.display="block",t.innerHTML="<div><\/div>",t.firstChild.style.width="5px",u.shrinkWrapBlocks=3!==t.offsetWidth,u.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(e),e=t=i=f=null)}),s=h=c=l=e=f=null,u}();nr=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;tr=/([A-Z])/g;i.extend({cache:{},expando:"jQuery"+(wt+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!ni(n)},data:function(n,t,i){return ir(n,t,i)},removeData:function(n,t){return rr(n,t)},_data:function(n,t,i){return ir(n,t,i,!0)},_removeData:function(n,t){return rr(n,t,!0)},acceptData:function(n){if(n.nodeType&&1!==n.nodeType&&9!==n.nodeType)return!1;var t=n.nodeName&&i.noData[n.nodeName.toLowerCase()];return!t||t!==!0&&n.getAttribute("classid")===t}});i.fn.extend({data:function(n,r){var e,f,u=this[0],o=0,s=null;if(n===t){if(this.length&&(s=i.data(u),1===u.nodeType&&!i._data(u,"parsedAttrs"))){for(e=u.attributes;e.length>o;o++)f=e[o].name,f.indexOf("data-")||(f=i.camelCase(f.slice(5)),ur(u,f,s[f]));i._data(u,"parsedAttrs",!0)}return s}return"object"==typeof n?this.each(function(){i.data(this,n)}):i.access(this,function(r){return r===t?u?ur(u,n,i.data(u,n)):null:(this.each(function(){i.data(this,n,r)}),t)},null,r,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){i.removeData(this,n)})}});i.extend({queue:function(n,r,u){var f;return n?(r=(r||"fx")+"queue",f=i._data(n,r),u&&(!f||i.isArray(u)?f=i._data(n,r,i.makeArray(u)):f.push(u)),f||[]):t},dequeue:function(n,t){t=t||"fx";var f=i.queue(n,t),e=f.length,r=f.shift(),u=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===r&&(r=f.shift(),e--);u.cur=r;r&&("fx"===t&&f.unshift("inprogress"),delete u.stop,r.call(n,o,u));!e&&u&&u.empty.fire()},_queueHooks:function(n,t){var r=t+"queueHooks";return i._data(n,r)||i._data(n,r,{empty:i.Callbacks("once memory").add(function(){i._removeData(n,t+"queue");i._removeData(n,r)})})}});i.fn.extend({queue:function(n,r){var u=2;return"string"!=typeof n&&(r=n,n="fx",u--),u>arguments.length?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);i._queueHooks(this,n);"fx"===n&&"inprogress"!==t[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(r=n,n=t),n=n||"fx";s--;)u=i._data(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(r)}});var k,fr,ti=/[\t\r\n]/g,df=/\r/g,gf=/^(?:input|select|textarea|button|object)$/i,ne=/^(?:a|area)$/i,er=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,ii=/^(?:checked|selected)$/i,a=i.support.getSetAttribute,ri=i.support.input;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=t;delete this[n]}catch(i){}})},addClass:function(n){var e,t,r,u,o,f=0,h=this.length,c="string"==typeof n&&n;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(s)||[];h>f;f++)if(t=this[f],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(ti," "):" ")){for(o=0;u=e[o++];)0>r.indexOf(" "+u+" ")&&(r+=u+" ");t.className=i.trim(r)}return this},removeClass:function(n){var e,t,r,u,o,f=0,h=this.length,c=0===arguments.length||"string"==typeof n&&n;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(s)||[];h>f;f++)if(t=this[f],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(ti," "):"")){for(o=0;u=e[o++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");t.className=n?i.trim(r):""}return this},toggleClass:function(n,t){var r=typeof n,u="boolean"==typeof t;return i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if("string"===r)for(var f,c=0,h=i(this),e=t,l=n.match(s)||[];f=l[c++];)e=u?e:!h.hasClass(f),h[e?"addClass":"removeClass"](f);else(r===o||"boolean"===r)&&(this.className&&i._data(this,"__className__",this.className),this.className=this.className||n===!1?"":i._data(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;r>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(ti," ").indexOf(i)>=0)return!0;return!1},val:function(n){var u,r,e,f=this[0];return arguments.length?(e=i.isFunction(n),this.each(function(u){var f,o=i(this);1===this.nodeType&&(f=e?n.call(this,u,o.val()):n,null==f?f="":"number"==typeof f?f+="":i.isArray(f)&&(f=i.map(f,function(n){return null==n?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))})):f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t?u:(u=f.value,"string"==typeof u?u.replace(df,""):null==u?"":u)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=n.attributes.value;return!t||t.specified?n.value:n.text}},select:{get:function(n){for(var e,t,o=n.options,r=n.selectedIndex,u="select-one"===n.type||0>r,s=u?null:[],h=u?r+1:o.length,f=0>r?h:u?r:0;h>f;f++)if(t=o[f],!(!t.selected&&f!==r||(i.support.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&i.nodeName(t.parentNode,"optgroup"))){if(e=i(t).val(),u)return e;s.push(e)}return s},set:function(n,t){var r=i.makeArray(t);return i(n).find("option").each(function(){this.selected=i.inArray(i(this).val(),r)>=0}),r.length||(n.selectedIndex=-1),r}}},attr:function(n,r,u){var f,s,e,h=n.nodeType;if(n&&3!==h&&8!==h&&2!==h)return typeof n.getAttribute===o?i.prop(n,r,u):(s=1!==h||!i.isXMLDoc(n),s&&(r=r.toLowerCase(),f=i.attrHooks[r]||(er.test(r)?fr:k)),u===t?f&&s&&"get"in f&&null!==(e=f.get(n,r))?e:(typeof n.getAttribute!==o&&(e=n.getAttribute(r)),null==e?t:e):null!==u?f&&s&&"set"in f&&(e=f.set(n,u,r))!==t?e:(n.setAttribute(r,u+""),u):(i.removeAttr(n,r),t))},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(s);if(f&&1===n.nodeType)while(r=f[e++])u=i.propFix[r]||r,er.test(r)?!a&&ii.test(r)?n[i.camelCase("default-"+r)]=n[u]=!1:n[u]=!1:i.attr(n,r,""),n.removeAttribute(a?r:u)},attrHooks:{type:{set:function(n,t){if(!i.support.radioValue&&"radio"===t&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(n&&3!==o&&8!==o&&2!==o)return s=1!==o||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&null!==(e=f.get(n,r))?e:n[r]},propHooks:{tabIndex:{get:function(n){var i=n.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):gf.test(n.nodeName)||ne.test(n.nodeName)&&n.href?0:t}}}});fr={get:function(n,r){var u=i.prop(n,r),f="boolean"==typeof u&&n.getAttribute(r),e="boolean"==typeof u?ri&&a?null!=f:ii.test(r)?n[i.camelCase("default-"+r)]:!!f:n.getAttributeNode(r);return e&&e.value!==!1?r.toLowerCase():t},set:function(n,t,r){return t===!1?i.removeAttr(n,r):ri&&a||!ii.test(r)?n.setAttribute(!a&&i.propFix[r]||r,r):n[i.camelCase("default-"+r)]=n[r]=!0,r}};ri&&a||(i.attrHooks.value={get:function(n,r){var u=n.getAttributeNode(r);return i.nodeName(n,"input")?n.defaultValue:u&&u.specified?u.value:t},set:function(n,r,u){return i.nodeName(n,"input")?(n.defaultValue=r,t):k&&k.set(n,r,u)}});a||(k=i.valHooks.button={get:function(n,i){var r=n.getAttributeNode(i);return r&&("id"===i||"name"===i||"coords"===i?""!==r.value:r.specified)?r.value:t},set:function(n,i,r){var u=n.getAttributeNode(r);return u||n.setAttributeNode(u=n.ownerDocument.createAttribute(r)),u.value=i+="","value"===r||i===n.getAttribute(r)?i:t}},i.attrHooks.contenteditable={get:k.get,set:function(n,t,i){k.set(n,""===t?!1:t,i)}},i.each(["width","height"],function(n,r){i.attrHooks[r]=i.extend(i.attrHooks[r],{set:function(n,i){return""===i?(n.setAttribute(r,"auto"),i):t}})}));i.support.hrefNormalized||(i.each(["href","src","width","height"],function(n,r){i.attrHooks[r]=i.extend(i.attrHooks[r],{get:function(n){var i=n.getAttribute(r,2);return null==i?t:i}})}),i.each(["href","src"],function(n,t){i.propHooks[t]={get:function(n){return n.getAttribute(t,4)}}}));i.support.style||(i.attrHooks.style={get:function(n){return n.style.cssText||t},set:function(n,t){return n.style.cssText=t+""}});i.support.optSelected||(i.propHooks.selected=i.extend(i.propHooks.selected,{get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}));i.support.enctype||(i.propFix.enctype="encoding");i.support.checkOn||i.each(["radio","checkbox"],function(){i.valHooks[this]={get:function(n){return null===n.getAttribute("value")?"on":n.value}}});i.each(["radio","checkbox"],function(){i.valHooks[this]=i.extend(i.valHooks[this],{set:function(n,r){return i.isArray(r)?n.checked=i.inArray(i(n).val(),r)>=0:t}})});var ui=/^(?:input|select|textarea)$/i,te=/^key/,ie=/^(?:mouse|contextmenu)|click/,or=/^(?:focusinfocus|focusoutblur)$/,sr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,r,u,f,e){var b,p,k,w,c,l,a,v,h,d,g,y=i._data(n);if(y){for(u.handler&&(w=u,u=w.handler,e=w.selector),u.guid||(u.guid=i.guid++),(p=y.events)||(p=y.events={}),(l=y.handle)||(l=y.handle=function(n){return typeof i===o||n&&i.event.triggered===n.type?t:i.event.dispatch.apply(l.elem,arguments)},l.elem=n),r=(r||"").match(s)||[""],k=r.length;k--;)b=sr.exec(r[k])||[],h=g=b[1],d=(b[2]||"").split(".").sort(),c=i.event.special[h]||{},h=(e?c.delegateType:c.bindType)||h,c=i.event.special[h]||{},a=i.extend({type:h,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:d.join(".")},w),(v=p[h])||(v=p[h]=[],v.delegateCount=0,c.setup&&c.setup.call(n,f,d,l)!==!1||(n.addEventListener?n.addEventListener(h,l,!1):n.attachEvent&&n.attachEvent("on"+h,l))),c.add&&(c.add.call(n,a),a.handler.guid||(a.handler.guid=u.guid)),e?v.splice(v.delegateCount++,0,a):v.push(a),i.event.global[h]=!0;n=null}},remove:function(n,t,r,u,f){var y,o,h,b,p,a,c,l,e,w,k,v=i.hasData(n)&&i._data(n);if(v&&(a=v.events)){for(t=(t||"").match(s)||[""],p=t.length;p--;)if(h=sr.exec(t[p])||[],e=k=h[1],w=(h[2]||"").split(".").sort(),e){for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,l=a[e]||[],h=h[2]&&RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=y=l.length;y--;)o=l[y],!f&&k!==o.origType||r&&r.guid!==o.guid||h&&!h.test(o.namespace)||u&&u!==o.selector&&("**"!==u||!o.selector)||(l.splice(y,1),o.selector&&l.delegateCount--,c.remove&&c.remove.call(n,o));b&&!l.length&&(c.teardown&&c.teardown.call(n,w,v.handle)!==!1||i.removeEvent(n,e,v.handle),delete a[e])}else for(e in a)i.event.remove(n,e+t[p],r,u,!0);i.isEmptyObject(a)&&(delete v.handle,i._removeData(n,"events"))}},trigger:function(u,f,e,o){var a,v,h,p,l,c,w,b=[e||r],s=it.call(u,"type")?u.type:u,y=it.call(u,"namespace")?u.namespace.split("."):[];if(h=c=e=e||r,3!==e.nodeType&&8!==e.nodeType&&!or.test(s+i.event.triggered)&&(s.indexOf(".")>=0&&(y=s.split("."),s=y.shift(),y.sort()),v=0>s.indexOf(":")&&"on"+s,u=u[i.expando]?u:new i.Event(s,"object"==typeof u&&u),u.isTrigger=!0,u.namespace=y.join("."),u.namespace_re=u.namespace?RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=t,u.target||(u.target=e),f=null==f?[u]:i.makeArray(f,[u]),l=i.event.special[s]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(p=l.delegateType||s,or.test(p+s)||(h=h.parentNode);h;h=h.parentNode)b.push(h),c=h;c===(e.ownerDocument||r)&&b.push(c.defaultView||c.parentWindow||n)}for(w=0;(h=b[w++])&&!u.isPropagationStopped();)u.type=w>1?p:l.bindType||s,a=(i._data(h,"events")||{})[u.type]&&i._data(h,"handle"),a&&a.apply(h,f),a=v&&h[v],a&&i.acceptData(h)&&a.apply&&a.apply(h,f)===!1&&u.preventDefault();if(u.type=s,!(o||u.isDefaultPrevented()||l._default&&l._default.apply(e.ownerDocument,f)!==!1||"click"===s&&i.nodeName(e,"a")||!i.acceptData(e)||!v||!e[s]||i.isWindow(e))){c=e[v];c&&(e[v]=null);i.event.triggered=s;try{e[s]()}catch(k){}i.event.triggered=t;c&&(e[v]=c)}return u.result}},dispatch:function(n){n=i.event.fix(n);var o,e,r,u,s,h=[],c=l.call(arguments),a=(i._data(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,a),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(r=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(r.namespace))&&(n.handleObj=r,n.data=r.data,e=((i.event.special[r.origType]||{}).handle||r.handler).apply(u.elem,c),e!==t&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,r){var e,o,f,s,c=[],h=r.delegateCount,u=n.target;if(h&&u.nodeType&&(!n.button||"click"!==n.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==n.type)){for(f=[],s=0;h>s;s++)o=r[s],e=o.selector+" ",f[e]===t&&(f[e]=o.needsContext?i(e,this).index(u)>=0:i.find(e,this,null,[u]).length),f[e]&&f.push(o);f.length&&c.push({elem:u,handlers:f})}return r.length>h&&c.push({elem:this,handlers:r.slice(h)}),c},fix:function(n){if(n[i.expando])return n;var e,o,s,u=n.type,f=n,t=this.fixHooks[u];for(t||(this.fixHooks[u]=t=ie.test(u)?this.mouseHooks:te.test(u)?this.keyHooks:{}),s=t.props?this.props.concat(t.props):this.props,n=new i.Event(f),e=s.length;e--;)o=s[e],n[o]=f[o];return n.target||(n.target=f.srcElement||r),3===n.target.nodeType&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,t.filter?t.filter(n,f):n},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var u,o,f,e=i.button,s=i.fromElement;return null==n.pageX&&null!=i.clientX&&(o=n.target.ownerDocument||r,f=o.documentElement,u=o.body,n.pageX=i.clientX+(f&&f.scrollLeft||u&&u.scrollLeft||0)-(f&&f.clientLeft||u&&u.clientLeft||0),n.pageY=i.clientY+(f&&f.scrollTop||u&&u.scrollTop||0)-(f&&f.clientTop||u&&u.clientTop||0)),!n.relatedTarget&&s&&(n.relatedTarget=s===n.target?i.toElement:s),n.which||e===t||(n.which=1&e?1:2&e?3:4&e?2:0),n}},special:{load:{noBubble:!0},click:{trigger:function(){return i.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==r.activeElement&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},blur:{trigger:function(){return this===r.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(n){n.result!==t&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=r.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){var r="on"+t;n.detachEvent&&(typeof n[r]===o&&(n[r]=null),n.detachEvent(r,i))};i.Event=function(n,r){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.returnValue===!1||n.getPreventDefault&&n.getPreventDefault()?ht:d):this.type=n,r&&i.extend(this,r),this.timeStamp=n&&n.timeStamp||i.now(),this[i.expando]=!0,t):new i.Event(n,r)};i.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ht;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ht;n&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ht;this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return(!r||r!==f&&!i.contains(f,r))&&(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.support.submitBubbles||(i.event.special.submit={setup:function(){return i.nodeName(this,"form")?!1:(i.event.add(this,"click._submit keypress._submit",function(n){var u=n.target,r=i.nodeName(u,"input")||i.nodeName(u,"button")?u.form:t;r&&!i._data(r,"submitBubbles")&&(i.event.add(r,"submit._submit",function(n){n._submit_bubble=!0}),i._data(r,"submitBubbles",!0))}),t)},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){return i.nodeName(this,"form")?!1:(i.event.remove(this,"._submit"),t)}});i.support.changeBubbles||(i.event.special.change={setup:function(){return ui.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(i.event.add(this,"propertychange._change",function(n){"checked"===n.originalEvent.propertyName&&(this._just_changed=!0)}),i.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1);i.event.simulate("change",this,n,!0)})),!1):(i.event.add(this,"beforeactivate._change",function(n){var t=n.target;ui.test(t.nodeName)&&!i._data(t,"changeBubbles")&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n,!0)}),i._data(t,"changeBubbles",!0))}),t)},handle:function(n){var i=n.target;return this!==i||n.isSimulated||n.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?n.handleObj.handler.apply(this,arguments):t},teardown:function(){return i.event.remove(this,"._change"),!ui.test(this.nodeName)}});i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){0==u++&&r.addEventListener(n,f,!0)},teardown:function(){0==--u&&r.removeEventListener(n,f,!0)}}});i.fn.extend({on:function(n,r,u,f,e){var s,o;if("object"==typeof n){"string"!=typeof r&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(null==u&&null==f?(f=r,u=r=t):null==f&&("string"==typeof r?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=d;else if(!f)return this;return 1===e&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==typeof n){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||"function"==typeof r)&&(u=r,r=t),u===!1&&(u=d),this.each(function(){i.event.remove(this,n,u,r)})},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,r){var u=this[0];return u?i.event.trigger(n,r,u,!0):t}}),function(n,t){function ti(n){return tr.test(n+"")}function ii(){var n,t=[];return n=function(i,u){return t.push(i+=" ")>r.cacheLength&&delete n[t.shift()],n[i]=u}}function l(n){return n[f]=!0,n}function b(n){var t=s.createElement("div");try{return n(t)}catch(i){return!1}finally{t=null}}function u(n,t,i,r){var y,u,e,l,p,v,w,h,d,b;if((t?t.ownerDocument||t:k)!==s&&it(t),t=t||s,i=i||[],!n||"string"!=typeof n)return i;if(1!==(l=t.nodeType)&&9!==l)return[];if(!c&&!r){if(y=ir.exec(n))if(e=y[1]){if(9===l){if(u=t.getElementById(e),!u||!u.parentNode)return i;if(u.id===e)return i.push(u),i}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(e))&&et(t,u)&&u.id===e)return i.push(u),i}else{if(y[2])return ut.apply(i,ft.call(t.getElementsByTagName(n),0)),i;if((e=y[3])&&o.getByClassName&&t.getElementsByClassName)return ut.apply(i,ft.call(t.getElementsByClassName(e),0)),i}if(o.qsa&&!a.test(n)){if(w=!0,h=f,d=t,b=9===l&&n,1===l&&"object"!==t.nodeName.toLowerCase()){for(v=yt(n),(w=t.getAttribute("id"))?h=w.replace(fr,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",p=v.length;p--;)v[p]=h+pt(v[p]);d=ni.test(n)&&t.parentNode||t;b=v.join(",")}if(b)try{return ut.apply(i,ft.call(d.querySelectorAll(b),0)),i}catch(g){}finally{w||t.removeAttribute("id")}}}return lr(n.replace(at,"$1"),t,i,r)}function yi(n,t){var i=t&&n,r=i&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function or(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function sr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function g(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function yt(n,t){var e,f,s,o,i,h,c,l=hi[n+" "];if(l)return t?0:l.slice(0);for(i=n,h=[],c=r.preFilter;i;){(!e||(f=ki.exec(i)))&&(f&&(i=i.slice(f[0].length)||i),h.push(s=[]));e=!1;(f=di.exec(i))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),i=i.slice(e.length));for(o in r.filter)(f=vt[o].exec(i))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),i=i.slice(e.length));if(!e)break}return t?i.length:i?u.error(n):hi(n,h).slice(0)}function pt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function ri(n,t,i){var r=t.dir,u=i&&"parentNode"===r,e=wi++;return t.first?function(t,i,f){while(t=t[r])if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,o){var h,s,c,l=v+" "+e;if(o){while(t=t[r])if((1===t.nodeType||u)&&n(t,i,o))return!0}else while(t=t[r])if(1===t.nodeType||u)if(c=t[f]||(t[f]={}),(s=c[r])&&s[0]===l){if((h=s[1])===!0||h===ot)return h===!0}else if(s=c[r]=[l],s[1]=n(t,i,o)||ot,s[1]===!0)return!0}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function wt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||cr(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?b:wt(b,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=wt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?dt.call(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=wt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):ut.apply(e,h)})}function ei(n){for(var s,u,i,o=n.length,h=r.relative[n[0].type],c=h||r.relative[" "],t=h?1:0,l=ri(function(n){return n===s},c,!0),a=ri(function(n){return dt.call(s,n)>-1},c,!0),e=[function(n,t,i){return!h&&(i||t!==ht)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];o>t;t++)if(u=r.relative[n[t].type])e=[ri(ui(e),u)];else{if(u=r.filter[n[t].type].apply(null,n[t].matches),u[f]){for(i=++t;o>i;i++)if(r.relative[n[i].type])break;return fi(t>1&&ui(e),t>1&&pt(n.slice(0,t-1)).replace(at,"$1"),u,i>t&&ei(n.slice(t,i)),o>i&&ei(n=n.slice(i)),o>i&&pt(n))}e.push(u)}return ui(e)}function hr(n,t){var f=0,i=t.length>0,e=n.length>0,o=function(o,h,c,l,a){var p,d,b,w=[],k=0,y="0",g=o&&[],nt=null!=a,tt=ht,rt=o||e&&r.find.TAG("*",a&&h.parentNode||h),it=v+=null==tt?1:Math.random()||.1;for(nt&&(ht=h!==s&&h,ot=f);null!=(p=rt[y]);y++){if(e&&p){for(d=0;b=n[d++];)if(b(p,h,c)){l.push(p);break}nt&&(v=it,ot=++f)}i&&((p=!b&&p)&&k--,o&&g.push(p))}if(k+=y,i&&y!==k){for(d=0;b=t[d++];)b(g,w,h,c);if(o){if(k>0)while(y--)g[y]||w[y]||(w[y]=bi.call(l));w=wt(w)}ut.apply(l,w);nt&&!o&&w.length>0&&k+t.length>1&&u.uniqueSort(l)}return nt&&(v=it,ht=tt),g};return i?l(o):o}function cr(n,t,i){for(var r=0,f=t.length;f>r;r++)u(n,t[r],i);return i}function lr(n,t,i,u){var o,f,e,h,l,s=yt(n);if(!u&&1===s.length){if(f=s[0]=s[0].slice(0),f.length>2&&"ID"===(e=f[0]).type&&9===t.nodeType&&!c&&r.relative[f[1].type]){if(t=r.find.ID(e.matches[0].replace(p,w),t)[0],!t)return i;n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],r.relative[h=e.type])break;if((l=r.find[h])&&(u=l(e.matches[0].replace(p,w),ni.test(f[0].type)&&t.parentNode||t))){if(f.splice(o,1),n=u.length&&pt(f),!n)return ut.apply(i,ft.call(u,0)),i;break}}}return bt(n,s)(u,t,c,i,ni.test(n)),i}function pi(){}var nt,ot,r,st,oi,bt,tt,ht,it,s,h,c,a,rt,ct,et,kt,f="sizzle"+-new Date,k=n.document,o={},v=0,wi=0,si=ii(),hi=ii(),ci=ii(),y=typeof t,li=-2147483648,lt=[],bi=lt.pop,ut=lt.push,ft=lt.slice,dt=lt.indexOf||function(n){for(var t=0,i=this.length;i>t;t++)if(this[t]===n)return t;return-1},e="[\\x20\\t\\r\\n\\f]",d="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ai=d.replace("w","w#"),vi="\\["+e+"*("+d+")"+e+"*(?:([*^$|!~]?=)"+e+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ai+")|)|)"+e+"*\\]",gt=":("+d+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+vi.replace(3,8)+")*)|.*)\\)|)",at=RegExp("^"+e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+e+"+$","g"),ki=RegExp("^"+e+"*,"+e+"*"),di=RegExp("^"+e+"*([\\x20\\t\\r\\n\\f>+~])"+e+"*"),gi=RegExp(gt),nr=RegExp("^"+ai+"$"),vt={ID:RegExp("^#("+d+")"),CLASS:RegExp("^\\.("+d+")"),NAME:RegExp("^\\[name=['\"]?("+d+")['\"]?\\]"),TAG:RegExp("^("+d.replace("w","w*")+")"),ATTR:RegExp("^"+vi),PSEUDO:RegExp("^"+gt),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+e+"*(even|odd|(([+-]|)(\\d*)n|)"+e+"*(?:([+-]|)"+e+"*(\\d+)|))"+e+"*\\)|)","i"),needsContext:RegExp("^"+e+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+e+"*((?:-\\d)?\\d*)"+e+"*\\)|)(?=[^-]|$)","i")},ni=/[\x20\t\r\n\f]*[+~]/,tr=/^[^{]+\{\s*\[native code/,ir=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rr=/^(?:input|select|textarea|button)$/i,ur=/^h\d$/i,fr=/'|\\/g,er=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,p=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,w=function(n,t){var i="0x"+t-65536;return i!==i?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{ft.call(k.documentElement.childNodes,0)[0].nodeType}catch(ar){ft=function(n){for(var t,i=[];t=this[n++];)i.push(t);return i}}oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};it=u.setDocument=function(n){var i=n?n.ownerDocument||n:k;return i!==s&&9===i.nodeType&&i.documentElement?(s=i,h=i.documentElement,c=oi(i),o.tagNameNoComments=b(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),o.attributes=b(function(n){n.innerHTML="<select><\/select>";var t=typeof n.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),o.getByClassName=b(function(n){return n.innerHTML="<div class='hidden e'><\/div><div class='hidden'><\/div>",n.getElementsByClassName&&n.getElementsByClassName("e").length?(n.lastChild.className="e",2===n.getElementsByClassName("e").length):!1}),o.getByName=b(function(n){n.id=f+0;n.innerHTML="<a name='"+f+"'><\/a><div name='"+f+"'><\/div>";h.insertBefore(n,h.firstChild);var t=i.getElementsByName&&i.getElementsByName(f).length===2+i.getElementsByName(f+0).length;return o.getIdNotName=!i.getElementById(f),h.removeChild(n),t}),r.attrHandle=b(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild&&typeof n.firstChild.getAttribute!==y&&"#"===n.firstChild.getAttribute("href")})?{}:{href:function(n){return n.getAttribute("href",2)},type:function(n){return n.getAttribute("type")}},o.getIdNotName?(r.find.ID=function(n,t){if(typeof t.getElementById!==y&&!c){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},r.filter.ID=function(n){var t=n.replace(p,w);return function(n){return n.getAttribute("id")===t}}):(r.find.ID=function(n,i){if(typeof i.getElementById!==y&&!c){var r=i.getElementById(n);return r?r.id===n||typeof r.getAttributeNode!==y&&r.getAttributeNode("id").value===n?[r]:t:[]}},r.filter.ID=function(n){var t=n.replace(p,w);return function(n){var i=typeof n.getAttributeNode!==y&&n.getAttributeNode("id");return i&&i.value===t}}),r.find.TAG=o.tagNameNoComments?function(n,i){return typeof i.getElementsByTagName!==y?i.getElementsByTagName(n):t}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},r.find.NAME=o.getByName&&function(n,i){return typeof i.getElementsByName!==y?i.getElementsByName(name):t},r.find.CLASS=o.getByClassName&&function(n,i){return typeof i.getElementsByClassName===y||c?t:i.getElementsByClassName(n)},rt=[],a=[":focus"],(o.qsa=ti(i.querySelectorAll))&&(b(function(n){n.innerHTML="<select><option selected=''><\/option><\/select>";n.querySelectorAll("[selected]").length||a.push("\\["+e+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");n.querySelectorAll(":checked").length||a.push(":checked")}),b(function(n){n.innerHTML="<input type='hidden' i=''/>";n.querySelectorAll("[i^='']").length&&a.push("[*^$]="+e+"*(?:\"\"|'')");n.querySelectorAll(":enabled").length||a.push(":enabled",":disabled");n.querySelectorAll("*,:x");a.push(",.*:")})),(o.matchesSelector=ti(ct=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&b(function(n){o.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");rt.push("!=",gt)}),a=RegExp(a.join("|")),rt=RegExp(rt.join("|")),et=ti(h.contains)||h.compareDocumentPosition?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},kt=h.compareDocumentPosition?function(n,t){var r;return n===t?(tt=!0,0):(r=t.compareDocumentPosition&&n.compareDocumentPosition&&n.compareDocumentPosition(t))?1&r||n.parentNode&&11===n.parentNode.nodeType?n===i||et(k,n)?-1:t===i||et(k,t)?1:0:4&r?-1:1:n.compareDocumentPosition?-1:1}:function(n,t){var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(n===t)return tt=!0,0;if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:0;if(o===s)return yi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?yi(f[u],e[u]):f[u]===k?-1:e[u]===k?1:0},tt=!1,[0,0].sort(kt),o.detectDuplicates=tt,s):s};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==s&&it(n),t=t.replace(er,"='$1']"),!(!o.matchesSelector||c||rt&&rt.test(t)||a.test(t)))try{var i=ct.call(n,t);if(i||o.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(r){}return u(t,s,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==s&&it(n),et(n,t)};u.attr=function(n,t){var i;return(n.ownerDocument||n)!==s&&it(n),c||(t=t.toLowerCase()),(i=r.attrHandle[t])?i(n):c||o.attributes?n.getAttribute(t):((i=n.getAttributeNode(t))||n.getAttribute(t))&&n[t]===!0?t:i&&i.specified?i.value:null};u.error=function(n){throw Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=1,i=0;if(tt=!o.detectDuplicates,n.sort(kt),tt){for(;r=n[t];t++)r===n[t-1]&&(i=u.push(t));while(i--)n.splice(u[i],1)}return n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else for(;r=n[u];u++)i+=st(r);return i};r=u.selectors={cacheLength:50,createPseudo:l,match:vt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(p,w),n[3]=(n[4]||n[5]||"").replace(p,w),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[5]&&n[2];return vt.CHILD.test(n[0])?null:(n[4]?n[2]=n[4]:t&&gi.test(t)&&(i=yt(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){return"*"===n?function(){return!0}:(n=n.replace(p,w).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===n})},CLASS:function(n){var t=si[n+" "];return t||(t=RegExp("(^|"+e+")"+n+"("+e+"|$)"))&&si(n,function(n){return t.test(n.className||typeof n.getAttribute!==y&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),e="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var a,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),a=k[n]||[],y=a[0]===v&&a[1],l=a[0]===v&&a[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){k[n]=[v,y,l];break}}else if(d&&(a=(t[f]||(t[f]={}))[n])&&a[0]===v)l=a[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[v,l]),c===t))break;return l-=u,l===r||0==l%r&&l/r>=0}}},PSEUDO:function(n,t){var e,i=r.pseudos[n]||r.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return i[f]?i(t):i.length>1?(e=[n,n,"",t],r.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,r){for(var u,f=i(n,t),e=f.length;e--;)u=dt.call(n,f[e]),n[u]=!(r[u]=f[e])}):function(n){return i(n,0,e)}):i}},pseudos:{not:l(function(n){var i=[],r=[],t=bt(n.replace(at,"$1"));return t[f]?l(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return nr.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(p,w).toLowerCase(),function(t){var i;do if(i=c?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===h},focus:function(n){return n===s.activeElement&&(!s.hasFocus||s.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeName>"@"||3===n.nodeType||4===n.nodeType)return!1;return!0},parent:function(n){return!r.pseudos.empty(n)},header:function(n){return ur.test(n.nodeName)},input:function(n){return rr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||t.toLowerCase()===n.type)},first:g(function(){return[0]}),last:g(function(n,t){return[t-1]}),eq:g(function(n,t,i){return[0>i?i+t:i]}),even:g(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:g(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:g(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:g(function(n,t,i){for(var r=0>i?i+t:i;t>++r;)n.push(r);return n})}};for(nt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[nt]=or(nt);for(nt in{submit:!0,reset:!0})r.pseudos[nt]=sr(nt);bt=u.compile=function(n,t){var r,u=[],e=[],i=ci[n+" "];if(!i){for(t||(t=yt(n)),r=t.length;r--;)i=ei(t[r]),i[f]?u.push(i):e.push(i);i=ci(n,hr(e,u))}return i};r.pseudos.nth=r.pseudos.eq;r.filters=pi.prototype=r.pseudos;r.setFilters=new pi;it();u.attr=i.attr;i.find=u;i.expr=u.selectors;i.expr[":"]=i.expr.pseudos;i.unique=u.uniqueSort;i.text=u.getText;i.isXMLDoc=u.isXML;i.contains=u.contains}(n);var re=/Until$/,ue=/^(?:parents|prev(?:Until|All))/,fe=/^.[^:#\[\.,]*$/,hr=i.expr.match.needsContext,ee={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var t,r,f,u=this.length;if("string"!=typeof n)return f=this,this.pushStack(i(n).filter(function(){for(t=0;u>t;t++)if(i.contains(f[t],this))return!0}));for(r=[],t=0;u>t;t++)i.find(n,this[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=(this.selector?this.selector+" ":"")+n,r},has:function(n){var t,r=i(n,this),u=r.length;return this.filter(function(){for(t=0;u>t;t++)if(i.contains(this,r[t]))return!0})},not:function(n){return this.pushStack(lr(this,n,!1))},filter:function(n){return this.pushStack(lr(this,n,!0))},is:function(n){return!!n&&("string"==typeof n?hr.test(n)?i(n,this.context).index(this[0])>=0:i.filter(n,this).length>0:this.filter(n).length>0)},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=hr.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r.ownerDocument&&r!==t&&11!==r.nodeType;){if(e?e.index(r)>-1:i.find.matchesSelector(r,n)){u.push(r);break}r=r.parentNode}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?"string"==typeof n?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){var r="string"==typeof n?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),u=i.merge(this.get(),r);return this.pushStack(i.unique(u))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.fn.andSelf=i.fn.addBack;i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return cr(n,"nextSibling")},prev:function(n){return cr(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return re.test(n)||(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),f=this.length>1&&!ee[n]?i.unique(f):f,this.length>1&&ue.test(n)&&(f=f.reverse()),this.pushStack(f)}});i.extend({filter:function(n,t,r){return r&&(n=":not("+n+")"),1===t.length?i.find.matchesSelector(t[0],n)?[t[0]]:[]:i.find.matches(n,t)},dir:function(n,r,u){for(var e=[],f=n[r];f&&9!==f.nodeType&&(u===t||1!==f.nodeType||!i(f).is(u));)1===f.nodeType&&e.push(f),f=f[r];return e},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i}});var vr="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",oe=/ jQuery\d+="(?:null|\d+)"/g,yr=RegExp("<(?:"+vr+")[\\s/>]","i"),fi=/^\s+/,pr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wr=/<([\w:]+)/,br=/<tbody/i,se=/<|&#?\w+;/,he=/<(?:script|style|link)/i,ei=/^(?:checkbox|radio)$/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,kr=/^$|\/(?:java|ecma)script/i,le=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,e={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:i.support.htmlSerialize?[0,"",""]:[1,"X<div>","<\/div>"]},ve=ar(r),oi=ve.appendChild(r.createElement("div"));e.optgroup=e.option;e.tbody=e.tfoot=e.colgroup=e.caption=e.thead;e.th=e.td;i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(n))},null,n,arguments.length)},wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var n=this;n.firstChild&&1===n.firstChild.nodeType;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(n){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(n)})},prepend:function(){return this.domManip(arguments,!0,function(n){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(n,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,!1,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=0;null!=(r=this[f]);f++)(!n||i.filter(n,[r]).length>0)&&(t||1!==r.nodeType||i.cleanData(u(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&si(u(r,"script")),r.parentNode.removeChild(r)));return this},empty:function(){for(var n,t=0;null!=(n=this[t]);t++){for(1===n.nodeType&&i.cleanData(u(n,!1));n.firstChild;)n.removeChild(n.firstChild);n.options&&i.nodeName(n,"select")&&(n.options.length=0)}return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},f=0,o=this.length;if(n===t)return 1===r.nodeType?r.innerHTML.replace(oe,""):t;if(!("string"!=typeof n||he.test(n)||!i.support.htmlSerialize&&yr.test(n)||!i.support.leadingWhitespace&&fi.test(n)||e[(wr.exec(n)||["",""])[1].toLowerCase()])){n=n.replace(pr,"<$1><\/$2>");try{for(;o>f;f++)r=this[f]||{},1===r.nodeType&&(i.cleanData(u(r,!1)),r.innerHTML=n);r=0}catch(s){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(n){var t=i.isFunction(n);return t||"string"==typeof n||(n=i(n).not(this).detach()),this.domManip([n],!0,function(n){var r=this.nextSibling,t=this.parentNode;t&&(i(this).remove(),t.insertBefore(n,r))})},detach:function(n){return this.remove(n,!0)},domManip:function(n,r,f){n=bi.apply([],n);var c,e,l,s,y,h,o=0,a=this.length,w=this,b=a-1,v=n[0],p=i.isFunction(v);if(p||!(1>=a||"string"!=typeof v||i.support.checkClone)&&ce.test(v))return this.each(function(i){var u=w.eq(i);p&&(n[0]=v.call(this,i,r?u.html():t));u.domManip(n,r,f)});if(a&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(r=r&&i.nodeName(c,"tr"),s=i.map(u(h,"script"),dr),l=s.length;a>o;o++)e=h,o!==b&&(e=i.clone(e,!0,!0),l&&i.merge(s,u(e,"script"))),f.call(r&&i.nodeName(this[o],"table")?ye(this[o],"tbody"):this[o],e,o);if(l)for(y=s[s.length-1].ownerDocument,i.map(s,gr),o=0;l>o;o++)e=s[o],kr.test(e.type||"")&&!i._data(e,"globalEval")&&i.contains(y,e)&&(e.src?i.ajax({url:e.src,type:"GET",dataType:"script","async":!1,global:!1,throws:!0}):i.globalEval((e.text||e.textContent||e.innerHTML||"").replace(ae,"")));h=c=null}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,r=0,f=[],e=i(n),o=e.length-1;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),bt.apply(f,u.get());return this.pushStack(f)}});i.extend({clone:function(n,t,r){var f,h,o,e,s,c=i.contains(n.ownerDocument,n);if(i.support.html5Clone||i.isXMLDoc(n)||!yr.test("<"+n.nodeName+">")?o=n.cloneNode(!0):(oi.innerHTML=n.outerHTML,oi.removeChild(o=oi.firstChild)),!(i.support.noCloneEvent&&i.support.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(f=u(o),s=u(n),e=0;null!=(h=s[e]);++e)f[e]&&pe(h,f[e]);if(t)if(r)for(s=s||u(n),f=f||u(o),e=0;null!=(h=s[e]);e++)nu(h,f[e]);else nu(n,o);return f=u(o,"script"),f.length>0&&si(f,!c&&u(n,"script")),f=s=h=null,o},buildFragment:function(n,t,r,f){for(var h,o,w,s,y,p,l,b=n.length,a=ar(t),c=[],v=0;b>v;v++)if(o=n[v],o||0===o)if("object"===i.type(o))i.merge(c,o.nodeType?[o]:o);else if(se.test(o)){for(s=s||a.appendChild(t.createElement("div")),y=(wr.exec(o)||["",""])[1].toLowerCase(),l=e[y]||e._default,s.innerHTML=l[1]+o.replace(pr,"<$1><\/$2>")+l[2],h=l[0];h--;)s=s.lastChild;if(!i.support.leadingWhitespace&&fi.test(o)&&c.push(t.createTextNode(fi.exec(o)[0])),!i.support.tbody)for(o="table"!==y||br.test(o)?"<table>"!==l[1]||br.test(o)?0:s:s.firstChild,h=o&&o.childNodes.length;h--;)i.nodeName(p=o.childNodes[h],"tbody")&&!p.childNodes.length&&o.removeChild(p);for(i.merge(c,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=a.lastChild}else c.push(t.createTextNode(o));for(s&&a.removeChild(s),i.support.appendChecked||i.grep(u(c,"input"),we),v=0;o=c[v++];)if((!f||-1===i.inArray(o,f))&&(w=i.contains(o.ownerDocument,o),s=u(a.appendChild(o),"script"),w&&si(s),r))for(h=0;o=s[h++];)kr.test(o.type||"")&&r.push(o);return s=null,a},cleanData:function(n,t){for(var r,f,u,e,c=0,s=i.expando,h=i.cache,l=i.support.deleteExpando,a=i.event.special;null!=(r=n[c]);c++)if((t||i.acceptData(r))&&(u=r[s],e=u&&h[u])){if(e.events)for(f in e.events)a[f]?i.event.remove(r,f):i.removeEvent(r,f,e.handle);h[u]&&(delete h[u],l?delete r[s]:typeof r.removeAttribute!==o?r.removeAttribute(s):r[s]=null,b.push(u))}}});var rt,v,y,hi=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/,ke=/^(top|right|bottom|left)$/,de=/^(none|table(?!-c[ea]).+)/,tu=/^margin/,ge=RegExp("^("+st+")(.*)$","i"),ct=RegExp("^("+st+")(?!px)[a-z%]+$","i"),no=RegExp("^([+-])=("+st+")","i"),iu={BODY:"block"},to={position:"absolute",visibility:"hidden",display:"block"},ru={letterSpacing:0,fontWeight:400},p=["Top","Right","Bottom","Left"],uu=["Webkit","O","Moz","ms"];i.fn.extend({css:function(n,r){return i.access(this,function(n,r,u){var e,o,s={},f=0;if(i.isArray(r)){for(o=v(n),e=r.length;e>f;f++)s[r[f]]=i.css(n,r[f],!1,o);return s}return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)},show:function(){return eu(this,!0)},hide:function(){return eu(this)},toggle:function(n){var t="boolean"==typeof n;return this.each(function(){(t?n:ut(this))?i(this).show():i(this).hide()})}});i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=y(n,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:i.support.cssFloat?"cssFloat":"styleFloat"},style:function(n,r,u,f){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var o,s,e,h=i.camelCase(r),c=n.style;if(r=i.cssProps[h]||(i.cssProps[h]=fu(c,h)),e=i.cssHooks[r]||i.cssHooks[h],u===t)return e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r];if(s=typeof u,"string"===s&&(o=no.exec(u))&&(u=(o[1]+1)*o[2]+parseFloat(i.css(n,r)),s="number"),!(null==u||"number"===s&&isNaN(u)||("number"!==s||i.cssNumber[h]||(u+="px"),i.support.clearCloneStyle||""!==u||0!==r.indexOf("background")||(c[r]="inherit"),e&&"set"in e&&(u=e.set(n,u,f))===t)))try{c[r]=u}catch(l){}}},css:function(n,r,u,f){var h,e,o,s=i.camelCase(r);return r=i.cssProps[s]||(i.cssProps[s]=fu(n.style,s)),o=i.cssHooks[r]||i.cssHooks[s],o&&"get"in o&&(e=o.get(n,!0,u)),e===t&&(e=y(n,r,f)),"normal"===e&&r in ru&&(e=ru[r]),""===u||u?(h=parseFloat(e),u===!0||i.isNumeric(h)?h||0:e):e},swap:function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f}});n.getComputedStyle?(v=function(t){return n.getComputedStyle(t,null)},y=function(n,r,u){var s,h,c,o=u||v(n),e=o?o.getPropertyValue(r)||o[r]:t,f=n.style;return o&&(""!==e||i.contains(n.ownerDocument,n)||(e=i.style(n,r)),ct.test(e)&&tu.test(r)&&(s=f.width,h=f.minWidth,c=f.maxWidth,f.minWidth=f.maxWidth=f.width=e,e=o.width,f.width=s,f.minWidth=h,f.maxWidth=c)),e}):r.documentElement.currentStyle&&(v=function(n){return n.currentStyle},y=function(n,i,r){var s,e,o,h=r||v(n),u=h?h[i]:t,f=n.style;return null==u&&f&&f[i]&&(u=f[i]),ct.test(u)&&!ke.test(i)&&(s=f.left,e=n.runtimeStyle,o=e&&e.left,o&&(e.left=n.currentStyle.left),f.left="fontSize"===i?"1em":u,u=f.pixelLeft+"px",f.left=s,o&&(e.left=o)),""===u?"auto":u});i.each(["height","width"],function(n,r){i.cssHooks[r]={get:function(n,u,f){return u?0===n.offsetWidth&&de.test(i.css(n,"display"))?i.swap(n,to,function(){return hu(n,r,f)}):hu(n,r,f):t},set:function(n,t,u){var f=u&&v(n);return ou(n,t,u?su(n,r,u,i.support.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,f),f):0)}}});i.support.opacity||(i.cssHooks.opacity={get:function(n,t){return be.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+100*t+")":"",f=u&&u.filter||r.filter||"";r.zoom=1;(t>=1||""===t)&&""===i.trim(f.replace(hi,""))&&r.removeAttribute&&(r.removeAttribute("filter"),""===t||u&&!u.filter)||(r.filter=hi.test(f)?f.replace(hi,e):f+" "+e)}});i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,r){return r?i.swap(n,{display:"inline-block"},y,[n,"marginRight"]):t}});!i.support.pixelPosition&&i.fn.position&&i.each(["top","left"],function(n,r){i.cssHooks[r]={get:function(n,u){return u?(u=y(n,r),ct.test(u)?i(n).position()[r]+"px":u):t}}})});i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){return 0>=n.offsetWidth&&0>=n.offsetHeight||!i.support.reliableHiddenOffsets&&"none"===(n.style&&n.style.display||i.css(n,"display"))},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+p[r]+t]=u[r]||u[r-2]||u[0];return f}};tu.test(n)||(i.cssHooks[n+t].set=ou)});var io=/%20/g,ro=/\[\]$/,au=/\r?\n/g,uo=/^(?:submit|button|image|reset|file)$/i,fo=/^(?:input|select|textarea|keygen)/i;i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&fo.test(this.nodeName)&&!uo.test(n)&&(this.checked||!ei.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(au,"\r\n")}}):{name:t.name,value:r.replace(au,"\r\n")}}).get()}});i.param=function(n,r){var u,f=[],e=function(n,t){t=i.isFunction(t)?t():null==t?"":t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(r===t&&(r=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(u in n)ci(u,n[u],r,e);return f.join("&").replace(io,"+")};i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.hover=function(n,t){return this.mouseenter(n).mouseleave(t||n)};var w,c,li=i.now(),ai=/\?/,eo=/#.*$/,vu=/([?&])_=[^&]*/,oo=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,so=/^(?:GET|HEAD)$/,ho=/^\/\//,yu=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,pu=i.fn.load,wu={},vi={},bu="*/".concat("*");try{c=ff.href}catch(go){c=r.createElement("a");c.href="";c=c.href}w=yu.exec(c.toLowerCase())||[];i.fn.load=function(n,r,u){if("string"!=typeof n&&pu)return pu.apply(this,arguments);var f,s,h,e=this,o=n.indexOf(" ");return o>=0&&(f=n.slice(o,n.length),n=n.slice(0,o)),i.isFunction(r)?(u=r,r=t):r&&"object"==typeof r&&(h="POST"),e.length>0&&i.ajax({url:n,type:h,dataType:"html",data:r}).done(function(n){s=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).complete(u&&function(n,t){e.each(u,s||[n.responseText,t,n])}),this};i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({url:n,type:r,dataType:e,data:u,success:f})}});i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:c,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(w[1]),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":n.String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?yi(yi(n,i.ajaxSettings),t):yi(i.ajaxSettings,n)},ajaxPrefilter:ku(wu),ajaxTransport:ku(vi),ajax:function(n,r){function k(n,r,s,c){var l,k,w,rt,p,a=r;2!==o&&(o=2,g&&clearTimeout(g),y=t,d=c||"",f.readyState=n>0?4:0,s&&(rt=co(u,f,s)),n>=200&&300>n||304===n?(u.ifModified&&(p=f.getResponseHeader("Last-Modified"),p&&(i.lastModified[e]=p),p=f.getResponseHeader("etag"),p&&(i.etag[e]=p)),204===n?(l=!0,a="nocontent"):304===n?(l=!0,a="notmodified"):(l=lo(u,rt),a=l.state,k=l.data,w=l.error,l=!w)):(w=a,(n||!a)&&(a="error",0>n&&(n=0))),f.status=n,f.statusText=(r||a)+"",l?tt.resolveWith(h,[k,a,f]):tt.rejectWith(h,[f,a,w]),f.statusCode(b),b=t,v&&nt.trigger(l?"ajaxSuccess":"ajaxError",[f,u,l?k:w]),it.fireWith(h,[f,a]),v&&(nt.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof n&&(r=n,n=t);r=r||{};var l,a,e,d,g,v,y,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),b=u.statusCode||{},rt={},ut={},o=0,ft="canceled",f={readyState:0,getResponseHeader:function(n){var t;if(2===o){if(!p)for(p={};t=oo.exec(d);)p[t[1].toLowerCase()]=t[2];t=p[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===o?d:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return o||(n=ut[i]=ut[i]||n,rt[n]=t),this},overrideMimeType:function(n){return o||(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>o)for(t in n)b[t]=[b[t],n[t]];else f.always(n[f.status]);return this},abort:function(n){var t=n||ft;return y&&y.abort(t),k(0,t),this}};if(tt.promise(f).complete=it.add,f.success=f.done,f.error=f.fail,u.url=((n||u.url||c)+"").replace(eo,"").replace(ho,w[1]+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=i.trim(u.dataType||"*").toLowerCase().match(s)||[""],null==u.crossDomain&&(l=yu.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===w[1]&&l[2]===w[2]&&(l[3]||("http:"===l[1]?80:443))==(w[3]||("http:"===w[1]?80:443)))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),du(wu,u,r,f),2===o)return f;v=u.global;v&&0==i.active++&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!so.test(u.type);e=u.url;u.hasContent||(u.data&&(e=u.url+=(ai.test(e)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=vu.test(e)?e.replace(vu,"$1_="+li++):e+(ai.test(e)?"&":"?")+"_="+li++));u.ifModified&&(i.lastModified[e]&&f.setRequestHeader("If-Modified-Since",i.lastModified[e]),i.etag[e]&&f.setRequestHeader("If-None-Match",i.etag[e]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+bu+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)f.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(h,f,u)===!1||2===o))return f.abort();ft="abort";for(a in{success:1,error:1,complete:1})f[a](u[a]);if(y=du(vi,u,r,f)){f.readyState=1;v&&nt.trigger("ajaxSend",[f,u]);u.async&&u.timeout>0&&(g=setTimeout(function(){f.abort("timeout")},u.timeout));try{o=1;y.send(rt,k)}catch(et){if(!(2>o))throw et;k(-1,et)}}else k(-1,"No Transport");return f},getScript:function(n,r){return i.get(n,t,r,"script")},getJSON:function(n,t,r){return i.get(n,t,r,"json")}});i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}});i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)});i.ajaxTransport("script",function(n){if(n.crossDomain){var u,f=r.head||i("head")[0]||r.documentElement;return{send:function(t,i){u=r.createElement("script");u.async=!0;n.scriptCharset&&(u.charset=n.scriptCharset);u.src=n.url;u.onload=u.onreadystatechange=function(n,t){(t||!u.readyState||/loaded|complete/.test(u.readyState))&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),u=null,t||i(200,"success"))};f.insertBefore(u,f.firstChild)},abort:function(){u&&u.onload(t,!0)}}}});pi=[];lt=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=pi.pop()||i.expando+"_"+li++;return this[n]=!0,n}});i.ajaxPrefilter("json jsonp",function(r,u,f){var e,s,o,h=r.jsonp!==!1&&(lt.test(r.url)?"url":"string"==typeof r.data&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&lt.test(r.data)&&"data");return h||"jsonp"===r.dataTypes[0]?(e=r.jsonpCallback=i.isFunction(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,h?r[h]=r[h].replace(lt,"$1"+e):r.jsonp!==!1&&(r.url+=(ai.test(r.url)?"&":"?")+r.jsonp+"="+e),r.converters["script json"]=function(){return o||i.error(e+" was not called"),o[0]},r.dataTypes[0]="json",s=n[e],n[e]=function(){o=arguments},f.always(function(){n[e]=s;r[e]&&(r.jsonpCallback=u.jsonpCallback,pi.push(e));o&&i.isFunction(s)&&s(o[0]);o=s=t}),"script"):t});gu=0;at=n.ActiveXObject&&function(){for(var n in g)g[n](t,!0)};i.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&nf()||ao()}:nf;nt=i.ajaxSettings.xhr();i.support.cors=!!nt&&"withCredentials"in nt;nt=i.support.ajax=!!nt;nt&&i.ajaxTransport(function(r){if(!r.crossDomain||i.support.cors){var u;return{send:function(f,e){var h,s,o=r.xhr();if(r.username?o.open(r.type,r.url,r.async,r.username,r.password):o.open(r.type,r.url,r.async),r.xhrFields)for(s in r.xhrFields)o[s]=r.xhrFields[s];r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType);r.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(s in f)o.setRequestHeader(s,f[s])}catch(c){}o.send(r.hasContent&&r.data||null);u=function(n,f){var s,a,l,c;try{if(u&&(f||4===o.readyState))if(u=t,h&&(o.onreadystatechange=i.noop,at&&delete g[h]),f)4!==o.readyState&&o.abort();else{c={};s=o.status;a=o.getAllResponseHeaders();"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(y){l=""}s||!r.isLocal||r.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(v){f||e(-1,v)}c&&e(s,l,c,a)};r.async?4===o.readyState?setTimeout(u):(h=++gu,at&&(g||(g={},i(n).unload(at)),g[h]=u),o.onreadystatechange=u):u()},abort:function(){u&&u(t,!0)}}}});var tt,vt,vo=/^(?:toggle|show|hide)$/,yo=RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),po=/queueHooks$/,yt=[ko],ft={"*":[function(n,t){var o,s,r=this.createTween(n,t),e=yo.exec(t),h=r.cur(),u=+h||0,f=1,c=20;if(e){if(o=+e[2],s=e[3]||(i.cssNumber[n]?"":"px"),"px"!==s&&u){u=i.css(r.elem,n,!0)||o||1;do f=f||".5",u/=f,i.style(r.elem,n,u+s);while(f!==(f=r.cur()/h)&&1!==f&&--c)}r.unit=s;r.start=u;r.end=e[1]?u+(e[1]+1)*o:o}return r}]};i.Animation=i.extend(rf,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;f>u;u++)r=n[u],ft[r]=ft[r]||[],ft[r].unshift(t)},prefilter:function(n,t){t?yt.unshift(n):yt.push(n)}});i.Tween=f;f.prototype={constructor:f,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=f.propHooks[this.prop];return n&&n.get?n.get(this):f.propHooks._default.get(this)},run:function(n){var r,t=f.propHooks[this.prop];return this.pos=r=this.options.duration?i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):n,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):f.propHooks._default.set(this),this}};f.prototype.init.prototype=f.prototype;f.propHooks={_default:{get:function(n){var t;return null==n.elem[n.prop]||n.elem.style&&null!=n.elem.style[n.prop]?(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0):n.elem[n.prop]},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(null!=n.elem.style[i.cssProps[n.prop]]||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};f.propHooks.scrollTop=f.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(pt(t,!0),n,i,u)}});i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){var o=i.isEmptyObject(n),e=i.speed(t,r,u),f=function(){var t=rf(this,i.extend({},n),e);f.finish=function(){t.stop(!0)};(o||i._data(this,"finish"))&&t.stop(!0)};return f.finish=f,o||e.queue===!1?this.each(f):this.queue(e.queue,f)},stop:function(n,r,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=r,r=n,n=t),r&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var o=!0,t=null!=n&&n+"queueHooks",e=i.timers,r=i._data(this);if(t)r[t]&&r[t].stop&&f(r[t]);else for(t in r)r[t]&&r[t].stop&&po.test(t)&&f(r[t]);for(t=e.length;t--;)e[t].elem!==this||null!=n&&e[t].queue!==n||(e[t].anim.stop(u),o=!1,e.splice(t,1));(o||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,f=i._data(this),r=f[n+"queue"],e=f[n+"queueHooks"],u=i.timers,o=r?r.length:0;for(f.finish=!0,i.queue(this,n,[]),e&&e.cur&&e.cur.finish&&e.cur.finish.call(this),t=u.length;t--;)u[t].elem===this&&u[t].queue===n&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete f.finish})}});i.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(null==u.queue||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.timers=[];i.fx=f.prototype.init;i.fx.tick=function(){var u,n=i.timers,r=0;for(tt=i.now();n.length>r;r++)u=n[r],u()||n[r]!==u||n.splice(r--,1);n.length||i.fx.stop();tt=t};i.fx.timer=function(n){n()&&i.timers.push(n)&&i.fx.start()};i.fx.interval=13;i.fx.start=function(){vt||(vt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(vt);vt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fx.step={};i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length});i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,e,f={top:0,left:0},u=this[0],s=u&&u.ownerDocument;if(s)return r=s.documentElement,i.contains(r,u)?(typeof u.getBoundingClientRect!==o&&(f=u.getBoundingClientRect()),e=uf(s),{top:f.top+(e.pageYOffset||r.scrollTop)-(r.clientTop||0),left:f.left+(e.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}):f};i.offset={setOffset:function(n,t,r){var f=i.css(n,"position");"static"===f&&(n.style.position="relative");var e=i(n),o=e.offset(),l=i.css(n,"top"),a=i.css(n,"left"),v=("absolute"===f||"fixed"===f)&&i.inArray("auto",[l,a])>-1,u={},s={},h,c;v?(s=e.position(),h=s.top,c=s.left):(h=parseFloat(l)||0,c=parseFloat(a)||0);i.isFunction(t)&&(t=t.call(n,r,o));null!=t.top&&(u.top=t.top-o.top+h);null!=t.left&&(u.left=t.left-o.left+c);"using"in t?t.using.call(n,u):e.css(u)}};i.fn.extend({position:function(){if(this[0]){var n,r,t={top:0,left:0},u=this[0];return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||r.documentElement;n&&!i.nodeName(n,"html")&&"static"===i.css(n,"position");)n=n.offsetParent;return n||r.documentElement})}});i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var u=/Y/.test(r);i.fn[n]=function(f){return i.access(this,function(n,f,e){var o=uf(n);return e===t?o?r in o?o[r]:o.document.documentElement[f]:n[f]:(o?o.scrollTo(u?i(o).scrollLeft():e,u?e:i(o).scrollTop()):n[f]=e,t)},n,f,arguments.length,null)}});i.each({Height:"height",Width:"width"},function(n,r){i.each({padding:"inner"+n,content:r,"":"outer"+n},function(u,f){i.fn[f]=function(f,e){var o=arguments.length&&(u||"boolean"!=typeof f),s=u||(f===!0||e===!0?"margin":"border");return i.access(this,function(r,u,f){var e;return i.isWindow(r)?r.document.documentElement["client"+n]:9===r.nodeType?(e=r.documentElement,Math.max(r.body["scroll"+n],e["scroll"+n],r.body["offset"+n],e["offset"+n],e["client"+n])):f===t?i.css(r,u,s):i.style(r,u,f,s)},r,o?f:t,o,null)}})});n.jQuery=n.$=i;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return i})})(window),function(n){var o=function(n,t){typeof t=="undefined"&&(t={});this.init(n,t)},t=o.prototype,f,e=["canvas","vml"],i=["oval","spiral","square","rect","roundRect"],a=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,c=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8?!0:!1,v=!!document.createElement("canvas").getContext,l=!0,u=function(n,t,i){var n=document.createElement(n);for(var r in i)n[r]=i[r];return typeof t!="undefined"&&t.appendChild(n),n},r=function(n,t){for(var i in t)n.style[i]=t[i];return n},s=function(n,t){for(var i in t)n.setAttribute(i,t[i]);return n},h=function(n,t,i,r){n.save();n.translate(t,i);n.rotate(r);n.translate(-t,-i);n.beginPath()};t.init=function(n,t){typeof t.safeVML=="boolean"&&(l=t.safeVML);try{this.mum=document.getElementById(n)!==void 0?document.getElementById(n):document.body}catch(h){this.mum=document.body}if(t.id=typeof t.id!="undefined"?t.id:"canvasLoader",this.cont=u("div",this.mum,{id:t.id}),v)f=e[0],this.can=u("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=r(u("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(f=e[1],typeof o.vmlSheet=="undefined"){document.getElementsByTagName("head")[0].appendChild(u("style"));o.vmlSheet=document.styleSheets[document.styleSheets.length-1];var i=["group","oval","roundrect","fill"];for(var s in i)o.vmlSheet.addRule(i[s],"behavior:url(#default#VML); position:absolute;")}this.vml=u("group",this.cont)}this.setColor(this.color);this.draw();r(this.cont,{display:"none"})};t.cont={};t.can={};t.con={};t.cCan={};t.cCon={};t.timer={};t.activeId=0;t.diameter=40;t.setDiameter=function(n){this.diameter=Math.round(Math.abs(n));this.redraw()};t.getDiameter=function(){return this.diameter};t.cRGB={};t.color="#000000";t.setColor=function(n){this.color=a.test(n)?n:"#000000";this.cRGB=this.getRGB(this.color);this.redraw()};t.getColor=function(){return this.color};t.shape=i[0];t.setShape=function(n){for(var t in i)if(n===i[t]){this.shape=n;this.redraw();break}};t.getShape=function(){return this.shape};t.density=40;t.setDensity=function(n){this.density=l&&f===e[1]?Math.round(Math.abs(n))<=40?Math.round(Math.abs(n)):40:Math.round(Math.abs(n));this.density>360&&(this.density=360);this.activeId=0;this.redraw()};t.getDensity=function(){return this.density};t.range=1.3;t.setRange=function(n){this.range=Math.abs(n);this.redraw()};t.getRange=function(){return this.range};t.speed=2;t.setSpeed=function(n){this.speed=Math.round(Math.abs(n))};t.getSpeed=function(){return this.speed};t.fps=24;t.setFPS=function(n){this.fps=Math.round(Math.abs(n));this.reset()};t.getFPS=function(){return this.fps};t.getRGB=function(n){return n=n.charAt(0)==="#"?n.substring(1,7):n,{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16)}};t.draw=function(){var w=0,t,y,n,l,a,d,p,k=this.density,g=Math.round(k*this.range),b,v,nt=0,o;if(v=this.cCon,o=this.diameter,f===e[0])for(v.clearRect(0,0,1e3,1e3),s(this.can,{width:o,height:o}),s(this.cCan,{width:o,height:o});w<k;){b=w<=g?1-1/g*w:b=0;d=270-360/k*w;p=d/180*Math.PI;v.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+b.toString()+")";switch(this.shape){case i[0]:case i[1]:t=o*.07;l=o*.47+Math.cos(p)*(o*.47-t)-o*.47;a=o*.47+Math.sin(p)*(o*.47-t)-o*.47;v.beginPath();this.shape===i[1]?v.arc(o*.5+l,o*.5+a,t*b,0,Math.PI*2,!1):v.arc(o*.5+l,o*.5+a,t,0,Math.PI*2,!1);break;case i[2]:t=o*.12;l=Math.cos(p)*(o*.47-t)+o*.5;a=Math.sin(p)*(o*.47-t)+o*.5;h(v,l,a,p);v.fillRect(l,a-t*.5,t,t);break;case i[3]:case i[4]:y=o*.3;n=y*.27;l=Math.cos(p)*(n+(o-n)*.13)+o*.5;a=Math.sin(p)*(n+(o-n)*.13)+o*.5;h(v,l,a,p);this.shape===i[3]?v.fillRect(l,a-n*.5,y,n):(t=n*.55,v.moveTo(l+t,a-n*.5),v.lineTo(l+y-t,a-n*.5),v.quadraticCurveTo(l+y,a-n*.5,l+y,a-n*.5+t),v.lineTo(l+y,a-n*.5+n-t),v.quadraticCurveTo(l+y,a-n*.5+n,l+y-t,a-n*.5+n),v.lineTo(l+t,a-n*.5+n),v.quadraticCurveTo(l,a-n*.5+n,l,a-n*.5+n-t),v.lineTo(l,a-n*.5+t),v.quadraticCurveTo(l,a-n*.5,l+t,a-n*.5))}v.closePath();v.fill();v.restore();++w}else{r(this.cont,{width:o,height:o});r(this.vml,{width:o,height:o});switch(this.shape){case i[0]:case i[1]:p="oval";t=140;break;case i[2]:p="roundrect";t=120;break;case i[3]:case i[4]:p="roundrect";t=300}for(y=n=t,l=500-n,a=-n*.5;w<k;){b=w<=g?1-1/g*w:b=0;d=270-360/k*w;switch(this.shape){case i[1]:y=n=t*b;l=500-t*.5-t*b*.5;a=(t-t*b)*.5;break;case i[0]:case i[2]:c&&(a=0,this.shape===i[2]&&(l=500-n*.5));break;case i[3]:case i[4]:y=t*.95;n=y*.28;c?(l=0,a=500-n*.5):(l=500-y,a=-n*.5);nt=this.shape===i[4]?.6:0}v=s(r(u("group",this.vml),{width:1e3,height:1e3,rotation:d}),{coordsize:"1000,1000",coordorigin:"-500,-500"});v=r(u(p,v,{stroked:!1,arcSize:nt}),{width:y,height:n,top:a,left:l});u("fill",v,{color:this.color,opacity:b});++w}}this.tick(!0)};t.clean=function(){if(f===e[0])this.con.clearRect(0,0,1e3,1e3);else{var n=this.vml;if(n.hasChildNodes())for(;n.childNodes.length>=1;)n.removeChild(n.firstChild)}};t.redraw=function(){this.clean();this.draw()};t.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())};t.tick=function(n){var i=this.con,t=this.diameter;n||(this.activeId+=360/this.density*this.speed);f===e[0]?(i.clearRect(0,0,t,t),h(i,t*.5,t*.5,this.activeId/180*Math.PI),i.drawImage(this.cCan,0,0,t,t),i.restore()):(this.activeId>=360&&(this.activeId-=360),r(this.vml,{rotation:this.activeId}))};t.show=function(){if(typeof this.timer!="number"){var n=this;this.timer=self.setInterval(function(){n.tick()},Math.round(1e3/this.fps));r(this.cont,{display:"block"})}};t.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,r(this.cont,{display:"none"}))};t.kill=function(){var n=this.cont,t;typeof this.timer=="number"&&this.hide();f===e[0]?(n.removeChild(this.can),n.removeChild(this.cCan)):n.removeChild(this.vml);for(t in this)delete this[t]};n.CanvasLoader=o}(window),function(n){function i(n){return typeof n=="object"?n:{top:n,left:n}}var t=n.scrollTo=function(t,i,r){n(window).scrollTo(t,i,r)};t.defaults={axis:"xy",duration:parseFloat(n.fn.jquery)>=1.3?0:1};t.window=function(){return n(window)._scrollable()};n.fn._scrollable=function(){return this.map(function(){var t=this,r=!t.nodeName||n.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1,i;return r?(i=(t.contentWindow||t).document||t.ownerDocument||t,n.browser.safari||i.compatMode=="BackCompat"?i.body:i.documentElement):t})};n.fn.scrollTo=function(r,u,f){return typeof u=="object"&&(f=u,u=0),typeof f=="function"&&(f={onAfter:f}),r=="max"&&(r=9e9),f=n.extend({},t.defaults,f),u=u||f.speed||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(u/=2),f.offset=i(f.offset),f.over=i(f.over),this._scrollable().each(function(){function l(n){h.animate(o,u,f.easing,n&&function(){n.call(this,r,f)})}var s=this,h=n(s),e=r,c,o={},a=h.is("html,body");switch(typeof e){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(e)){e=i(e);break}e=n(e,this);case"object":(e.is||e.style)&&(c=(e=n(e)).offset())}n.each(f.axis.split(""),function(n,i){var y=i=="x"?"Left":"Top",u=y.toLowerCase(),r="scroll"+y,p=s[r],w=t.max(s,i),v;c?(o[r]=c[u]+(a?0:p-h.offset()[u]),f.margin&&(o[r]-=parseInt(e.css("margin"+y))||0,o[r]-=parseInt(e.css("border"+y+"Width"))||0),o[r]+=f.offset[u]||0,f.over[u]&&(o[r]+=e[i=="x"?"width":"height"]()*f.over[u])):(v=e[u],v&&(o[r]=v.slice&&v.slice(-1)=="%"?parseFloat(v)/100*w:v));/^\d+$/.test(o[r])&&(o[r]=o[r]<=0?0:Math.min(o[r],w));!n&&f.queue&&(p!=o[r]&&l(f.onAfterFirst),delete o[r])});l(f.onAfter)}).end()};t.max=function(t,i){var r=i=="x"?"Width":"Height",u="scroll"+r;if(!n(t).is("html,body"))return t[u]-n(t)[r.toLowerCase()]();var f="client"+r,e=t.ownerDocument.documentElement,o=t.ownerDocument.body;return Math.max(e[u],o[u])-Math.min(e[f],o[f])}}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){var i=[],e=n(document),r=navigator.userAgent.toLowerCase(),u=n(window),t=[],o=null,s=/msie/.test(r)&&!/opera/.test(r),h=/opera/.test(r),f,c,l;f=s&&/msie 6./.test(r)&&"object"!=typeof XMLHttpRequest;c=s&&/msie 7.0/.test(r);l="CSS1Compat"===document.compatMode;n.smodal=function(t,i){return n.smodal.impl.init(t,i)};n.smodal.close=function(){n.smodal.impl.close()};n.smodal.focus=function(t){n.smodal.impl.focus(t)};n.smodal.setContainerDimensions=function(){n.smodal.impl.setContainerDimensions()};n.smodal.setPosition=function(){n.smodal.impl.setPosition()};n.smodal.update=function(t,i){n.smodal.impl.update(t,i)};n.fn.smodal=function(t){return n.smodal.impl.init(this,t)};n.smodal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"><\/a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null};n.smodal.impl={d:{},init:function(t,i){if(this.d.data)return!1;if(o=s&&!l,this.o=n.extend({},n.smodal.defaults,i),this.zIndex=this.o.zIndex,this.occb=!1,"object"==typeof t)(t=t instanceof n?t:n(t),this.d.placeholder=!1,0<t.parent().parent().size()&&(t.before(n("<span><\/span>").attr("id","simplemodal-placeholder").css({display:"none"})),this.d.placeholder=!0,this.display=t.css("display"),!this.o.persist))&&(this.d.orig=t.clone(!0));else if("string"==typeof t||"number"==typeof t)t=n("<div><\/div>").html(t);else return alert("SimpleModal Error: Unsupported data type: "+typeof t),this;return this.create(t),this.open(),n.isFunction(this.o.onShow)&&this.o.onShow.apply(this,[this.d]),this},create:function(r){this.getDimensions();this.o.modal&&f&&(this.d.iframe=n('<iframe src="javascript:false;"><\/iframe>').css(n.extend(this.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:t[0],width:t[1],zIndex:this.o.zIndex,top:0,left:0})).appendTo(this.o.appendTo));this.d.overlay=n("<div><\/div>").attr("id",this.o.overlayId).addClass("simplemodal-overlay").css(n.extend(this.o.overlayCss,{display:"none",opacity:this.o.opacity/100,height:this.o.modal?i[0]:0,width:this.o.modal?i[1]:0,position:"fixed",left:0,top:0,zIndex:this.o.zIndex+1})).appendTo(this.o.appendTo);this.d.container=n("<div><\/div>").attr("id",this.o.containerId).addClass("simplemodal-container").css(n.extend({position:this.o.fixed?"fixed":"absolute"},this.o.containerCss,{display:"none",zIndex:this.o.zIndex+2})).append(this.o.close&&this.o.closeHTML?n(this.o.closeHTML).addClass(this.o.closeClass):"").appendTo(this.o.appendTo);this.d.wrap=n("<div><\/div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(this.d.container);this.d.data=r.attr("id",r.attr("id")||this.o.dataId).addClass("simplemodal-data").css(n.extend(this.o.dataCss,{display:"none"})).appendTo("body");this.setContainerDimensions();this.d.data.appendTo(this.d.wrap);(f||o)&&this.fixIE()},bindEvents:function(){var r=this;n("."+r.o.closeClass).bind("click.simplemodal",function(n){n.preventDefault();r.close()});r.o.modal&&r.o.close&&r.o.overlayClose&&r.d.overlay.bind("click.simplemodal",function(n){n.preventDefault();r.close()});e.bind("keydown.simplemodal",function(n){r.o.modal&&9===n.keyCode?r.watchTab(n):r.o.close&&r.o.escClose&&27===n.keyCode&&(n.preventDefault(),r.close())});u.bind("resize.simplemodal orientationchange.simplemodal",function(){r.getDimensions();r.o.autoResize?r.setContainerDimensions():r.o.autoPosition&&r.setPosition();f||o?r.fixIE():r.o.modal&&(r.d.iframe&&r.d.iframe.css({height:t[0],width:t[1]}),r.d.overlay.css({height:i[0],width:i[1]}))})},unbindEvents:function(){n("."+this.o.closeClass).unbind("click.simplemodal");e.unbind("keydown.simplemodal");u.unbind(".simplemodal");this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var t=this.o.position;n.each([this.d.iframe||null,this.o.modal?this.d.overlay:null,"fixed"===this.d.container.css("position")?this.d.container:null],function(i,r){var e,u,f;r&&(e=r[0].style,e.position="absolute",2>i?(u=eval("document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight")+"px",f=eval("document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth")+"px",n(e).height(u),n(e).width(f)):(t&&t.constructor===Array?(u=t[0]?"number"==typeof t[0]?t[0].toString():t[0].replace(/px/,""):r.css("top").replace(/px/,""),u=-1===u.indexOf("%")?u+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(u.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',t[1]&&(f="number"==typeof t[1]?t[1].toString():t[1].replace(/px/,""),f=-1===f.indexOf("%")?f+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(f.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(u='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',f='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"'),n(e).css("top",eval(u)),n(e).css("left",eval(f))))})},focus:function(t){var i=this,t=t&&-1!==n.inArray(t,["first","last"])?t:"first",r=n(":input:enabled:visible:"+t,i.d.wrap);setTimeout(function(){0<r.length?r.focus():i.d.wrap.focus()},10)},getDimensions:function(){var n="undefined"==typeof innerHeight?u.height():window.innerHeight;i=[e.height(),e.width()];t=[n,u.width()]},getVal:function(n,i){return n?"number"==typeof n?n:"auto"===n?0:0<n.indexOf("%")?parseInt(n.replace(/%/,""))/100*("h"===i?t[0]:t[1]):parseInt(n.replace(/px/,"")):null},update:function(n,t){if(!this.d.data)return!1;this.d.origHeight=this.getVal(n,"h");this.d.origWidth=this.getVal(t,"w");this.d.data.hide();n&&this.d.container.css("height",n);t&&this.d.container.css("width",t);this.setContainerDimensions();this.d.data.show();this.o.focus&&this.focus();this.unbindEvents();this.bindEvents()},setContainerDimensions:function(){var i=f||c,r=this.d.origHeight?this.d.origHeight:h?this.d.container.height():this.getVal(i?this.d.container[0].currentStyle.height:this.d.container.css("height"),"h"),i=this.d.origWidth?this.d.origWidth:h?this.d.container.width():this.getVal(i?this.d.container[0].currentStyle.width:this.d.container.css("width"),"w"),o=this.d.data.outerHeight(!0),s=this.d.data.outerWidth(!0);this.d.origHeight=this.d.origHeight||r;this.d.origWidth=this.d.origWidth||i;var n=this.o.maxHeight?this.getVal(this.o.maxHeight,"h"):null,u=this.o.maxWidth?this.getVal(this.o.maxWidth,"w"):null,n=n&&n<t[0]?n:t[0],u=u&&u<t[1]?u:t[1],e=this.o.minHeight?this.getVal(this.o.minHeight,"h"):"auto",r=r?this.o.autoResize&&r>n?n:r<e?e:r:o?o>n?n:this.o.minHeight&&"auto"!==e&&o<e?e:o:e,n=this.o.minWidth?this.getVal(this.o.minWidth,"w"):"auto",i=i?this.o.autoResize&&i>u?u:i<n?n:i:s?s>u?u:this.o.minWidth&&"auto"!==n&&s<n?n:s:n;this.d.container.css({height:r,width:i});this.d.wrap.css({overflow:o>r||s>i?"auto":"visible"});this.o.autoPosition&&this.setPosition()},setPosition:function(){var n,i,r;n=t[0]/2-this.d.container.outerHeight(!0)/2;i=t[1]/2-this.d.container.outerWidth(!0)/2;r="fixed"!==this.d.container.css("position")?u.scrollTop():0;this.o.position&&"[object Array]"===Object.prototype.toString.call(this.o.position)?(n=parseFloat(r)+parseFloat(this.o.position[0]||n),i=this.o.position[1]||i):n=r+n;this.d.container.css({left:i,top:n})},watchTab:function(t){0<n(t.target).parents(".simplemodal-container").length?(this.inputs=n(":input:enabled:visible:first, :input:enabled:visible:last",this.d.data[0]),!t.shiftKey&&t.target===this.inputs[this.inputs.length-1]||t.shiftKey&&t.target===this.inputs[0]||0===this.inputs.length)&&(t.preventDefault(),this.focus(t.shiftKey?"last":"first")):(t.preventDefault(),this.focus())},open:function(){this.d.iframe&&this.d.iframe.show();n.isFunction(this.o.onOpen)?this.o.onOpen.apply(this,[this.d]):(this.d.overlay.show(),this.d.container.show(),this.d.data.show());this.o.focus&&this.focus();this.bindEvents()},close:function(){if(!this.d.data)return!1;if(this.unbindEvents(),n.isFunction(this.o.onClose)&&!this.occb)this.occb=!0,this.o.onClose.apply(this,[this.d]);else{if(this.d.placeholder){var t=n("#simplemodal-placeholder");this.o.persist?t.replaceWith(this.d.data.removeClass("simplemodal-data").css("display",this.display)):(this.d.data.hide().remove(),t.replaceWith(this.d.orig))}else this.d.data.hide().remove();this.d.container.hide().remove();this.d.overlay.hide();this.d.iframe&&this.d.iframe.hide().remove();this.d.overlay.remove();this.d={}}}}}),function(n,t,i){n.fn.jScrollPane=function(r){function u(r,u){function li(t){var u,d,g,c,p,w,nt=!1,tt=!1;if(f=t,o===i)p=r.scrollTop(),w=r.scrollLeft(),r.css({overflow:"hidden",padding:0}),h=r.innerWidth()+ht,s=r.innerHeight(),r.width(h),o=n('<div class="jspPane" />').css("padding",yi).append(r.children()),e=n('<div class="jspContainer" />').css({width:h+"px",height:s+"px"}).append(o).appendTo(r);else{if(r.css("width",""),nt=f.stickToBottom&&or(),tt=f.stickToRight&&sr(),c=r.innerWidth()+ht!=h||r.outerHeight()!=s,c&&(h=r.innerWidth()+ht,s=r.innerHeight(),e.css({width:h+"px",height:s+"px"})),!c&&pi==y&&o.outerHeight()==v){r.width(h);return}pi=y;o.css("width","");r.width(h);e.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}o.css("overflow","auto");y=t.contentWidth?t.contentWidth:o[0].scrollWidth;v=o[0].scrollHeight;o.css("overflow","");oi=y/h;gt=v/s;k=gt>1;b=oi>1;b||k?(r.addClass("jspScrollable"),u=f.maintainPosition&&(l||a),u&&(d=et(),g=ot()),nr(),tr(),ir(),u&&(yt(tt?y-h:d,!1),ft(nt?v-s:g,!1)),lr(),hr(),br(),f.enableKeyboardNavigation&&vr(),f.clickOnTrack&&ur(),pr(),f.hijackInternalLinks&&wr()):(r.removeClass("jspScrollable"),o.css({top:0,width:e.width()-ht}),cr(),ar(),yr(),di());f.autoReinitialise&&!at?at=setInterval(function(){li(f)},f.autoReinitialiseDelay):!f.autoReinitialise&&at&&clearInterval(at);p&&r.scrollTop(0)&&ft(p,!1);w&&r.scrollLeft(0)&&yt(w,!1);r.trigger("jsp-initialised",[b||k])}function nr(){k&&(e.append(n('<div class="jspVerticalBar" />').append(n('<div class="jspCap jspCapTop" />'),n('<div class="jspTrack" />').append(n('<div class="jspDrag" />').append(n('<div class="jspDragTop" />'),n('<div class="jspDragBottom" />'))),n('<div class="jspCap jspCapBottom" />'))),ni=e.find(">.jspVerticalBar"),g=ni.find(">.jspTrack"),p=g.find(">.jspDrag"),f.showArrows&&(wt=n('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",ut(0,-1)).bind("click.jsp",pt),bt=n('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",ut(0,1)).bind("click.jsp",pt),f.arrowScrollOnHover&&(wt.bind("mouseover.jsp",ut(0,-1,wt)),bt.bind("mouseover.jsp",ut(0,1,bt))),ki(g,f.verticalArrowPositions,wt,bt)),lt=s,e.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){lt-=n(this).outerHeight()}),p.hover(function(){p.addClass("jspHover")},function(){p.removeClass("jspHover")}).bind("mousedown.jsp",function(t){n("html").bind("dragstart.jsp selectstart.jsp",pt);p.addClass("jspActive");var i=t.pageY-p.position().top;return n("html").bind("mousemove.jsp",function(n){ct(n.pageY-i,!1)}).bind("mouseup.jsp mouseleave.jsp",gi),!1}),wi())}function wi(){g.height(lt+"px");l=0;si=f.verticalGutter+g.outerWidth();o.width(h-si-ht);try{ni.position().left===0&&o.css("margin-left",si+"px")}catch(n){}}function tr(){b&&(e.append(n('<div class="jspHorizontalBar" />').append(n('<div class="jspCap jspCapLeft" />'),n('<div class="jspTrack" />').append(n('<div class="jspDrag" />').append(n('<div class="jspDragLeft" />'),n('<div class="jspDragRight" />'))),n('<div class="jspCap jspCapRight" />'))),ti=e.find(">.jspHorizontalBar"),nt=ti.find(">.jspTrack"),w=nt.find(">.jspDrag"),f.showArrows&&(kt=n('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",ut(-1,0)).bind("click.jsp",pt),dt=n('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",ut(1,0)).bind("click.jsp",pt),f.arrowScrollOnHover&&(kt.bind("mouseover.jsp",ut(-1,0,kt)),dt.bind("mouseover.jsp",ut(1,0,dt))),ki(nt,f.horizontalArrowPositions,kt,dt)),w.hover(function(){w.addClass("jspHover")},function(){w.removeClass("jspHover")}).bind("mousedown.jsp",function(t){n("html").bind("dragstart.jsp selectstart.jsp",pt);w.addClass("jspActive");var i=t.pageX-w.position().left;return n("html").bind("mousemove.jsp",function(n){vt(n.pageX-i,!1)}).bind("mouseup.jsp mouseleave.jsp",gi),!1}),st=e.innerWidth(),bi())}function bi(){e.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){st-=n(this).outerWidth()});nt.width(st+"px");a=0}function ir(){if(b&&k){var t=nt.outerHeight(),i=g.outerWidth();lt-=t;n(ti).find(">.jspCap:visible,>.jspArrow").each(function(){st+=n(this).outerWidth()});st-=i;s-=i;h-=t;nt.parent().append(n('<div class="jspCorner" />').css("width",t+"px"));wi();bi()}b&&o.width(e.outerWidth()-ht+"px");v=o.outerHeight();gt=v/s;b&&(rt=Math.ceil(1/oi*st),rt>f.horizontalDragMaxWidth?rt=f.horizontalDragMaxWidth:rt<f.horizontalDragMinWidth&&(rt=f.horizontalDragMinWidth),w.width(rt+"px"),tt=st-rt,vi(a));k&&(it=Math.ceil(1/gt*lt),it>f.verticalDragMaxHeight?it=f.verticalDragMaxHeight:it<f.verticalDragMinHeight&&(it=f.verticalDragMinHeight),p.height(it+"px"),d=lt-it,ai(l))}function ki(n,t,i,r){var u="before",f="after",e;t=="os"&&(t=/Mac/.test(navigator.platform)?"after":"split");t==u?f=t:t==f&&(u=t,e=i,i=r,r=e);n[u](i)[f](r)}function ut(n,t,i){return function(){return rr(n,t,this,i),this.blur(),!1}}function rr(t,i,r,u){r=n(r).addClass("jspActive");var o,e,s=!0,h=function(){t!==0&&c.scrollByX(t*f.arrowButtonSpeed);i!==0&&c.scrollByY(i*f.arrowButtonSpeed);e=setTimeout(h,s?f.initialDelay:f.arrowRepeatFreq);s=!1};h();o=u?"mouseout.jsp":"mouseup.jsp";u=u||n("html");u.bind(o,function(){r.removeClass("jspActive");e&&clearTimeout(e);e=null;u.unbind(o)})}function ur(){di();k&&g.bind("mousedown.jsp",function(t){if(t.originalTarget===i||t.originalTarget==t.currentTarget){var e=n(this),y=e.offset(),o=t.pageY-y.top-l,r,h=!0,a=function(){var p=e.offset(),n=t.pageY-p.top-it/2,i=s*f.scrollPagePercent,y=d*i/(v-s);if(o<0)l-y>n?c.scrollByY(-i):ct(n);else if(o>0)l+y<n?c.scrollByY(i):ct(n);else{u();return}r=setTimeout(a,h?f.initialDelay:f.trackClickRepeatFreq);h=!1},u=function(){r&&clearTimeout(r);r=null;n(document).unbind("mouseup.jsp",u)};return a(),n(document).bind("mouseup.jsp",u),!1}});b&&nt.bind("mousedown.jsp",function(t){if(t.originalTarget===i||t.originalTarget==t.currentTarget){var e=n(this),v=e.offset(),o=t.pageX-v.left-a,r,s=!0,l=function(){var p=e.offset(),n=t.pageX-p.left-rt/2,i=h*f.scrollPagePercent,v=tt*i/(y-h);if(o<0)a-v>n?c.scrollByX(-i):vt(n);else if(o>0)a+v<n?c.scrollByX(i):vt(n);else{u();return}r=setTimeout(l,s?f.initialDelay:f.trackClickRepeatFreq);s=!1},u=function(){r&&clearTimeout(r);r=null;n(document).unbind("mouseup.jsp",u)};return l(),n(document).bind("mouseup.jsp",u),!1}})}function di(){nt&&nt.unbind("mousedown.jsp");g&&g.unbind("mousedown.jsp")}function gi(){n("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");p&&p.removeClass("jspActive");w&&w.removeClass("jspActive")}function ct(n,t){k&&(n<0?n=0:n>d&&(n=d),t===i&&(t=f.animateScroll),t?c.animate(p,"top",n,ai):(p.css("top",n),ai(n)))}function ai(n){n===i&&(n=p.position().top);e.scrollTop(0);l=n;var t=l===0,u=l==d,h=n/d,f=-h*(v-s);(ii!=t||ui!=u)&&(ii=t,ui=u,r.trigger("jsp-arrow-change",[ii,ui,ri,fi]));fr(t,u);o.css("top",f);r.trigger("jsp-scroll-y",[-f,t,u]).trigger("scroll")}function vt(n,t){b&&(n<0?n=0:n>tt&&(n=tt),t===i&&(t=f.animateScroll),t?c.animate(w,"left",n,vi):(w.css("left",n),vi(n)))}function vi(n){n===i&&(n=w.position().left);e.scrollTop(0);a=n;var t=a===0,u=a==tt,s=n/tt,f=-s*(y-h);(ri!=t||fi!=u)&&(ri=t,fi=u,r.trigger("jsp-arrow-change",[ii,ui,ri,fi]));er(t,u);o.css("left",f);r.trigger("jsp-scroll-x",[-f,t,u]).trigger("scroll")}function fr(n,t){f.showArrows&&(wt[n?"addClass":"removeClass"]("jspDisabled"),bt[t?"addClass":"removeClass"]("jspDisabled"))}function er(n,t){f.showArrows&&(kt[n?"addClass":"removeClass"]("jspDisabled"),dt[t?"addClass":"removeClass"]("jspDisabled"))}function ft(n,t){var i=n/(v-s);ct(i*d,t)}function yt(n,t){var i=n/(y-h);vt(i*tt,t)}function ei(t,i,r){var u,v,y,o=0,c=0,p,w,b,k,l,a;try{u=n(t)}catch(d){return}for(v=u.outerHeight(),y=u.outerWidth(),e.scrollTop(0),e.scrollLeft(0);!u.is(".jspPane");)if(o+=u.position().top,c+=u.position().left,u=u.offsetParent(),/^body|html$/i.test(u[0].nodeName))return;p=ot();b=p+s;o<p||i?l=o-f.verticalGutter:o+v>b&&(l=o-s+v+f.verticalGutter);l&&ft(l,r);w=et();k=w+h;c<w||i?a=c-f.horizontalGutter:c+y>k&&(a=c-h+y+f.horizontalGutter);a&&yt(a,r)}function et(){return-o.position().left}function ot(){return-o.position().top}function or(){var n=v-s;return n>20&&n-ot()<10}function sr(){var n=y-h;return n>20&&n-et()<10}function hr(){e.unbind(ci).bind(ci,function(n,t,i,r){var u=a,e=l;return c.scrollBy(i*f.mouseWheelSpeed,-r*f.mouseWheelSpeed,!1),u==a&&e==l})}function cr(){e.unbind(ci)}function pt(){return!1}function lr(){o.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(n){ei(n.target,!1)})}function ar(){o.find(":input,a").unbind("focus.jsp")}function vr(){function h(){var n=a,r=l;switch(t){case 40:c.scrollByY(f.keyboardSpeed,!1);break;case 38:c.scrollByY(-f.keyboardSpeed,!1);break;case 34:case 32:c.scrollByY(s*f.scrollPagePercent,!1);break;case 33:c.scrollByY(-s*f.scrollPagePercent,!1);break;case 39:c.scrollByX(f.keyboardSpeed,!1);break;case 37:c.scrollByX(-f.keyboardSpeed,!1)}return i=n!=a||r!=l}var t,i,u=[];b&&u.push(ti[0]);k&&u.push(ni[0]);o.focus(function(){r.focus()});r.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(r){if(r.target===this||u.length&&n(r.target).closest(u).length){var f=a,e=l;switch(r.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:t=r.keyCode;h();break;case 35:ft(v-s);t=null;break;case 36:ft(0);t=null}return i=r.keyCode==t&&f!=a||e!=l,!i}}).bind("keypress.jsp",function(n){return n.keyCode==t&&h(),!i});f.hideFocus?(r.css("outline","none"),"hideFocus"in e[0]&&r.attr("hideFocus",!0)):(r.css("outline",""),"hideFocus"in e[0]&&r.attr("hideFocus",!1))}function yr(){r.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function pr(){if(location.hash&&location.hash.length>1){var t,r,i=escape(location.hash.substr(1));try{t=n("#"+i+', a[name="'+i+'"]')}catch(u){return}t.length&&o.find(i)&&(e.scrollTop()===0?r=setInterval(function(){e.scrollTop()>0&&(ei(t,!0),n(document).scrollTop(e.position().top),clearInterval(r))},50):(ei(t,!0),n(document).scrollTop(e.position().top)))}}function wr(){n(document.body).data("jspHijack")||(n(document.body).data("jspHijack",!0),n(document.body).delegate("a[href*=#]","click",function(i){var c=this.href.substr(0,this.href.indexOf("#")),s=location.href,f,r,u,h,e,o;if(location.href.indexOf("#")!==-1&&(s=location.href.substr(0,location.href.indexOf("#"))),c===s){f=escape(this.href.substr(this.href.indexOf("#")+1));r;try{r=n("#"+f+', a[name="'+f+'"]')}catch(l){return}r.length&&(u=r.closest(".jspScrollable"),h=u.data("jsp"),h.scrollToElement(r,!0),u[0].scrollIntoView&&(e=n(t).scrollTop(),o=r.offset().top,(o<e||o>e+n(t).height())&&u[0].scrollIntoView()),i.preventDefault())}}))}function br(){var u,f,t,i,n,r=!1;e.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(e){var o=e.originalEvent.touches[0];u=et();f=ot();t=o.pageX;i=o.pageY;n=!1;r=!0}).bind("touchmove.jsp",function(e){if(r){var o=e.originalEvent.touches[0],s=a,h=l;return c.scrollTo(u+t-o.pageX,f+i-o.pageY),n=n||Math.abs(t-o.pageX)>5||Math.abs(i-o.pageY)>5,s==a&&h==l}}).bind("touchend.jsp",function(){r=!1}).bind("click.jsp-touchclick",function(){if(n)return n=!1,!1})}function kr(){var n=ot(),t=et();r.removeClass("jspScrollable").unbind(".jsp");r.replaceWith(hi.append(o.children()));hi.scrollTop(n);hi.scrollLeft(t);at&&clearInterval(at)}var f,c=this,o,h,s,e,y,v,oi,gt,k,b,p,d,l,w,tt,a,ni,g,si,lt,it,wt,bt,ti,nt,st,rt,kt,dt,at,yi,ht,pi,ii=!0,ri=!0,ui=!1,fi=!1,hi=r.clone(!1,!1).empty(),ci=n.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";yi=r.css("paddingTop")+" "+r.css("paddingRight")+" "+r.css("paddingBottom")+" "+r.css("paddingLeft");ht=(parseInt(r.css("paddingLeft"),10)||0)+(parseInt(r.css("paddingRight"),10)||0);n.extend(c,{reinitialise:function(t){t=n.extend({},f,t);li(t)},scrollToElement:function(n,t,i){ei(n,t,i)},scrollTo:function(n,t,i){yt(n,i);ft(t,i)},scrollToX:function(n,t){yt(n,t)},scrollToY:function(n,t){ft(n,t)},scrollToPercentX:function(n,t){yt(n*(y-h),t)},scrollToPercentY:function(n,t){ft(n*(v-s),t)},scrollBy:function(n,t,i){c.scrollByX(n,i);c.scrollByY(t,i)},scrollByX:function(n,t){var i=et()+Math[n<0?"floor":"ceil"](n),r=i/(y-h);vt(r*tt,t)},scrollByY:function(n,t){var i=ot()+Math[n<0?"floor":"ceil"](n),r=i/(v-s);ct(r*d,t)},positionDragX:function(n,t){vt(n,t)},positionDragY:function(n,t){ct(n,t)},animate:function(n,t,i,r){var u={};u[t]=i;n.animate(u,{duration:f.animateDuration,easing:f.animateEase,queue:!1,step:r})},getContentPositionX:function(){return et()},getContentPositionY:function(){return ot()},getContentWidth:function(){return y},getContentHeight:function(){return v},getPercentScrolledX:function(){return et()/(y-h)},getPercentScrolledY:function(){return ot()/(v-s)},getIsScrollableH:function(){return b},getIsScrollableV:function(){return k},getContentPane:function(){return o},scrollToBottom:function(n){ct(d,n)},hijackInternalLinks:n.noop,destroy:function(){kr()}});li(u)}return r=n.extend({},n.fn.jScrollPane.defaults,r),n.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){r[this]=r[this]||r.speed}),this.each(function(){var t=n(this),i=t.data("jsp");i?i.reinitialise(r):(n("script",t).filter('[type="text/javascript"],:not([type])').remove(),i=new u(t,r),t.data("jsp",i))})};n.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:i,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this),function(n){var t=function(){try{return"ontouchstart"in document.documentElement}catch(n){return!1}}();n.fn.doubletap=function(i,r,u){var e,f;u=u==null?500:u;e=t==!0?"touchend":"click";n(this).bind(e,function(t){t.preventDefault();var e=(new Date).getTime(),s=n(this).data("lastTouch")||e+1,o=e-s;clearTimeout(f);o<u&&o>0?i!=null&&typeof i=="function"&&i(t):(n(this).data("lastTouch",e),f=setTimeout(function(n){r!=null&&typeof r=="function"&&r(n);clearTimeout(f)},u,[t]));n(this).data("lastTouch",e)})}}(jQuery),function(n){n.fn.touchwipe=function(t){var i={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0},r;return t&&n.extend(i,t),r=this,this.config=i,this.each(function(){function f(){this.removeEventListener("touchmove",e);t=null;n=!1}function e(e){if(e.touches.length>1&&(n=!1),r.config.preventDefaultEvents&&n&&(jQuery(e.target).hasClass("flowpaper_note_textarea")||jQuery(e.target).hasClass("flowpaper_textarea_data")||e.preventDefault()),n&&(jQuery(r).data("pageMv")==null||jQuery(r).data("pageMv")&&jQuery(r).data("pageMv").length==0)){var h=e.touches[0].pageX,c=e.touches[0].pageY,o=t-h,s=u-c;Math.abs(o)>=i.min_move_x?(f(),o>0?i.wipeLeft():i.wipeRight()):Math.abs(s)>=i.min_move_y&&(f(),s>0?i.wipeDown():i.wipeUp())}}function o(i){i.touches.length==1&&(t=i.touches[0].pageX,u=i.touches[0].pageY,n=!0,this.addEventListener("touchmove",e,!1))}var t,u,n=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",o,!1)}),this}}(jQuery),function(n){var l,h="",a=Math.PI,c=a/2,s="ontouchstart"in document.documentElement,y={backward:["tl","bl"],forward:["tr","br"],all:["tl","bl","tr","br"]},g=["single","double"],nt={page:1,gradients:!0,duration:600,acceleration:!0,display:"double",cornerDragging:!0,when:null,disableCornerNavigation:!1},v=s?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},tt={folding:null,corners:"forward",cornerSize:100,gradients:!0,duration:600,acceleration:!0,disableCornerNavigation:!1},p={0:{top:0,left:0,right:"auto",bottom:"auto"},1:{top:0,right:0,left:"auto",bottom:"auto"}},o=function(n,t,i,r){return{css:{position:"absolute",top:n,left:t,overflow:r||"hidden","z-index":i||"auto"}}},w=function(n,t,i,u,f){var e=1-f,o=e*e*e,s=f*f*f;return r(Math.round(o*n.x+3*f*e*e*t.x+3*f*f*e*i.x+s*u.x),Math.round(o*n.y+3*f*e*e*t.y+3*f*f*e*i.y+s*u.y))},r=function(n,t){return{x:n,y:t}},f=function(n,t,i){return l&&i?" translate3d("+n+"px,"+t+"px, 0px) ":" translate("+n+"px, "+t+"px) "},e=function(n){return" rotate("+n+"deg) "},u=function(n,t){return Object.prototype.hasOwnProperty.call(t,n)},it=function(){for(var n=["Moz","Webkit","Khtml","O","ms"],t=n.length,i="";t--;)n[t]+"Transform"in document.body.style&&(i="-"+n[t].toLowerCase()+"-");return i},b=function(n,t,i,u,f){var e,c=[],s,o;if("-webkit-"==h){for(e=0;e<f;e++)c.push("color-stop("+u[e][0]+", "+u[e][1]+")");n.css({"background-image":"-webkit-gradient(linear, "+t.x+"% "+t.y+"%,  "+i.x+"% "+i.y+"%, "+c.join(",")+" )"})}else{t={x:t.x/100*n.width(),y:t.y/100*n.height()};i={x:i.x/100*n.width(),y:i.y/100*n.height()};s=i.x-t.x;e=i.y-t.y;var l=Math.atan2(e,s),a=l-Math.PI/2,a=Math.abs(n.width()*Math.sin(a))+Math.abs(n.height()*Math.cos(a)),s=Math.sqrt(e*e+s*s);for(i=r(i.x<t.x?n.width():0,i.y<t.y?n.height():0),o=Math.tan(l),e=-1/o,o=(e*i.x-i.y-o*t.x+t.y)/(e-o),t=Math.sqrt(Math.pow(o-t.x,2)+Math.pow(e*o-e*i.x+i.y-t.y,2)),e=0;e<f;e++)c.push(" "+u[e][1]+" "+100*(t+s*u[e][0])/a+"%");n.css({"background-image":h+"linear-gradient("+-l+"rad,"+c.join(",")+")"})}},k="ontouchstart"in window?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},i={init:function(i){void 0===l&&(l="WebKitCSSMatrix"in window||"MozPerspective"in document.body.style,h=it());var e,r=this.data(),o=this.children();if(i=n.extend({width:this.width(),height:this.height()},nt,i),r.opts=i,r.pageObjs={},r.pages={},r.pageWrap={},r.pagePlace={},r.pageMv=[],r.totalPages=i.pages||0,i.when)for(e in i.when)u(e,i.when)&&this.bind(e,i.when[e]);for(this.css({position:"relative",width:i.width,height:i.height}),this.turn("display",i.display),l&&!s&&i.acceleration&&this.transform(f(0,0,!0)),e=0;e<o.length;e++)this.turn("addPage",o[e],e+1);return this.turn("page",i.page),y=n.extend({},y,i.corners),r.eventHandlers={move:function(n){for(var i in r.pages)u(i,r.pages)&&t._eventMove.call(r.pages[i],n)},end:function(n){for(var i in r.pages)u(i,r.pages)&&t._eventEnd.call(r.pages[i],n)},start:function(n){for(var i in r.pages)if(u(i,r.pages)&&!1===t._eventStart.call(r.pages[i],n))return!1}},n(this).bind(v.start,r.eventHandlers.start),i.cornerDragging?n(document).bind(v.move,r.eventHandlers.move).bind(v.end,r.eventHandlers.end):n(document).bind(v.end,r.eventHandlers.end),r.done=!0,this},addPage:function(t,r){var e=!1,f=this.data(),u=f.totalPages+1;if(r){if(r==u)r=u,e=!0;else if(r>u)throw Error('It is impossible to add the page "'+r+'", the maximum value is: "'+u+'"');}else r=u,e=!0;return 1<=r&&r<=u&&(f.done&&this.turn("stop"),r in f.pageObjs&&i._movePages.call(this,r,1),e&&(f.totalPages=u),f.pageObjs[r]=n(t).addClass("turn-page p"+r),i._addPage.call(this,r),f.done&&this.turn("update"),i._removeFromDOM.call(this)),this},_addPage:function(t){var r=this.data(),e=r.pageObjs[t],u,f;e&&(i._necessPage.call(this,t)?(r.pageWrap[t]||(u="double"==r.display?this.width()/2:this.width(),f=this.height(),e.css({width:u,height:f}),r.pagePlace[t]=t,r.pageWrap[t]=n("<div/>",{id:"turn-page-wrapper-"+t,"class":"turn-page-wrapper",page:t,css:{position:"absolute",overflow:"hidden",width:u,height:f}}).css(p["double"==r.display?t%2:0]),this.append(r.pageWrap[t]),r.pageObjs[t].appendTo(r.pageWrap[t]),this.trigger("pageAdded",t)),t&&1!=i._setPageLoc.call(this,t)||i._makeFlip.call(this,t)):(r.pagePlace[t]=0,r.pageObjs[t]&&r.pageObjs[t].detach()))},hasPage:function(n){return n in this.data().pageObjs},destroy:function(){var i=this,n=this.data(),t;if(n.destroying=!0,jQuery.each("end first flip last pressed released start turning turned zooming missing".split(" "),function(n,t){i.unbind(t)}),this.parent().unbind(),t=n.totalPages,n.eventHandlers)for(jQuery(document).unbind(k.move,n.eventHandlers.move).unbind(k.up,n.eventHandlers.end);0!==t;)this.turn("removePage",t),--t;return n.fparent&&n.fparent.remove(),n.shadow&&n.shadow.remove(),this.removeData(),n=null,this.trigger("destroyed"),this},_makeFlip:function(n){var t=this.data(),r,u;return t.pages[n]||t.pagePlace[n]!=n||(r="single"==t.display,u=n%2,t.pages[n]=t.pageObjs[n].css({width:r?this.width():this.width()/2,height:this.height()}).flip({page:n,next:r&&n===t.totalPages?n-1:u||r?n+1:n-1,turn:this,duration:t.opts.duration,acceleration:t.opts.acceleration,disableCornerNavigation:t.opts.disableCornerNavigation,corners:r?"all":u?"forward":"backward",backGradient:t.opts.gradients,frontGradient:t.opts.gradients,cornerDragging:t.opts.cornerDragging}).flip("disable",t.disabled).bind("pressed",i._pressed).bind("released",i._released).bind("start",i._start).bind("end",i._end).bind("flip",i._flip)),t.pages[n]},_makeRange:function(n){var t,r;if(this.data(),r=this.turn("range"),r)for(t=r[0];t<=r[1];t++)i._addPage.call(this,t);n&&n()},range:function(n){var u,f,r=this.data(),t;return n=n||r.tpage||r.page,t=i._view.call(this,n),(1>n||n>r.totalPages)?void 0:(t[1]=t[1]||t[0],1<=t[0]&&t[1]<=r.totalPages?(n=Math.floor(9),r.totalPages-t[1]>t[0]?(u=Math.min(t[0]-1,n),f=2*n-u):(f=Math.min(r.totalPages-t[1],n),u=2*n-f)):f=u=19,[Math.max(1,t[0]-u),Math.min(r.totalPages,t[1]+f)])},_necessPage:function(n){if(0===n)return!0;var t=this.turn("range");return n>=t[0]&&n<=t[1]},_removeFromDOM:function(){var n,t=this.data();for(n in t.pageWrap)u(n,t.pageWrap)&&!i._necessPage.call(this,n)&&i._removePageFromDOM.call(this,n)},_removePageFromDOM:function(n){var t=this.data(),i;t.pages[n]&&(i=t.pages[n].data(),i.f&&i.f.fwrapper&&i.f.fwrapper.detach(),t.pages[n].detach(),delete t.pages[n]);t.pageObjs[n]&&t.pageObjs[n].detach();t.pageWrap[n]&&(t.pageWrap[n].detach(),delete t.pageWrap[n]);delete t.pagePlace[n]},removePage:function(n){var t=this.data();return t.pageObjs[n]&&(this.turn("stop"),i._removePageFromDOM.call(this,n),delete t.pageObjs[n],i._movePages.call(this,n,-1),--t.totalPages,0<t.totalPages&&i._makeRange.call(this),t.page>t.totalPages&&this.turn("page",t.totalPages)),this},_movePages:function(n,t){var r,i=this.data(),u="single"==i.display,f=function(n){var r=n+t,f=r%2;i.pageObjs[n]&&(i.pageObjs[r]=i.pageObjs[n].removeClass5("page"+n).addClass5("page"+r));i.pagePlace[n]&&i.pageWrap[n]&&(i.pagePlace[r]=r,i.pageWrap[r]=i.pageWrap[n].css(p[u?0:f]).attr("page",r),i.pages[n]&&(i.pages[r]=i.pages[n].flip("options",{page:r,next:u||f?r+1:r-1,corners:u?"all":f?"forward":"backward"})),t&&(delete i.pages[n],delete i.pagePlace[n],delete i.pageObjs[n],delete i.pageWrap[n],delete i.pageObjs[n]))};if(0<t)for(r=i.totalPages;r>=n;r--)f(r);else for(r=n;r<=i.totalPages;r++)f(r)},display:function(t){var r=this.data(),u=r.display;if(t){if(-1==n.inArray(t,g))throw Error('"'+t+'" is not a value for display');return"single"==t?r.pageObjs[0]||(this.turn("stop").css({overflow:"hidden"}),r.pageObjs[0]=n("<div />",{"class":"turn-page p-temporal"}).css({width:this.width(),height:this.height(),"background-color":"#ffffff"}).appendTo(this)):r.pageObjs[0]&&(this.turn("stop").css({overflow:""}),r.pageObjs[0].detach()),r.display=t,u&&(t=this.turn("size"),i._movePages.call(this,1,0),this.turn("size",t.width,t.height).turn("update")),this}return u},animating:function(){return 0<this.data().pageMv.length},cornerActivated:function(){var n,t=this.data();for(n in t.pages)if(u(n,t.pages)&&t.pages[n].data().f.hoveringCorner)return!0;return!1},disable:function(t){var i,r=this.data(),f=this.turn("view");r.disabled=void 0===t||!0===t;for(i in r.pages)u(i,r.pages)&&r.pages[i].flip("disable",t?n.inArray(i,f):!1);return this},setCornerDragging:function(n){var i,t=this.data();this.turn("view");t.opts.cornerDragging=n;for(i in t.pages)u(i,t.pages)&&(t.pages[i].data().f.opts.cornerDragging=n)},size:function(n,t,i){if(n&&t){this.turn("stop");var r=this.data(),e="double"==r.display?n/2:n,f;if(i)for(f in this.css({width:n,height:t}),r.pageObjs[0]&&r.pageObjs[0].css({width:e,height:t}),r.pageWrap)u(f,r.pageWrap)&&(r.pageWrap[f].css({width:e,height:t}),r.pageObjs[f].width(),r.pageObjs[f].animate({width:e,height:t},{duration:700,step:function(){}}),r.pages[f]&&r.pages[f].css({width:e,height:t}));else for(f in this.css({width:n,height:t}),r.pageObjs[0]&&r.pageObjs[0].css({width:e,height:t}),r.pageWrap)u(f,r.pageWrap)&&(r.pageObjs[f].css({width:e,height:t}),r.pageWrap[f].css({width:e,height:t}),r.pages[f]&&r.pages[f].css({width:e,height:t}));return this.turn("resize"),this}return{width:this.width(),height:this.height()}},resize:function(){var t,n=this.data();for(n.pages[0]&&(n.pageWrap[0].css({left:-this.width()}),n.pages[0].flip("resize",!0)),t=1;t<=n.totalPages;t++)n.pages[t]&&n.pages[t].flip("resize",!0);i._updateShadow.call(this)},_removeMv:function(n){for(var i=this.data(),t=0;t<i.pageMv.length;t++)if(i.pageMv[t]==n)return i.pageMv.splice(t,1),!0;return!1},_addMv:function(n){var t=this.data();i._removeMv.call(this,n);t.pageMv.push(n)},_view:function(n){var t=this.data();return n=n||t.page,"double"==t.display?n%2?[n-1,n]:[n,n+1]:[n]},view:function(n){var t=this.data();return n=i._view.call(this,n),"double"==t.display?[0<n[0]?n[0]:0,n[1]<=t.totalPages?n[1]:0]:[0<n[0]&&n[0]<=t.totalPages?n[0]:0]},stop:function(n){var r,i=this.data(),f=i.pageMv;i.pageMv=[];i.tpage&&(i.page=i.tpage,delete i.tpage);for(r in f)u(r,f)&&(t._moveFoldingPage.call(i.pages[f[r]],null),t.hideFoldedPage.call(i.pages[f[r]],!1),n=i.pages[f[r]].data().f.opts,i.pagePlace[n.next]=n.next,n.force&&(n.next=0==n.page%2?n.page-1:n.page+1,delete n.force));return this.turn("update"),this},pages:function(n){var t=this.data(),i;if(n){if(n<t.totalPages){for(i=n+1;i<=t.totalPages;i++)this.turn("removePage",i);this.turn("page")>n&&this.turn("page",n)}return t.totalPages=n,this}return t.totalPages},_fitPage:function(t,r){var u=this.data(),f=this.turn("view",t);u.page!=t&&(this.trigger("turning",[t,f]),-1!=n.inArray(1,f)&&this.trigger("first"),-1!=n.inArray(u.totalPages,f)&&this.trigger("last"));u.pageObjs[t]&&(u.tpage=t,this.turn("stop",r),i._removeFromDOM.call(this),i._makeRange.call(this),i._updateShadow.call(this),this.trigger("turned",[t,f]))},_missing:function(n){var r=this.data(),i=this.turn("range",n),t=[];for(n=i[0];n<=i[1];n++)r.pageObjs[n]||t.push(n);0<t.length&&this.trigger("missing",[t])},_turnPage:function(t,r){var e,o,u=this.data(),f=this.turn("view"),s=this.turn("view",t),h;u.page!=t&&(this.trigger("turning",[t,s]),-1!=n.inArray(1,s)&&this.trigger("first"),-1!=n.inArray(u.totalPages,s)&&this.trigger("last"));u.pageObjs[t]&&(u.tpage=t,"single"==u.display?(e=f[0],o=s[0]):f[1]&&t>f[1]?(e=f[1],o=s[0]):f[0]&&t<f[0]&&(e=f[0],o=s[1]),this.turn("stop"),i._makeRange.call(this),u.pages[e])&&(h=u.pages[e].data().f.opts,u.tpage=o,h.next!=o&&(h.next=o,u.pagePlace[o]=h.page,h.force=!0),"single"==u.display?u.pages[e].flip("turnPage",s[0]>f[0]?"br":"bl",r):u.pages[e].flip("turnPage",null,r))},page:function(t,r){t=parseInt(t,10);var u=this.data();return 0<t&&t<=u.totalPages?(u.done&&-1==n.inArray(t,this.turn("view"))?i._turnPage.call(this,t,r):i._fitPage.call(this,t,r),this):u.page},next:function(){var n=this.data(),t=1<arguments.length&&"instant"==arguments[1]?0:null;return this.turn("page",i._view.call(this,n.page).pop()+1,t)},previous:function(){var n=this.data(),t=1<arguments.length&&"instant"==arguments[1]?0:null;return this.turn("page",i._view.call(this,n.page).shift()-1,t)},_addMotionPage:function(){var t=n(this).data().f.opts,r=t.turn,u=r.data();t.pageMv=t.page;i._addMv.call(r,t.pageMv);u.pagePlace[t.next]=t.page;r.turn("update")},_start:function(t,r,u){var f=r.turn.data(),e=n.Event("start");t.stopPropagation();r.turn.trigger(e,[r,u]);e.isDefaultPrevented()?t.preventDefault():("single"==f.display&&(u="l"==u.charAt(1),1==r.page&&u||r.page==f.totalPages&&!u?t.preventDefault():u?(r.next=r.next<r.page?r.next:r.page-1,r.force=!0):r.next=r.next>r.page?r.next:r.page+1),i._addMotionPage.call(this),(1==r.next||r.next==f.totalPages&&0==f.totalPages%2)&&i._updateShadow.call(r.turn))},_end:function(t,r){var u=n(this).data().f.opts,e=u.turn,f=e.data();t.stopPropagation();r||f.tpage?(f.tpage==u.next||f.tpage==u.page)&&(delete f.tpage,i._fitPage.call(e,f.tpage||u.next,!0)):(s&&i._removeMv.call(e,u.pageMv),e.turn("update"))},_pressed:function(){var t=n(this).data().f;return t.opts.turn.data(),t.time=(new Date).getTime()},_released:function(t,i){var u=n(this),r=u.data().f;t.stopPropagation();200>(new Date).getTime()-r.time||0>i.x||i.x>n(this).width()?(t.preventDefault(),r.opts.turn.data().tpage=r.opts.next,r.opts.turn.turn("update"),n(u).flip("turnPage")):jQuery(this).removeClass5("flowpaper_page_zoomIn").removeClass5("flowpaper_page_zoomOut").addClass5("flowpaper_page_dragPage")},_flip:function(){var t=n(this).data().f.opts;t.turn.trigger("turn",[t.next])},calculateZ:function(n){var i,t,r,e,h=this,u=this.data();i=this.turn("view");var o=i[0]||i[1],f={pageZ:{},partZ:{},pageV:{}},s=function(n){n=h.turn("view",n);n[0]&&(f.pageV[n[0]]=!0);n[1]&&(f.pageV[n[1]]=!0)};for(i=0;i<n.length;i++)t=n[i],r=u.pages[t].data().f.opts.next,e=u.pagePlace[t],s(t),s(r),t=u.pagePlace[r]==r?r:t,f.pageZ[t]=u.totalPages-Math.abs(o-t),f.partZ[e]=2*u.totalPages+Math.abs(o-t);return f},update:function(){var t,n=this.data(),r;if(n.pageMv.length&&0!==n.pageMv[0]){r=this.turn("calculateZ",n.pageMv);this.turn("view",n.tpage);for(t in n.pageWrap)u(t,n.pageWrap)&&(n.pageWrap[t].css({display:r.pageV[t]?"":"none","z-index":r.pageZ[t]||0}),n.pages[t]&&(n.pages[t].flip("z",r.partZ[t]||null),r.pageV[t]&&n.pages[t].flip("resize"),n.tpage&&n.pages[t].flip("disable",!0)))}else for(t in n.pageWrap)u(t,n.pageWrap)&&(r=i._setPageLoc.call(this,t),n.pages[t]&&n.pages[t].flip("disable",n.disabled||1!=r).flip("z",null))},_updateShadow:function(){var t=this.data(),f=this.turn("view"),i=this.width(),r=this.height(),u="single"==t.display?i:i/2;t.shadow||(t.shadow=n("<div />",{"class":"flowpaper_shadow",css:o(0,0,0).css}).appendTo(this));f[0]==t.totalPages&&0==t.totalPages%2?t.shadow.css({width:u,height:r,top:0,left:0}):0==f[0]?t.shadow.css({width:u,height:r,top:0,left:u}):t.shadow.css({width:i,height:r,top:0,left:0})},_setPageLoc:function(n){var t=this.data(),i=this.turn("view");return n==i[0]||n==i[1]?(t.pageWrap[n].css({"z-index":t.totalPages,display:""}),1):"single"==t.display&&n==i[0]+1||"double"==t.display&&n==i[0]-2||n==i[1]+2?(t.pageWrap[n].css({"z-index":t.totalPages-1,display:""}),2):(t.pageWrap[n].css({"z-index":0,display:"none"}),0)}},t={init:function(n){return n.gradients&&(n.frontGradient=!0,n.backGradient=!0),this.data({f:{}}),this.flip("options",n),t._addPageWrapper.call(this),this},setData:function(t){var i=this.data();return i.f=n.extend(i.f,t),this},options:function(i){var r=this.data().f;return i?(t.setData.call(this,{opts:n.extend({},r.opts||tt,i)}),this):r.opts},z:function(n){var t=this.data().f;return t.opts["z-index"]=n,t.fwrapper.css({"z-index":n||parseInt(t.parent.css("z-index"),10)||0}),this},_cAllowed:function(){return y[this.data().f.opts.corners]||this.data().f.opts.corners},_cornerActivated:function(i){if(void 0===i.originalEvent)return!1;i=s?i.originalEvent.touches:[i];var r=this.data().f,u=r.parent.offset(),f=this.width(),e=this.height();if(i={x:Math.max(0,i[0].pageX-u.left),y:Math.max(0,i[0].pageY-u.top)},r=r.opts.cornerSize,u=t._cAllowed.call(this),0>=i.x||0>=i.y||i.x>=f||i.y>=e)return!1;if(i.y<r)i.corner="t";else if(i.y>=e-r)i.corner="b";else return!1;if(i.x<=r)i.corner+="l";else if(i.x>=f-r)i.corner+="r";else return!1;return(f=-1==n.inArray(i.corner,u)?!1:i)&&this.trigger("cornerActivated"),f},_c:function(n,t){var i=this.width(),u=this.height();return t=t||0,{tl:r(t,t),tr:r(i-t,t),bl:r(t,u-t),br:r(i-t,u-t)}[n]},_c2:function(n){var t=this.width(),i=this.height();return{tl:r(2*t,0),tr:r(-t,0),bl:r(2*t,i),br:r(-t,i)}[n]},_foldingPage:function(n){if(n=this.data().f.opts,n.folding)return n.folding;if(n.turn){var t=n.turn.data();return"single"==t.display?t.pageObjs[n.next]?t.pageObjs[0]:null:t.pageObjs[n.next]}},_backGradient:function(){var t=this.data().f,i=t.opts.turn;return(i=t.opts.backGradient&&(!i||"single"==i.data().display||2!=t.opts.page&&t.opts.page!=i.data().totalPages-1))&&!t.bshadow&&(t.bshadow=n("<div/>",o(0,0,1)).css({position:"",width:this.width(),height:this.height()}).appendTo(t.parent)),i},resize:function(n){var i=this.data().f,r=this.width(),u=this.height(),f=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(u,2)));n&&(i.wrapper.css({width:f,height:f}),i.fwrapper.css({width:f,height:f}).children(":first-child").css({width:r,height:u}),i.fpage.css({width:u,height:r}),i.opts.frontGradient&&i.ashadow.css({width:u,height:r}),t._backGradient.call(this)&&i.bshadow.css({width:r,height:u}));i.parent.is(":visible")&&(i.fwrapper.css({top:i.parent.offset().top,left:i.parent.offset().left}),i.opts.turn&&i.fparent.css({top:-i.opts.turn.offset().top,left:-i.opts.turn.offset().left}));this.flip("z",i.opts["z-index"])},_addPageWrapper:function(){var i=this.data().f,r=this.parent(),u;i.wrapper||(this.css("left"),this.css("top"),this.width(),this.height(),i.parent=r,i.fparent=i.opts.turn?i.opts.turn.data().fparent:n("#turn-fwrappers"),i.fparent||(u=n("<div/>",{css:{"pointer-events":"none"}}).hide(),u.data().flips=0,i.opts.turn?(u.css(o(-i.opts.turn.offset().top,-i.opts.turn.offset().left,"auto","visible").css).appendTo(i.opts.turn),i.opts.turn.data().fparent=u):u.css(o(0,0,"auto","visible").css).attr("id","turn-fwrappers").appendTo(n("body")),i.fparent=u),this.css({position:"absolute",top:0,left:0,bottom:"auto",right:"auto"}),i.wrapper=n("<div/>",o(0,0,this.css("z-index"))).appendTo(r).prepend(this),i.fwrapper=n("<div/>",o(r.offset().top,r.offset().left)).hide().appendTo(i.fparent),i.fpage=n("<div/>",{css:{cursor:"default"}}).appendTo(n("<div/>",o(0,0,0,"visible")).appendTo(i.fwrapper)),r=i.opts&&i.opts.turn&&"single"!=i.opts.turn.data().display?'style="position:absolute;z-index:10;-webkit-backface-visibility:hidden;"':"",i.opts.frontGradient&&(i.ashadow=n("<div "+r+"/>",o(0,0,1)).appendTo(i.fpage)),t.setData.call(this,i),t.resize.call(this,!0))},_fold:function(n){var it=this,y=0,i=0,ot,d,g,s,w,rt,p=r(0,0),st=r(0,0),u=r(0,0),h=this.width(),l=this.height(),ut=t._foldingPage.call(this),o=this.data().f,v=o.opts.acceleration,ht=o.wrapper.height(),ft=t._c.call(this,n.corner),nt="t"==n.corner.substr(0,1),k="l"==n.corner.substr(1,1),tt=function(){var f=r(ft.x?ft.x-n.x:n.x,ft.y?ft.y-n.y:n.y),v=Math.atan2(f.y,f.x),e,b;return(i=c-v,y=i/a*180,e=r(k?h-f.x/2:n.x+f.x/2,f.y/2),b=Math.max(0,Math.sin(i-Math.atan2(e.y,e.x))*Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))),u=r(b*Math.sin(i),b*Math.cos(i)),i>c&&(u.x+=Math.abs(u.y*Math.tan(v)),u.y=0,Math.round(u.x*Math.tan(a-i))<l))?(n.y=Math.sqrt(Math.pow(l,2)+2*e.x*f.x),nt&&(n.y=l-n.y),tt()):(i>c&&(f=a-i,v=ht-l/Math.sin(f),p=r(Math.round(v*Math.cos(f)),Math.round(v*Math.sin(f))),k&&(p.x=-p.x),nt&&(p.y=-p.y)),ot=Math.round(u.y/Math.tan(i)+u.x),f=h-ot,v=f*Math.cos(2*i),e=f*Math.sin(2*i),st=r(Math.round(k?f-v:ot+v),Math.round(nt?e:l-e)),w=f*Math.sin(i),f=t._c2.call(it,n.corner),f=Math.sqrt(Math.pow(f.x-n.x,2)+Math.pow(f.y-n.y,2)),rt=f<h?f/h:1,o.opts.frontGradient&&(s=100<w?(w-100)/w:0,d=r(w*Math.sin(c-i)/l*100,w*Math.cos(c-i)/h*100),nt&&(d.y=100-d.y),k&&(d.x=100-d.x)),t._backGradient.call(it)&&(g=r(w*Math.sin(i)/h*100,w*Math.cos(i)/l*100),k||(g.x=100-g.x),nt||(g.y=100-g.y)),u.x=Math.round(u.x),u.y=Math.round(u.y),!0)},et=function(n,u,c,a){var y=["0","auto"],w=(h-ht)*c[0]/100,tt=(l-ht)*c[1]/100;u={left:y[u[0]],top:y[u[1]],right:y[u[2]],bottom:y[u[3]]};y=90!=a&&-90!=a?k?-1:1:0;c=c[0]+"% "+c[1]+"%";it.css(u).transform(e(a)+f(n.x+y,n.y,v),c);o.fpage.parent().css(u);o.fpage.css({"-webkit-box-shadow":String.format("rgba(0, 0, 0, {0}) 0px 0px 20px",.25<s?s:.25),"-moz-box-shadow":String.format("rgba(0, 0, 0, {0}) 0px 0px 20px",.25<s?s:.25),"-ms-box-shadow":String.format("rgba(0, 0, 0, {0}) 0px 0px 20px",.25<s?s:.25),"-o-box-shadow":String.format("rgba(0, 0, 0, {0}) 0px 0px 20px",.25<s?s:.25),"box-shadow":String.format("rgba(0, 0, 0, {0}) 0px 0px 20px",.25<s?s:.25),"-webkit-transition":"-webkit-box-shadow 2s","-moz-transition":"-moz-box-shadow 2s","-o-transition":"-webkit-box-shadow 2s","-ms-transition":"-ms-box-shadow 2s"});o.wrapper.transform(f(-n.x+w-y,-n.y+tt,v)+e(-a),c);o.fwrapper.transform(f(-n.x+p.x+w,-n.y+p.y+tt,v)+e(-a),c);o.fpage.parent().transform(e(a)+f(n.x+st.x-p.x,n.y+st.y-p.y,v),c);o.opts.frontGradient&&b(o.ashadow,r(k?100:0,nt?100:0),r(d.x,d.y),[[s,"rgba(0,0,0,0)"],[.8*(1-s)+s,"rgba(0,0,0,"+.2*rt+")"],[1,"rgba(255,255,255,"+.2*rt+")"]],3,i);t._backGradient.call(it)&&b(o.bshadow,r(k?0:100,nt?0:100),r(g.x,g.y),[[.8,"rgba(0,0,0,0)"],[1,"rgba(0,0,0,"+.3*rt+")"],[1,"rgba(0,0,0,0)"]],3)};switch(n.corner){case"tl":n.x=Math.max(n.x,1);tt();et(u,[1,0,0,1],[100,0],y);o.fpage.transform(f(-l,-h,v)+e(90-2*y),"100% 100%");ut.transform(e(90)+f(0,-l,v),"0% 0%");break;case"tr":n.x=Math.min(n.x,h-1);tt();et(r(-u.x,u.y),[0,0,0,1],[0,0],-y);o.fpage.transform(f(0,-h,v)+e(-90+2*y),"0% 100%");ut.transform(e(270)+f(-h,0,v),"0% 0%");break;case"bl":n.x=Math.max(n.x,1);tt();et(r(u.x,-u.y),[1,1,0,0],[100,100],-y);o.fpage.transform(f(-l,0,v)+e(-90+2*y),"100% 0%");ut.transform(e(270)+f(-h,0,v),"0% 0%");break;case"br":n.x=Math.min(n.x,h-1);tt();et(r(-u.x,-u.y),[0,1,1,0],[0,100],y);o.fpage.transform(e(90-2*y),"0% 0%");ut.transform(e(90)+f(0,-l,v),"0% 0%")}o.point=n},_moveFoldingPage:function(n){var i=this.data().f,r=t._foldingPage.call(this);r&&(n?i.fpage.children()[i.ashadow?"1":"0"]||(t.setData.call(this,{backParent:r.parent()}),i.fpage.prepend(r)):i.backParent&&i.backParent.prepend(r))},_showFoldedPage:function(i,r){var f=t._foldingPage.call(this),e=this.data(),u=e.f,o,s;return(!u.point||u.point.corner!=i.corner)&&(o=n.Event("start"),this.trigger(o,[u.opts,i.corner]),o.isDefaultPrevented())?!1:(this.removeClass5("flowpaper_page_zoomIn").removeClass5("flowpaper_page_zoomOut").addClass5("flowpaper_page_dragPage"),f)?(r?(s=this,f=u.point&&u.point.corner==i.corner?u.point:t._c.call(this,i.corner,1),u.userinteracting=!1,this.animatef({from:[f.x,f.y],to:[i.x,i.y],duration:500,frame:function(n){i.x=Math.round(n[0]);i.y=Math.round(n[1]);t._fold.call(s,i)}})):(t._fold.call(this,i),u.userinteracting=!0,e.effect&&!e.effect.turning&&this.animatef(!1)),"none"==u.fwrapper[0].style.display&&(u.fparent.show().data().flips++,t._moveFoldingPage.call(this,!0),u.fwrapper.show(),u.bshadow&&u.bshadow.show()),!0):!1},hide:function(){var n=this.data().f,i=t._foldingPage.call(this);return 0==--n.fparent.data().flips&&n.fparent.hide(),this.css({left:0,top:0,right:"auto",bottom:"auto"}).transform(""),n.wrapper.transform(""),n.fwrapper.hide(),n.bshadow&&n.bshadow.hide(),i.transform(""),this},hideFoldedPage:function(n){var f=this.data().f,u,s,h;if(this.removeClass5("flowpaper_page_dragPage").removeClass5("flowpaper_page_zoomOut").addClass5("flowpaper_page_zoomIn"),f.hoveringCorner=!1,f.point){var e=this,i=f.point,o=function(){f.point=null;e.flip("hide");e.trigger("end",[!1])};n?(u=t._c.call(this,i.corner),n="t"==i.corner.substr(0,1)?Math.min(0,i.y-u.y)/2:Math.max(0,i.y-u.y)/2,s=r(i.x,i.y+n),h=r(u.x,u.y-n),this.animatef({from:0,to:1,frame:function(n){n=w(i,s,h,u,n);i.x=n.x;i.y=n.y;t._fold.call(e,i)},complete:o,duration:800,hiding:!0})):(this.animatef(!1),o())}},turnPage:function(n,i){var u,r,f,e;"instant"==i&&(i=0);u=this;r=this.data().f;n={corner:r.corner?r.corner.corner:n||t._cAllowed.call(this)[0]};f=r.point||t._c.call(this,n.corner,r.opts.turn?r.opts.turn.data().opts.elevation:0);e=t._c2.call(this,n.corner);this.trigger("flip").animatef({from:0,to:1,frame:function(i){i=w(f,f,e,e,i);n.x=i.x;n.y=i.y;t._showFoldedPage.call(u,n)},complete:function(){u.trigger("end",[!0])},duration:null==i?r.opts.duration:i,turning:!0});r.corner=null},moving:function(){return"effect"in this.data()},isTurning:function(){return this.flip("moving")&&this.data().effect.turning},_eventStart:function(n){var i=this.data().f;if(!i.disabled&&!this.flip("isTurning")){if(i.corner=t._cornerActivated.call(this,n),i.corner&&t._foldingPage.call(this,i.corner))return t._moveFoldingPage.call(this,!0),this.trigger("pressed",[i.point]),!1;i.corner=null}},_eventMove:function(n){var i=this.data().f,r;i&&!i.disabled&&i.opts.cornerDragging&&((n=s?n.originalEvent.touches:[n],i.corner&&!this.flip("isTurning"))?(r=i.parent.offset(),i.corner.x=n[0].pageX-r.left,i.corner.y=n[0].pageY-r.top,t._showFoldedPage.call(this,i.corner)):!this.data().effect&&this.is(":visible")&&((n=t._cornerActivated.call(this,n[0]))&&!this.flip("isTurning")?(r=t._c.call(this,n.corner,i.opts.cornerSize/2),n.x=r.x,n.y=r.y,i.hoveringCorner=!0,t._showFoldedPage.call(this,n,!0)):t.hideFoldedPage.call(this,!0)))},_eventEnd:function(){var i=this.data().f,r;i&&!i.disabled&&i.point&&(r=n.Event("released"),!i.opts.disableCornerNavigation||i.userinteracting?(this.trigger(r,[i.point]),r.isDefaultPrevented()||t.hideFoldedPage.call(this,!0)):(r=!0,arguments&&0<arguments.length&&arguments[0].target&&i.parent&&(r=0<i.parent.find(arguments[0].target).length),r&&this.trigger("foldedPageClicked",i.opts.page)));i&&(i.corner=null)},disable:function(n){return t.setData.call(this,{disabled:n}),this}},d=function(n,t,i){if(i[0]&&"object"!=typeof i[0]){if(t[i[0]]&&"_"!=i[0].toString().substr(0,1))return t[i[0]].apply(n,Array.prototype.slice.call(i,1));throw i[0]+" is an invalid value";}return t.init.apply(n,i)};window.requestAnim=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)};n.extend(n.fn,{flip:function(){return d(this,t,arguments)},turn:function(){return d(this,i,arguments)},transform:function(n,t){var i={};return t&&(i[h+"transform-origin"]=t),i[h+"transform"]=n,this.css(i)},animatef:function(t){var i=this.data();if(i.effect&&i.effect.stop(),t){t.to.length||(t.to=[t.to]);t.from.length||(t.from=[t.from]);t.easing||(t.easing=function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i});for(var e=[],f=t.to.length,c=this,o=t.fps||30,u=-o,s=!0,h=function(){if(i.effect&&s){var n,r=[];for(u=Math.min(t.duration,u+o),n=0;n<f;n++)r.push(t.easing(1,u,t.from[n],e[n],t.duration));t.frame(1==f?r[0]:r);u==t.duration?(delete i.effect,c.data(i),t.complete&&t.complete()):window.requestAnim(h)}},r=0;r<f;r++)e.push(t.to[r]-t.from[r]);i.effect=n.extend({stop:function(){s=!1},easing:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i}},t);this.data(i);h()}else delete i.effect}});n.isTouch=s}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n:n(jQuery)}(function(n){function f(i){var f=i||window.event,l=o.call(arguments,1),h=0,e=0,u=0,c=0;if(i=n.event.fix(f),i.type="mousewheel","detail"in f&&(u=f.detail*-1),"wheelDelta"in f&&(u=f.wheelDelta),"wheelDeltaY"in f&&(u=f.wheelDeltaY),"wheelDeltaX"in f&&(e=f.wheelDeltaX*-1),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(e=u*-1,u=0),h=u===0?e:u,"deltaY"in f&&(u=f.deltaY*-1,h=u),"deltaX"in f&&(e=f.deltaX,u===0&&(h=e*-1)),u!==0||e!==0)return c=Math.max(Math.abs(u),Math.abs(e)),(!t||c<t)&&(t=c),h=Math[h>=1?"floor":"ceil"](h/t),e=Math[e>=1?"floor":"ceil"](e/t),u=Math[u>=1?"floor":"ceil"](u/t),i.deltaX=e,i.deltaY=u,i.deltaFactor=t,l.unshift(i,h,e,u),r&&clearTimeout(r),r=setTimeout(s,200),(n.event.dispatch||n.event.handle).apply(this,l)}function s(){t=null}var e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice,r,t,u;if(n.event.fixHooks)for(u=e.length;u;)n.event.fixHooks[e[--u]]=n.event.mouseHooks;n.event.special.mousewheel={version:"3.1.6",setup:function(){if(this.addEventListener)for(var n=i.length;n;)this.addEventListener(i[--n],f,!1);else this.onmousewheel=f},teardown:function(){if(this.removeEventListener)for(var n=i.length;n;)this.removeEventListener(i[--n],f,!1);else this.onmousewheel=null}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}),function(n){function e(n){var i,f,t,r;if(n in u.style||(i=["Moz","Webkit","O","ms"],f=n.charAt(0).toUpperCase()+n.substr(1),n in u.style))return n;for(t=0;t<i.length;++t)if(r=i[t]+f,r in u.style)return r}function a(){return u.style[t.transform]="",u.style[t.transform]="rotateY(90deg)",u.style[t.transform]!==""}function f(n){return typeof n=="string"&&this.parse(n),this}function c(n,t,i){t===!0?n.queue(i):t?n.queue(t,i):i()}function y(t){var i=[];return n.each(t,function(t){t=n.camelCase(t);t=n.transit.propertyMap[t]||t;t=p(t);n.inArray(t,i)===-1&&i.push(t)}),i}function l(t,i,r,u){var o=y(t),f,e;return n.cssEase[r]&&(r=n.cssEase[r]),f=""+s(i)+" "+r,parseInt(u,10)>0&&(f+=" "+s(u)),e=[],n.each(o,function(n,t){e.push(t+" "+f)}),e.join(", ")}function i(i,r){r||(n.cssNumber[i]=!0);n.transit.propertyMap[i]=t.transform;n.cssHooks[i]={get:function(t){var r=n(t).css("transform");return r instanceof f||(r=new f),r.get(i)},set:function(t,r){var u=n(t).css("transform");u instanceof f||(u=new f);u.setFromString(i,r);n(t).css({transform:u})}}}function p(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}function r(n,t){return typeof n!="string"||n.match(/^[\-0-9\.]+$/)?""+n+t:n}function s(t){var i=t;return n.fx.speeds[i]&&(i=n.fx.speeds[i]),r(i,"ms")}var u,t,v,h,o;n.transit={version:"0.1.3",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};u=document.createElement("div");t={};v=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;t.transition=e("transition");t.transitionDelay=e("transitionDelay");t.transform=e("transform");t.transformOrigin=e("transformOrigin");t.transform3d=a();n.extend(n.support,t);h={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};o=t.transitionEnd=h[t.transition]||null;u=null;n.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"};n.cssHooks.transform={get:function(t){return n(t).data("transform")},set:function(i,r){var u=r;u instanceof f||(u=new f(u));i.style[t.transform]=window.eb&&eb.browser.chrome?u.toString(!0):u.toString();n(i).data("transform",u)}};n.cssHooks.transformOrigin={get:function(n){return n.style[t.transformOrigin]},set:function(n,i){n.style[t.transformOrigin]=i}};n.cssHooks.transition={get:function(n){return n.style[t.transition]},set:function(n,i){n.style[t.transition]=i}};i("scale");i("translate");i("rotate");i("rotateX");i("rotateY");i("rotate3d");i("perspective");i("skewX");i("skewY");i("x",!0);i("y",!0);f.prototype={setFromString:function(n,t){var i=typeof t=="string"?t.split(","):t.constructor===Array?t:[t];i.unshift(n);f.prototype.set.apply(this,i)},set:function(n){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[n]?this.setter[n].apply(this,t):this[n]=t.join(",")},get:function(n){return this.getter[n]?this.getter[n].apply(this):this[n]||0},setter:{rotate:function(n){this.rotate=r(n,"deg")},rotateX:function(n){this.rotateX=r(n,"deg")},rotateY:function(n){this.rotateY=r(n,"deg")},scale:function(n,t){t===undefined&&(t=n);this.scale=n+","+t},skewX:function(n){this.skewX=r(n,"deg")},skewY:function(n){this.skewY=r(n,"deg")},perspective:function(n){this.perspective=r(n,"px")},x:function(n){this.set("translate",n,null)},y:function(n){this.set("translate",null,n)},translate:function(n,t){this._translateX===undefined&&(this._translateX=0);this._translateY===undefined&&(this._translateY=0);n!==null&&(this._translateX=r(n,"px"));t!==null&&(this._translateY=r(t,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var n=(this.scale||"1,1").split(",");return n[0]&&(n[0]=parseFloat(n[0])),n[1]&&(n[1]=parseFloat(n[1])),n[0]===n[1]?n[0]:n},rotate3d:function(){for(var n=(this.rotate3d||"0,0,0,0deg").split(","),t=0;t<=3;++t)n[t]&&(n[t]=parseFloat(n[t]));return n[3]&&(n[3]=r(n[3],"deg")),n}},parse:function(n){var t=this;n.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(n,i,r){t.setFromString(i,r)})},toString:function(n){var r=[];for(var i in this)if(this.hasOwnProperty(i)){if(!t.transform3d&&(i==="rotateX"||i==="rotateY"||i==="perspective"||i==="transformOrigin"))continue;i[0]!=="_"&&(n&&i==="scale"?r.push(i+"3d("+this[i]+",1)"):n&&i==="translate"?r.push(i+"3d("+this[i]+",0)"):r.push(i+"("+this[i]+")"))}return r.join(" ")}};n.fn.transition=n.fn.transit=function(i,r,u,f){var e=this,a=0,v=!0,y;typeof r=="function"&&(f=r,r=undefined);typeof u=="function"&&(f=u,u=undefined);typeof i.easing!="undefined"&&(u=i.easing,delete i.easing);typeof i.duration!="undefined"&&(r=i.duration,delete i.duration);typeof i.complete!="undefined"&&(f=i.complete,delete i.complete);typeof i.queue!="undefined"&&(v=i.queue,delete i.queue);typeof i.delay!="undefined"&&(a=i.delay,delete i.delay);typeof r=="undefined"&&(r=n.fx.speeds._default);typeof u=="undefined"&&(u=n.cssEase._default);r=s(r);var p=l(i,r,u,a),w=n.transit.enabled&&t.transition,h=w?parseInt(r,10)+parseInt(a,10):0;if(h===0)return y=function(n){e.css(i);f&&f.apply(e);n&&n()},c(e,v,y),e;var b={},k=function(r){var s=!1,u=function(){s&&e.unbind(o,u);h>0&&e.each(function(){this.style[t.transition]=b[this]||null});typeof f=="function"&&f.apply(e);typeof r=="function"&&r()};h>0&&o&&n.transit.useTransitionEnd?(s=!0,e.bind(o,u)):window.setTimeout(u,h);e.each(function(){h>0&&(this.style[t.transition]=p);n(this).css(i)})},d=function(n){this.offsetWidth;k(n)};return c(e,v,d),this};n.transit.getTransitionValue=l}(jQuery),function(n,t,i){function f(n,i){var r=t.createElement(n||"div");for(var u in i)r[u]=i[u];return r}function u(n){for(var t=1,i=arguments.length;t<i;t++)n.appendChild(arguments[t]);return n}function p(n,t,i,r){var u=["opacity",t,~~(n*100),i,r].join("-"),f=.01+i/r*100,o=Math.max(1-(1-n)/t*(100-f),n),s=e.substring(0,e.indexOf("Animation")).toLowerCase(),h=s&&"-"+s+"-"||"";return a[u]||(v.insertRule("@"+h+"keyframes "+u+"{0%{opacity:"+o+"}"+f+"%{opacity:"+n+"}"+(f+.01)+"%{opacity:1}"+(f+t)%100+"%{opacity:"+n+"}100%{opacity:"+o+"}}",0),a[u]=1),u}function s(n,t){var f=n.style,u,r;if(f[t]!==i)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<l.length;r++)if(u=l[r]+t,f[u]!==i)return u}function r(n,t){for(var i in t)n.style[s(n,i)||i]=t[i];return n}function h(n){for(var u,r,t=1;t<arguments.length;t++){u=arguments[t];for(r in u)n[r]===i&&(n[r]=u[r])}return n}function c(n){for(var t={x:n.offsetLeft,y:n.offsetTop};n=n.offsetParent;)t.x+=n.offsetLeft,t.y+=n.offsetTop;return t}var l=["webkit","Moz","ms","O"],a={},e,v=function(){var n=f("style");return u(t.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),w={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},o=function y(n){if(!this.spin)return new y(n);this.opts=h(n||{},y.defaults,w)};o.defaults={};h(o.prototype,{spin:function(n){this.stop();var i=this,t=i.opts,u=i.el=r(f(0,{className:t.className}),{position:"relative",zIndex:t.zIndex}),l=t.radius+t.length+t.width,o,s;if(n&&(n.insertBefore(u,n.firstChild||null),s=c(n),o=c(u),r(u,{left:(t.left=="auto"?s.x-o.x+(n.offsetWidth>>1):t.left+l)+"px",top:(t.top=="auto"?s.y-o.y+(n.offsetHeight>>1):t.top+l)+"px"})),u.setAttribute("aria-role","progressbar"),i.lines(u,i.opts),!e){var a=0,v=t.fps,h=v/t.speed,y=(1-t.opacity)/(h*t.trail/100),p=h/t.lines;!function w(){var n,r;for(a++,n=t.lines;n;n--)r=Math.max(1-(a+n*p)%h*y,t.opacity),i.opacity(u,t.lines-n,r,t);i.timeout=i.el&&setTimeout(w,~~(1e3/v))}()}return i},stop:function(){var n=this.el;return n&&(clearTimeout(this.timeout),n.parentNode&&n.parentNode.removeChild(n),this.el=i),this},lines:function(n,t){function s(n,u){return r(f(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:n,boxShadow:u,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*i+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.width>>1)+"px"})}for(var i=0,o;i<t.lines;i++)o=r(f(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:e&&p(t.opacity,t.trail,i,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&u(o,r(s("#000","0 0 4px #000"),{top:"2px"})),u(n,u(o,s(t.color,"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(n,t,i){t<n.childNodes.length&&(n.childNodes[t].style.opacity=i)}});!function(){function n(n,t){return f("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=r(f("group"),{behavior:"url(#default#VML)"});!s(t,"transform")&&t.adj?(v.addRule(".spin-vml","behavior:url(#default#VML)"),o.prototype.lines=function(t,i){function s(){return r(n("group",{coordsize:o+" "+o,coordorigin:-e+" "+-e}),{width:o,height:o})}function h(t,f,o){u(l,u(r(s(),{rotation:360/i.lines*t+"deg",left:~~f}),u(r(n("roundrect",{arcsize:1}),{width:e,height:i.width,left:i.radius,top:-i.width>>1,filter:o}),n("fill",{color:i.color,opacity:i.opacity}),n("stroke",{opacity:0}))))}var e=i.length+i.width,o=2*e,c=-(i.width+i.length)*2+"px",l=r(s(),{position:"absolute",top:c,left:c}),f;if(i.shadow)for(f=1;f<=i.lines;f++)h(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=i.lines;f++)h(f);return u(t,l)},o.prototype.opacity=function(n,t,i,r){var u=n.firstChild;r=r.shadow&&r.lines||0;u&&t+r<u.childNodes.length&&(u=u.childNodes[t+r],u=u&&u.firstChild,u=u&&u.firstChild,u&&(u.opacity=i))}):e=s(t,"animation")}();n.Spinner=o}(window,document),function(n){n.fn.visible=function(t,i){var b,k;if(i){var d=jQuery(i),e=n(this),o=parseFloat(jQuery(i+"_parent").css("scale")),ot=(jQuery(i+"_parent").width()-jQuery(i).width())*o,g=jQuery(i).offset().left*-1,nt=jQuery(i).offset().top*-1,tt=e.parent().width(),it=e.parent().height(),l=n(this).attr("id"),rt=l.substr(10,l.indexOf("_",10)-10),y=l.substr(-4),r=0,u=0,ut=rt%2!=0;switch(y){case"l1t1":r=0;u=0;break;case"l2t1":r=.25;u=0;break;case"l1t2":r=0;u=.25;break;case"l2t2":r=.25;u=.25;break;case"r1t1":r=.5;u=0;break;case"r2t1":r=.75;u=0;break;case"r1t2":r=.5;u=.25;break;case"r2t2":r=.75;u=.25;break;case"l1b1":r=0;u=.5;break;case"l2b1":r=.25;u=.5;break;case"l1b2":r=0;u=.75;break;case"l2b2":r=.25;u=.75;break;case"r1b1":r=.5;u=.5;break;case"r2b1":r=.75;u=.5;break;case"r1b2":r=.5;u=.75;break;case"r2b2":r=.75;u=.75}var ft=it*u,et=tt*r,s=d,c=nt,p=c+s.height(),w=g,st=w+s.width();return f=ft*o,h=f+e.height()*o,_left=(et+e.width())*o,_right=(_left-s.width())*o,a=t===!0?h:f,v=t===!0?f:h,compareLeft=t===!0?_left:_right,compareRight=t===!0?_right:_left,b=v<=p&&a>=c,k=compareLeft+(ut?0:s.width()*o)>=w,y=="l1t1",b&&k}var e=n(this),s=n(window),c=s.scrollTop(),p=c+s.height(),f=e.offset().top,h=f+e.height(),a=t===!0?h:f,v=t===!0?f:h;return v<=p&&a>=c}}(jQuery);
/**
 * @license
 * Video.js 5.15.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.videojs=n()}}(function(){var n;return function t(n,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!n[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};n[f][0].call(s.exports,function(t){var i=n[f][1][t];return u(i?i:t)},s,s.exports,t,n,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(2),h=u(s),c=n(5),l=u(c),r=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(){this.player_.play()},t}(h["default"]);r.prototype.controlText_="Play Video";l["default"].registerComponent("BigPlayButton",r);i["default"]=r},{2:2,5:5}],2:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function s(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function h(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function c(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var l=n(3),a=u(l),v=n(5),f=u(v),y=n(86),e=u(y),r=n(88),o=function(n){function t(){return s(this,t),h(this,n.apply(this,arguments))}return c(t,n),t.prototype.createEl=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u;return n=r.assign({className:this.buildCSSClass()},n),"button"!==i&&(e["default"].warn("Creating a Button with an HTML element of "+i+" is deprecated; use ClickableComponent instead."),n=r.assign({tabIndex:0},n),t=r.assign({role:"button"},t)),t=r.assign({type:"button","aria-live":"polite"},t),u=f["default"].prototype.createEl.call(this,i,n,t),this.createControlTextEl(u),u},t.prototype.addChild=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return e["default"].warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),f["default"].prototype.addChild.call(this,n,t)},t.prototype.enable=function(){n.prototype.enable.call(this);this.el_.removeAttribute("disabled")},t.prototype.disable=function(){n.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&n.prototype.handleKeyPress.call(this,t)},t}(a["default"]);f["default"].registerComponent("Button",o);i["default"]=o},{3:3,5:5,86:86,88:88}],3:[function(n,t,i){"use strict";function r(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}function l(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function a(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function v(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var y=n(5),f=u(y),p=n(81),w=r(p),b=n(82),e=r(b),k=n(83),o=r(k),d=n(86),g=u(d),nt=n(94),s=u(nt),h=n(88),c=function(n){function t(i,r){l(this,t);var u=a(this,n.call(this,i,r));return u.emitTapEvents(),u.enable(),u}return v(t,n),t.prototype.createEl=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u;return t=h.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===i&&g["default"].error("Creating a ClickableComponent with an HTML element of "+i+" is not supported; use a Button instead."),r=h.assign({role:"button","aria-live":"polite"},r),this.tabIndex_=t.tabIndex,u=n.prototype.createEl.call(this,i,t,r),this.createControlTextEl(u),u},t.prototype.createControlTextEl=function(n){return this.controlTextEl_=w.createEl("span",{className:"vjs-control-text"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},t.prototype.controlText=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el(),t;return n?(t=this.localize(n),this.controlText_=n,this.controlTextEl_.innerHTML=t,i.setAttribute("title",t),this):this.controlText_||"Need Text"},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){e.on(s["default"],"keydown",o.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):n.prototype.handleKeyPress&&n.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){e.off(s["default"],"keydown",o.bind(this,this.handleKeyPress))},t}(f["default"]);f["default"].registerComponent("ClickableComponent",c);i["default"]=c},{5:5,81:81,82:82,83:83,86:86,88:88,94:94}],4:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(2),h=r(s),c=n(5),l=r(c),u=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.controlText(r&&r.controlText||u.localize("Close")),u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(h["default"]);l["default"].registerComponent("CloseButton",u);i["default"]=u},{2:2,5:5}],5:[function(n,t,i){"use strict";function s(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function h(n){return n&&n.__esModule?n:{"default":n}}function v(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}i.__esModule=!0;var y=n(95),u=h(y),p=n(81),r=s(p),w=n(83),f=s(w),b=n(85),k=s(b),d=n(82),e=s(d),g=n(86),c=h(g),nt=n(91),o=h(nt),tt=n(87),l=h(tt),a=function(){function n(t,i,r){if(v(this,n),this.player_=!t&&this.play?t=this:t,this.options_=l["default"]({},this.options_),i=this.options_=l["default"](this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var u=t&&t.id&&t.id()||"no_player";this.id_=u+"_component_"+k.newGUID()}this.name_=i.name||null;i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl());this.children_=[];this.childIndex_={};this.childNameIndex_={};i.initChildren!==!1&&this.initChildren();this.ready(r);i.reportTouchActivity!==!1&&this.enableTouchActivity()}return n.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);r.removeElData(this.el_);this.el_=null},n.prototype.player=function(){return this.player_},n.prototype.options=function(n){return c["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),n?(this.options_=l["default"](this.options_,n),this.options_):this.options_},n.prototype.el=function(){return this.el_},n.prototype.createEl=function(n,t,i){return r.createEl(n,t,i)},n.prototype.localize=function(n){var r=this.player_.language&&this.player_.language(),u=this.player_.languages&&this.player_.languages(),t,f,i;return!r||!u?n:(t=u[r],t&&t[n])?t[n]:(f=r.split("-")[0],i=u[f],i&&i[n]?i[n]:n)},n.prototype.contentEl=function(){return this.contentEl_||this.el_},n.prototype.id=function(){return this.id_},n.prototype.name=function(){return this.name_},n.prototype.children=function(){return this.children_},n.prototype.getChildById=function(n){return this.childIndex_[n]},n.prototype.getChild=function(n){if(n)return n=o["default"](n),this.childNameIndex_[n]},n.prototype.addChild=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,u=void 0,e,f,h,l;if("string"==typeof t){if(u=o["default"](t),r||(r={}),r===!0&&(c["default"].warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),r={}),e=r.componentClass||u,r.name=u,f=n.getComponent(e),!f)throw new Error("Component "+e+" does not exist");if("function"!=typeof f)return null;i=new f(this.player_||this,r)}else i=t;return(this.children_.splice(s,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),u=u||i.name&&i.name(),u&&(this.childNameIndex_[u]=i),"function"==typeof i.el&&i.el())&&(h=this.contentEl().children,l=h[s]||null,this.contentEl().insertBefore(i.el(),l)),i},n.prototype.removeChild=function(n){var i,t,r;if("string"==typeof n&&(n=this.getChild(n)),n&&this.children_){for(i=!1,t=this.children_.length-1;t>=0;t--)if(this.children_[t]===n){i=!0;this.children_.splice(t,1);break}i&&(this.childIndex_[n.id()]=null,this.childNameIndex_[n.name()]=null,r=n.el(),r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el()))}},n.prototype.initChildren=function(){var t=this,i=this.options_.children;i&&!function(){var u=t.options_,f=function(n){var r=n.name,i=n.opts,f;(void 0!==u[r]&&(i=u[r]),i!==!1)&&(i===!0&&(i={}),i.playerOptions=t.options_.playerOptions,f=t.addChild(r,i),f&&(t[r]=f))},r=void 0,e=n.getComponent("Tech");r=Array.isArray(i)?i:Object.keys(i);r.concat(Object.keys(t.options_).filter(function(n){return!r.some(function(t){return"string"==typeof t?n===t:n===t.name})})).map(function(n){var r=void 0,u=void 0;return"string"==typeof n?(r=n,u=i[r]||t.options_[r]||{}):(r=n.name,u=n),{name:r,opts:u}}).filter(function(t){var i=n.getComponent(t.opts.componentClass||o["default"](t.name));return i&&!e.isTech(i)}).forEach(f)}()},n.prototype.buildCSSClass=function(){return""},n.prototype.on=function(n,t,i){var r=this;return"string"==typeof n||Array.isArray(n)?e.on(this.el_,n,f.bind(this,t)):!function(){var u=n,h=t,o=f.bind(r,i),c=function(){return r.off(u,h,o)},s;c.guid=o.guid;r.on("dispose",c);s=function(){return r.off("dispose",c)};s.guid=o.guid;n.nodeName?(e.on(u,h,o),e.on(u,"dispose",s)):"function"==typeof n.on&&(u.on(h,o),u.on("dispose",s))}(),this},n.prototype.off=function(n,t,i){if(!n||"string"==typeof n||Array.isArray(n))e.off(this.el_,n,t);else{var u=n,o=t,r=f.bind(this,i);this.off("dispose",r);n.nodeName?(e.off(u,o,r),e.off(u,"dispose",r)):(u.off(o,r),u.off("dispose",r))}return this},n.prototype.one=function(n,t,i){var r=this,u=arguments;return"string"==typeof n||Array.isArray(n)?e.one(this.el_,n,f.bind(this,t)):!function(){var e=n,o=t,s=f.bind(r,i),h=function c(){r.off(e,o,c);s.apply(null,u)};h.guid=s.guid;r.on(e,o,h)}(),this},n.prototype.trigger=function(n,t){return e.trigger(this.el_,n,t),this},n.prototype.ready=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n&&(this.isReady_?t?n.call(this):this.setTimeout(n,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(n))),this},n.prototype.triggerReady=function(){this.isReady_=!0;this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[];n&&n.length>0&&n.forEach(function(n){n.call(this)},this);this.trigger("ready")},1)},n.prototype.$=function(n,t){return r.$(n,t||this.contentEl())},n.prototype.$$=function(n,t){return r.$$(n,t||this.contentEl())},n.prototype.hasClass=function(n){return r.hasElClass(this.el_,n)},n.prototype.addClass=function(n){return r.addElClass(this.el_,n),this},n.prototype.removeClass=function(n){return r.removeElClass(this.el_,n),this},n.prototype.toggleClass=function(n,t){return r.toggleElClass(this.el_,n,t),this},n.prototype.show=function(){return this.removeClass("vjs-hidden"),this},n.prototype.hide=function(){return this.addClass("vjs-hidden"),this},n.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},n.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},n.prototype.getAttribute=function(n){return r.getAttribute(this.el_,n)},n.prototype.setAttribute=function(n,t){return r.setAttribute(this.el_,n,t),this},n.prototype.removeAttribute=function(n){return r.removeAttribute(this.el_,n),this},n.prototype.width=function(n,t){return this.dimension("width",n,t)},n.prototype.height=function(n,t){return this.dimension("height",n,t)},n.prototype.dimensions=function(n,t){return this.width(n,!0).height(t)},n.prototype.dimension=function(n,t,i){if(void 0!==t)return null!==t&&t===t||(t=0),this.el_.style[n]=(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?t:"auto"===t?"":t+"px",i||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[n],u=r.indexOf("px");return u!==-1?parseInt(r.slice(0,u),10):parseInt(this.el_["offset"+o["default"](n)],10)},n.prototype.currentDimension=function(n){var t=0,i,r;if("width"!==n&&"height"!==n)throw new Error("currentDimension only accepts width or height value");return"function"==typeof u["default"].getComputedStyle&&(i=u["default"].getComputedStyle(this.el_),t=i.getPropertyValue(n)||i[n]),(t=parseFloat(t),0===t)&&(r="offset"+o["default"](n),t=this.el_[r]),t},n.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.prototype.currentWidth=function(){return this.currentDimension("width")},n.prototype.currentHeight=function(){return this.currentDimension("height")},n.prototype.emitTapEvents=function(){var r=0,n=null,u=10,f=200,t=void 0,i;this.on("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},r=(new Date).getTime(),t=!0)});this.on("touchmove",function(i){if(i.touches.length>1)t=!1;else if(n){var r=i.touches[0].pageX-n.pageX,f=i.touches[0].pageY-n.pageY,e=Math.sqrt(r*r+f*f);e>u&&(t=!1)}});i=function(){t=!1};this.on("touchleave",i);this.on("touchcancel",i);this.on("touchend",function(i){if(n=null,t===!0){var u=(new Date).getTime()-r;u<f&&(i.preventDefault(),this.trigger("tap"))}})},n.prototype.enableTouchActivity=function(){var n,t,i;if(this.player()&&this.player().reportUserActivity){n=f.bind(this.player(),this.player().reportUserActivity);t=void 0;this.on("touchstart",function(){n();this.clearInterval(t);t=this.setInterval(n,250)});i=function(){n();this.clearInterval(t)};this.on("touchmove",n);this.on("touchend",i);this.on("touchcancel",i)}},n.prototype.setTimeout=function(n,t){n=f.bind(this,n);var i=u["default"].setTimeout(n,t),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},n.prototype.clearTimeout=function(n){u["default"].clearTimeout(n);var t=function(){};return t.guid="vjs-timeout-"+n,this.off("dispose",t),n},n.prototype.setInterval=function(n,t){n=f.bind(this,n);var i=u["default"].setInterval(n,t),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},n.prototype.clearInterval=function(n){u["default"].clearInterval(n);var t=function(){};return t.guid="vjs-interval-"+n,this.off("dispose",t),n},n.registerComponent=function(t,i){if(t)return t=o["default"](t),n.components_||(n.components_={}),"Player"===t&&n.components_[t]&&!function(){var i=n.components_[t];if(i.players&&Object.keys(i.players).length>0&&Object.keys(i.players).map(function(n){return i.players[n]}).every(Boolean))throw new Error("Can not register Player component after player has been created");}(),n.components_[t]=i,i},n.getComponent=function(t){if(t)return t=o["default"](t),n.components_&&n.components_[t]?n.components_[t]:u["default"]&&u["default"].videojs&&u["default"].videojs[t]?(c["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),u["default"].videojs[t]):void 0},n.extend=function(t){var u,i,r;t=t||{};c["default"].warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");u=t.init||t.init||this.prototype.init||this.prototype.init||function(){};i=function(){u.apply(this,arguments)};i.prototype=Object.create(this.prototype);i.prototype.constructor=i;i.extend=n.extend;for(r in t)t.hasOwnProperty(r)&&(i.prototype[r]=t[r]);return i},n}();a.registerComponent("Component",a);i["default"]=a},{81:81,82:82,83:83,85:85,86:86,87:87,91:91,95:95}],6:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(36),h=r(s),c=n(5),l=r(c),a=n(7),v=r(a),u=function(n){function t(i){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r;return f(this,t),u.tracks=i.audioTracks&&i.audioTracks(),r=e(this,n.call(this,i,u)),r.el_.setAttribute("aria-label","Audio Menu"),r}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=this.player_.audioTracks&&this.player_.audioTracks(),n,r;if(!i)return t;for(n=0;n<i.length;n++)r=i[n],t.push(new v["default"](this.player_,{track:r,selectable:!0}));return t},t}(h["default"]);u.prototype.controlText_="Audio Track";l["default"].registerComponent("AudioTrackButton",u);i["default"]=u},{36:36,5:5,7:7}],7:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(48),c=r(h),l=n(5),a=r(l),v=n(83),y=f(v),u=function(n){function t(i,r){var f,s,u;return e(this,t),f=r.track,s=i.audioTracks(),r.label=f.label||f.language||"Unknown",r.selected=f.enabled,u=o(this,n.call(this,i,r)),u.track=f,s&&!function(){var n=y.bind(u,u.handleTracksChange);s.addEventListener("change",n);u.on("dispose",function(){s.removeEventListener("change",n)})}(),u}return s(t,n),t.prototype.handleClick=function(t){var r=this.player_.audioTracks(),i,u;if(n.prototype.handleClick.call(this,t),r)for(i=0;i<r.length;i++)u=r[i],u.enabled=u===this.track},t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},t}(c["default"]);a["default"].registerComponent("AudioTrackMenuItem",u);i["default"]=u},{48:48,5:5,83:83}],8:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var f,u,r;i.__esModule=!0;f=n(5);u=e(f);n(12);n(32);n(33);n(35);n(34);n(10);n(18);n(9);n(38);n(40);n(11);n(25);n(27);n(29);n(24);n(6);n(13);n(21);r=function(n){function t(){return o(this,t),s(this,n.apply(this,arguments))}return h(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(u["default"]);r.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]};u["default"].registerComponent("ControlBar",r);i["default"]=r},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(2),h=u(s),c=n(5),l=u(c),r=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.on(i,"fullscreenchange",u.handleFullscreenChange),u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(h["default"]);r.prototype.controlText_="Fullscreen";l["default"].registerComponent("FullscreenToggle",r);i["default"]=r},{2:2,5:5}],10:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(5),r=e(c),l=n(81),a=f(l),u=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.updateShowing(),u.on(u.player(),"durationchange",u.updateShowing),u}return h(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=a.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"<\/span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},t}(r["default"]);r["default"].registerComponent("LiveDisplay",u);i["default"]=u},{5:5,81:81}],11:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(2),l=u(c),a=n(5),v=u(a),y=n(81),f=e(y),r=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.on(i,"volumechange",u.update),i.tech_&&i.tech_.featuresVolumeControl===!1&&u.addClass("vjs-hidden"),u.on(i,"loadstart",function(){this.update();i.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),u}return h(t,n),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.muted(!this.player_.muted())},t.prototype.update=function(){var i=this.player_.volume(),n=3,r,t;for(0===i||this.player_.muted()?n=0:i<.33?n=1:i<.67&&(n=2),r=this.player_.muted()?"Unmute":"Mute",this.controlText()!==r&&this.controlText(r),t=0;t<4;t++)f.removeElClass(this.el_,"vjs-vol-"+t);f.addElClass(this.el_,"vjs-vol-"+n)},t}(l["default"]);r.prototype.controlText_="Mute";v["default"].registerComponent("MuteToggle",r);i["default"]=r},{2:2,5:5,81:81}],12:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(2),h=u(s),c=n(5),l=u(c),r=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.on(i,"play",u.handlePlay),u.on(i,"pause",u.handlePause),u}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")},t.prototype.handlePause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")},t}(h["default"]);r.prototype.controlText_="Play";l["default"].registerComponent("PlayToggle",r);i["default"]=r},{2:2,5:5}],13:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(47),c=r(h),l=n(49),a=r(l),v=n(14),y=r(v),p=n(5),w=r(p),b=n(81),k=f(b),u=function(n){function t(i,r){e(this,t);var u=o(this,n.call(this,i,r));return u.updateVisibility(),u.updateLabel(),u.on(i,"loadstart",u.updateVisibility),u.on(i,"ratechange",u.updateLabel),u}return s(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this);return this.labelEl_=k.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var i=new a["default"](this.player()),t=this.playbackRates(),n;if(t)for(n=t.length-1;n>=0;n--)i.addChild(new y["default"](this.player(),{rate:t[n]+"x"}));return i},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var r=this.player().playbackRate(),n=this.playbackRates(),i=n[0],t=0;t<n.length;t++)if(n[t]>r){i=n[t];break}this.player().playbackRate(i)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(c["default"]);u.prototype.controlText_="Playback Rate";w["default"].registerComponent("PlaybackRateMenuButton",u);i["default"]=u},{14:14,47:47,49:49,5:5,81:81}],14:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(48),h=u(s),c=n(5),l=u(c),r=function(n){function t(i,r){var o,s,u;return f(this,t),o=r.rate,s=parseFloat(o,10),r.label=o,r.selected=1===s,u=e(this,n.call(this,i,r)),u.label=o,u.rate=s,u.on(i,"ratechange",u.update),u}return o(t,n),t.prototype.handleClick=function(){n.prototype.handleClick.call(this);this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(h["default"]);r.prototype.contentElType="button";l["default"].registerComponent("PlaybackRateMenuItem",r);i["default"]=r},{48:48,5:5}],15:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(5),r=e(c),l=n(81),a=f(l),u=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.partEls_=[],u.on(i,"progress",u.update),u}return h(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"<\/span>: 0%<\/span>"})},t.prototype.update=function(){var t=this.player_.buffered(),s=this.player_.duration(),f=this.player_.bufferedEnd(),i=this.partEls_,e=function(n,t){var i=n/t||0;return 100*(i>=1?1:i)+"%"},n,u;for(this.el_.style.width=e(f,s),n=0;n<t.length;n++){var o=t.start(n),h=t.end(n),r=i[n];r||(r=this.el_.appendChild(a.createEl()),i[n]=r);r.style.left=e(o,f);r.style.width=e(h-o,f)}for(u=i.length;u>t.length;u--)this.el_.removeChild(i[u-1]);i.length=t.length},t}(r["default"]);r["default"].registerComponent("LoadProgressBar",u);i["default"]=u},{5:5,81:81}],16:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function c(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function l(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function a(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var v=n(5),o=r(v),y=n(81),u=e(y),p=n(83),s=e(p),w=n(84),b=r(w),k=n(80),f=r(k),h=function(n){function t(i,r){c(this,t);var f=l(this,n.call(this,i,r));return r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(f.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),f.keepTooltipsInside&&(f.tooltip=u.createEl("div",{className:"vjs-time-tooltip"}),f.el().appendChild(f.tooltip),f.addClass("vjs-keep-tooltips-inside")),f.update(0,0),i.on("ready",function(){f.on(i.controlBar.progressControl.el(),"mousemove",s.throttle(s.bind(f,f.handleMouseMove),25))}),f}return a(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(n){var t=this.player_.duration(),i=this.calculateDistance(n)*t,r=n.pageX-u.findElPosition(this.el().parentNode).left;this.update(i,r)},t.prototype.update=function(n,t){var i=b["default"](n,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var r=this.clampPosition_(t),u=t-r+1,e=parseFloat(f["default"](this.tooltip,"width")),o=e/2;this.tooltip.innerHTML=i;this.tooltip.style.right="-"+(o-u)+"px"}},t.prototype.calculateDistance=function(n){return u.getPointerPosition(this.el().parentNode,n).x},t.prototype.clampPosition_=function(n){if(!this.keepTooltipsInside)return n;var r=parseFloat(f["default"](this.player().el(),"width")),u=parseFloat(f["default"](this.tooltip,"width")),t=u/2,i=n;return n<t?i=Math.ceil(t):n>r-t&&(i=Math.floor(r-t)),i},t}(o["default"]);o["default"].registerComponent("MouseTimeDisplay",h);i["default"]=h},{5:5,80:80,81:81,83:83,84:84}],17:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(5),u=r(c),l=n(83),a=e(l),v=n(84),y=r(v),f=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.updateDataAttr(),u.on(i,"timeupdate",u.updateDataAttr),i.ready(a.bind(u,u.updateDataAttr)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(u.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),u.keepTooltipsInside&&u.addClass("vjs-keep-tooltips-inside"),u}return h(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"<\/span>: 0%<\/span>"})},t.prototype.updateDataAttr=function(){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",y["default"](n,this.player_.duration()))},t}(u["default"]);u["default"].registerComponent("PlayProgressBar",f);i["default"]=f},{5:5,83:83,84:84}],18:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var f,u,r;i.__esModule=!0;f=n(5);u=e(f);n(19);n(16);r=function(n){function t(){return o(this,t),s(this,n.apply(this,arguments))}return h(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(u["default"]);r.prototype.options_={children:["seekBar"]};u["default"].registerComponent("ProgressControl",r);i["default"]=r},{16:16,19:19,5:5}],19:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var r;i.__esModule=!0;var c=n(57),l=u(c),a=n(5),v=u(a),y=n(83),p=e(y),w=n(84),b=u(w),k=n(80),f=u(k);n(15);n(17);n(20);r=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.on(i,"timeupdate",u.updateProgress),u.on(i,"ended",u.updateProgress),i.ready(p.bind(u,u.updateProgress)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(u.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),u.keepTooltipsInside&&(u.tooltipProgressBar=u.addChild("TooltipProgressBar")),u}return h(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_);this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var i=parseFloat(f["default"](this.player().el(),"width")),n=parseFloat(f["default"](this.tooltipProgressBar.tooltip,"width")),t=this.tooltipProgressBar.el().style;t.maxWidth=Math.floor(i-n/2)+"px";t.minWidth=Math.ceil(n/2)+"px";t.right="-"+n/2+"px"}},t.prototype.updateAriaAttributes=function(n){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2));n.setAttribute("aria-valuetext",b["default"](t,this.player_.duration()))},t.prototype.getPercent=function(){var n=this.player_.currentTime()/this.player_.duration();return n>=1?1:n},t.prototype.handleMouseDown=function(t){n.prototype.handleMouseDown.call(this,t);this.player_.scrubbing(!0);this.videoWasPlaying=!this.player_.paused();this.pauseTimer_=this.setTimeout(function(){this.player_.pause()},100)},t.prototype.handleMouseMove=function(n){var t=this.calculateDistance(n)*this.player_.duration();t===this.player_.duration()&&(t-=.1);this.player_.currentTime(t);"mousemove"===n.type&&(this.clearTimeout(this.pauseTimer_),this.player_.pause())},t.prototype.handleMouseUp=function(t){n.prototype.handleMouseUp.call(this,t);this.clearTimeout(this.pauseTimer_);this.player_.scrubbing(!1);this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(l["default"]);r.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"};r.prototype.playerEvent="timeupdate";v["default"].registerComponent("SeekBar",r);i["default"]=r},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(5),u=r(c),l=n(83),a=e(l),v=n(84),y=r(v),f=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.updateDataAttr(),u.on(i,"timeupdate",u.updateDataAttr),i.ready(a.bind(u,u.updateDataAttr)),u}return h(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"><\/div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"<\/span>: 0%<\/span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=y["default"](t,this.player_.duration());this.el_.setAttribute("data-current-time",n);this.tooltip.innerHTML=n},t}(u["default"]);u["default"].registerComponent("TooltipProgressBar",f);i["default"]=f},{5:5,83:83,84:84}],21:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(22),h=r(s),c=n(5),l=r(c),u=function(n){function t(){return f(this,t),e(this,n.apply(this,arguments))}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(h["default"]);l["default"].registerComponent("CustomControlSpacer",u);i["default"]=u},{22:22,5:5}],22:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(5),r=f(h),u=function(n){function t(){return e(this,t),o(this,n.apply(this,arguments))}return s(t,n),t.prototype.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(r["default"]);r["default"].registerComponent("Spacer",u);i["default"]=u},{5:5}],23:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(31),h=r(s),c=n(5),l=r(c),u=function(n){function t(i,r){f(this,t);r.track={player:i,kind:r.kind,label:r.kind+" settings",selectable:!1,"default":!1,mode:"disabled"};r.selectable=!1;var u=e(this,n.call(this,i,r));return u.addClass("vjs-texttrack-settings"),u.controlText(", opens "+r.kind+" settings dialog"),u}return o(t,n),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show();this.player().getChild("textTrackSettings").el_.focus()},t}(h["default"]);l["default"].registerComponent("CaptionSettingsMenuItem",u);i["default"]=u},{31:31,5:5}],24:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(30),h=u(s),c=n(5),l=u(c),a=n(23),v=u(a),r=function(n){function t(i,r,u){f(this,t);var o=e(this,n.call(this,i,r,u));return o.el_.setAttribute("aria-label","Captions Menu"),o}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},t.prototype.update=function(){var t=2;n.prototype.update.call(this);this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(t=1);this.items&&this.items.length>t?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new v["default"](this.player_,{kind:this.kind_})),n.prototype.createItems.call(this,t)},t}(h["default"]);r.prototype.kind_="captions";r.prototype.controlText_="Captions";l["default"].registerComponent("CaptionsButton",r);i["default"]=r},{23:23,30:30,5:5}],25:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(30),h=r(s),c=n(5),l=r(c),a=n(26),v=r(a),y=n(91),p=r(y),u=function(n){function t(i,r,u){f(this,t);var o=e(this,n.call(this,i,r,u));return o.el_.setAttribute("aria-label","Chapters Menu"),o}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack());n.prototype.update.call(this)},t.prototype.setTrack=function(n){var t,i;this.track_!==n&&((this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_)&&(t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),t&&t.removeEventListener("load",this.updateHandler_),this.track_=null),(this.track_=n,this.track_)&&(this.track_.mode="hidden",i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),i&&i.addEventListener("load",this.updateHandler_)))},t.prototype.findChaptersTrack=function(){for(var i,t=this.player_.textTracks()||[],n=t.length-1;n>=0;n--)if(i=t[n],i.kind===this.kind_)return i},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(p["default"](this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},t.prototype.createItems=function(){var i=[],n,t,r,u,f;if(!this.track_||(n=this.track_.cues,!n))return i;for(t=0,r=n.length;t<r;t++)u=n[t],f=new v["default"](this.player_,{track:this.track_,cue:u}),i.push(f);return i},t}(h["default"]);u.prototype.kind_="chapters";u.prototype.controlText_="Chapters";l["default"].registerComponent("ChaptersButton",u);i["default"]=u},{26:26,30:30,5:5,91:91}],26:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(48),c=r(h),l=n(5),a=r(l),v=n(83),y=f(v),u=function(n){function t(i,r){var u;e(this,t);var s=r.track,f=r.cue,h=i.currentTime();return r.selectable=!0,r.label=f.text,r.selected=f.startTime<=h&&h<f.endTime,u=o(this,n.call(this,i,r)),u.track=s,u.cue=f,s.addEventListener("cuechange",y.bind(u,u.update)),u}return s(t,n),t.prototype.handleClick=function(){n.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)},t.prototype.update=function(){var n=this.cue,t=this.player_.currentTime();this.selected(n.startTime<=t&&t<n.endTime)},t}(c["default"]);a["default"].registerComponent("ChaptersTrackMenuItem",u);i["default"]=u},{48:48,5:5,83:83}],27:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(30),c=u(h),l=n(5),a=u(l),v=n(83),y=f(v),r=function(n){function t(i,r,u){var f,s;return e(this,t),f=o(this,n.call(this,i,r,u)),f.el_.setAttribute("aria-label","Descriptions Menu"),s=i.textTracks(),s&&!function(){var n=y.bind(f,f.handleTracksChange);s.addEventListener("change",n);f.on("dispose",function(){s.removeEventListener("change",n)})}(),f}return s(t,n),t.prototype.handleTracksChange=function(){for(var t,i=this.player().textTracks(),r=!1,n=0,u=i.length;n<u;n++)if(t=i[n],t.kind!==this.kind_&&"showing"===t.mode){r=!0;break}r?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},t}(c["default"]);r.prototype.kind_="descriptions";r.prototype.controlText_="Descriptions";a["default"].registerComponent("DescriptionsButton",r);i["default"]=r},{30:30,5:5,83:83}],28:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(31),h=r(s),c=n(5),l=r(c),u=function(n){function t(i,r){f(this,t);r.track={player:i,kind:r.kind,label:r.kind+" off","default":!1,mode:"disabled"};r.selectable=!0;var u=e(this,n.call(this,i,r));return u.selected(!0),u}return o(t,n),t.prototype.handleTracksChange=function(){for(var t,i=this.player().textTracks(),r=!0,n=0,u=i.length;n<u;n++)if(t=i[n],t.kind===this.track.kind&&"showing"===t.mode){r=!1;break}this.selected(r)},t}(h["default"]);l["default"].registerComponent("OffTextTrackMenuItem",u);i["default"]=u},{31:31,5:5}],29:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(30),h=u(s),c=n(5),l=u(c),r=function(n){function t(i,r,u){f(this,t);var o=e(this,n.call(this,i,r,u));return o.el_.setAttribute("aria-label","Subtitles Menu"),o}return o(t,n),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},t}(h["default"]);r.prototype.kind_="subtitles";r.prototype.controlText_="Subtitles";l["default"].registerComponent("SubtitlesButton",r);i["default"]=r},{30:30,5:5}],30:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(36),h=r(s),c=n(5),l=r(c),a=n(31),v=r(a),y=n(28),p=r(y),u=function(n){function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,t),r.tracks=i.textTracks(),e(this,n.call(this,i,r))}return o(t,n),t.prototype.createItems=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t,i,r;if(n.push(new p["default"](this.player_,{kind:this.kind_})),t=this.player_.textTracks(),!t)return n;for(i=0;i<t.length;i++)r=t[i],r.kind===this.kind_&&n.push(new v["default"](this.player_,{track:r,selectable:!0}));return n},t}(h["default"]);l["default"].registerComponent("TextTrackButton",u);i["default"]=u},{28:28,31:31,36:36,5:5}],31:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},l=n(48),a=r(l),v=n(5),y=r(v),p=n(83),w=e(p),b=n(95),u=r(b),k=n(94),d=r(k),f=function(n){function t(i,r){var h,f,e;return o(this,t),h=r.track,f=i.textTracks(),r.label=h.label||h.language||"Unknown",r.selected=h["default"]||"showing"===h.mode,e=s(this,n.call(this,i,r)),e.track=h,f&&!function(){var n=w.bind(e,e.handleTracksChange);f.addEventListener("change",n);e.on("dispose",function(){f.removeEventListener("change",n)})}(),f&&void 0===f.onchange&&!function(){var n=void 0;e.on(["tap","click"],function(){if("object"!==c(u["default"].Event))try{n=new u["default"].Event("change")}catch(t){}n||(n=d["default"].createEvent("Event"),n.initEvent("change",!0,!0));f.dispatchEvent(n)})}(),e}return h(t,n),t.prototype.handleClick=function(t){var f=this.track.kind,u=this.player_.textTracks(),i,r;if(n.prototype.handleClick.call(this,t),u)for(i=0;i<u.length;i++)r=u[i],r.kind===f&&(r.mode=r===this.track?"showing":"disabled")},t.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},t}(a["default"]);y["default"].registerComponent("TextTrackMenuItem",f);i["default"]=f},{48:48,5:5,83:83,94:94,95:95}],32:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(5),u=r(c),l=n(81),a=e(l),v=n(84),y=r(v),f=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.on(i,"timeupdate",u.updateContent),u}return h(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=a.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time <\/span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),i=this.localize("Current Time"),n=y["default"](t,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+i+"<\/span> "+n)},t}(u["default"]);u["default"].registerComponent("CurrentTimeDisplay",f);i["default"]=f},{5:5,81:81,84:84}],33:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(5),u=r(c),l=n(81),a=e(l),v=n(84),y=r(v),f=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.on(i,"durationchange",u.updateContent),u.on(i,"timeupdate",u.updateContent),u.on(i,"loadedmetadata",u.updateContent),u}return h(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=a.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"<\/span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var n=this.player_.duration(),t,i;n&&this.duration_!==n&&(this.duration_=n,t=this.localize("Duration Time"),i=y["default"](n),this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"<\/span> "+i)},t}(u["default"]);u["default"].registerComponent("DurationDisplay",f);i["default"]=f},{5:5,81:81,84:84}],34:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(5),u=r(c),l=n(81),a=e(l),v=n(84),y=r(v),f=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.on(i,"timeupdate",u.updateContent),u.on(i,"durationchange",u.updateContent),u}return h(t,n),t.prototype.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=a.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"<\/span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){if(this.player_.duration()){var t=this.localize("Remaining Time"),n=y["default"](this.player_.remainingTime());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"<\/span> -"+n)}},t}(u["default"]);u["default"].registerComponent("RemainingTimeDisplay",f);i["default"]=f},{5:5,81:81,84:84}],35:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(5),r=f(h),u=function(n){function t(){return e(this,t),o(this,n.apply(this,arguments))}return s(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/<\/span><\/div>"})},t}(r["default"]);r["default"].registerComponent("TimeDivider",u);i["default"]=u},{5:5}],36:[function(n,t,i){"use strict";function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(47),c=r(h),l=n(5),a=r(l),v=n(83),y=e(v),f=function(n){function t(i,r){var e,f,s;return(o(this,t),e=r.tracks,f=u(this,n.call(this,i,r)),f.items.length<=1&&f.hide(),!e)?u(f):(s=y.bind(f,f.update),e.addEventListener("removetrack",s),e.addEventListener("addtrack",s),f.player_.on("dispose",function(){e.removeEventListener("removetrack",s);e.removeEventListener("addtrack",s)}),f)}return s(t,n),t}(c["default"]);a["default"].registerComponent("TrackButton",f);i["default"]=f},{47:47,5:5,83:83}],37:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var r;i.__esModule=!0;var h=n(57),c=u(h),l=n(5),a=u(l),v=n(83),y=f(v);n(39);r=function(n){function t(i,r){e(this,t);var u=o(this,n.call(this,i,r));return u.on(i,"volumechange",u.updateARIAAttributes),i.ready(y.bind(u,u.updateARIAAttributes)),u}return s(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(n){this.checkMuted();this.player_.volume(this.calculateDistance(n))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var n=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",n);this.el_.setAttribute("aria-valuetext",n+"%")},t}(c["default"]);r.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};r.prototype.playerEvent="volumechange";a["default"].registerComponent("VolumeBar",r);i["default"]=r},{39:39,5:5,57:57,83:83}],38:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var f,u,r;i.__esModule=!0;f=n(5);u=e(f);n(37);r=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return i.tech_&&i.tech_.featuresVolumeControl===!1&&u.addClass("vjs-hidden"),u.on(i,"loadstart",function(){i.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),u}return h(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(u["default"]);r.prototype.options_={children:["volumeBar"]};u["default"].registerComponent("VolumeControl",r);i["default"]=r},{37:37,5:5}],39:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(5),r=f(h),u=function(n){function t(){return e(this,t),o(this,n.apply(this,arguments))}return s(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"><\/span>'})},t}(r["default"]);r["default"].registerComponent("VolumeLevel",u);i["default"]=u},{5:5}],40:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function s(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function h(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function c(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var l=n(83),f=o(l),a=n(5),v=r(a),y=n(54),p=r(y),w=n(53),b=r(w),k=n(11),e=r(k),d=n(37),g=r(d),u=function(n){function t(i){function f(){i.tech_&&i.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r;return s(this,t),void 0===u.inline&&(u.inline=!0),void 0===u.vertical&&(u.vertical=u.inline?!1:!0),u.volumeBar=u.volumeBar||{},u.volumeBar.vertical=!!u.vertical,r=h(this,n.call(this,i,u)),r.on(i,"volumechange",r.volumeUpdate),r.on(i,"loadstart",r.volumeUpdate),f.call(r),r.on(i,"loadstart",f),r.on(r.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),r.on(r.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),r.on(r.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),r.on(r.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),r}return c(t,n),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+n.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var n=new p["default"](this.player_,{contentElType:"div"}),t=new g["default"](this.player_,this.options_.volumeBar);return n.addChild(t),this.menuContent=n,this.volumeBar=t,this.attachVolumeBarEvents(),n},t.prototype.handleClick=function(){e["default"].prototype.handleClick.call(this);n.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],f.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(){this.on(["mousemove","touchmove"],f.bind(this.volumeBar,this.volumeBar.handleMouseMove));this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(){this.off(["mousemove","touchmove"],f.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(b["default"]);u.prototype.volumeUpdate=e["default"].prototype.update;u.prototype.controlText_="Mute";v["default"].registerComponent("VolumeMenuButton",u);i["default"]=u},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(5),c=r(h),l=n(50),f=r(l),a=n(87),v=r(a),u=function(n){function t(i,r){e(this,t);var u=o(this,n.call(this,i,r));return u.on(i,"error",u.open),u}return s(t,n),t.prototype.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var n=this.player().error();return n?this.localize(n.message):""},t}(f["default"]);u.prototype.options_=v["default"](f["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0});c["default"].registerComponent("ErrorDisplay",u);i["default"]=u},{5:5,50:50,87:87}],42:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}i.__esModule=!0;var e=n(82),u=f(e),r=function(){};r.prototype.allowedEvents_={};r.prototype.on=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};u.on(this,n,t);this.addEventListener=i};r.prototype.addEventListener=r.prototype.on;r.prototype.off=function(n,t){u.off(this,n,t)};r.prototype.removeEventListener=r.prototype.off;r.prototype.one=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};u.one(this,n,t);this.addEventListener=i};r.prototype.trigger=function(n){var t=n.type||n;"string"==typeof n&&(n={type:t});n=u.fixEvent(n);this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](n);u.trigger(this,n)};r.prototype.dispatchEvent=r.prototype.trigger;i["default"]=r},{82:82}],43:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}i.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},f=n(86),e=r(f),o=n(88),s=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(n.super_=t)},h=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){n.apply(this,arguments)},r={},u;o.isObject(t)?("function"==typeof t.init&&(e["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(i=t.constructor),r=t):"function"==typeof t&&(i=t);s(i,n);for(u in r)r.hasOwnProperty(u)&&(i.prototype[u]=r[u]);return i};i["default"]=h},{86:86,88:88}],44:[function(n,t,i){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}var r;i.__esModule=!0;for(var h=n(94),c=s(h),o={},u=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullscreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=u[0],f=void 0,e=0;e<u.length;e++)if(u[e][1]in c["default"]){f=u[e];break}if(f)for(r=0;r<f.length;r++)o[l[r]]=f[r];i["default"]=o},{94:94}],45:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(5),r=f(h),u=function(n){function t(){return e(this,t),o(this,n.apply(this,arguments))}return s(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(r["default"]);r["default"].registerComponent("LoadingSpinner",u);i["default"]=u},{5:5}],46:[function(n,t,i){"use strict";function r(n){return n instanceof r?n:("number"==typeof n?this.code=n:"string"==typeof n?this.message=n:f.isObject(n)&&("number"==typeof n.code&&(this.code=n.code),f.assign(this,n)),void(this.message||(this.message=r.defaultMessages[this.code]||"")))}var f,u;for(i.__esModule=!0,f=n(88),r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},u=0;u<r.errorTypes.length;u++)r[r.errorTypes[u]]=u,r.prototype[r.errorTypes[u]]=u;i["default"]=r},{88:88}],47:[function(n,t,i){"use strict";function u(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(3),l=r(c),a=n(5),v=r(a),y=n(49),p=r(y),w=n(81),f=u(w),b=n(83),k=u(b),d=n(91),g=r(d),e=function(n){function t(i){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r;return o(this,t),r=s(this,n.call(this,i,u)),r.update(),r.enabled_=!0,r.el_.setAttribute("aria-haspopup","true"),r.el_.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return h(t,n),t.prototype.update=function(){var n=this.createMenu();this.menu&&this.removeChild(this.menu);this.menu=n;this.addChild(n);this.buttonPressed_=!1;this.el_.setAttribute("aria-expanded","false");this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var n=new p["default"](this.player_),i,t;if(this.options_.title&&(i=f.createEl("li",{className:"vjs-menu-title",innerHTML:g["default"](this.options_.title),tabIndex:-1}),n.children_.unshift(i),f.insertElFirst(i,n.contentEl())),this.items=this.createItems(),this.items)for(t=0;t<this.items.length;t++)n.addItem(this.items[t]);return n},t.prototype.createItems=function(){},t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+n.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",k.bind(this,function(){this.unpressButton();this.el_.blur()}));this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):n.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(n){27!==n.which&&9!==n.which||(this.buttonPressed_&&this.unpressButton(),9!==n.which&&n.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,n.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,n.prototype.enable.call(this)},t}(l["default"]);v["default"].registerComponent("MenuButton",e);i["default"]=e},{3:3,49:49,5:5,81:81,83:83,91:91}],48:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(3),h=r(s),c=n(5),l=r(c),a=n(88),u=function(n){function t(i,r){f(this,t);var u=e(this,n.call(this,i,r));return u.selectable=r.selectable,u.selected(r.selected),u.selectable?u.el_.setAttribute("role","menuitemcheckbox"):u.el_.setAttribute("role","menuitem"),u}return o(t,n),t.prototype.createEl=function(t,i,r){return n.prototype.createEl.call(this,"li",a.assign({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},i),r)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(h["default"]);l["default"].registerComponent("MenuItem",u);i["default"]=u},{3:3,5:5,88:88}],49:[function(n,t,i){"use strict";function r(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(5),u=e(c),l=n(81),a=r(l),v=n(83),y=r(v),p=n(82),w=r(p),f=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.focusedChild_=-1,u.on("keydown",u.handleKeyPress),u}return h(t,n),t.prototype.addItem=function(n){this.addChild(n);n.on("click",y.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var i=this.options_.contentElType||"ul",t;return this.contentEl_=a.createEl(i,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}),t.setAttribute("role","presentation"),t.appendChild(this.contentEl_),w.on(t,"click",function(n){n.preventDefault();n.stopImmediatePropagation()}),t},t.prototype.handleKeyPress=function(n){37===n.which||40===n.which?(n.preventDefault(),this.stepForward()):38!==n.which&&39!==n.which||(n.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_+1);this.focus(n)},t.prototype.stepBack=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_-1);this.focus(n)},t.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.children().slice(),i=n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className);i&&n.shift();n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.focusedChild_=t,n[t].el_.focus())},t}(u["default"]);u["default"].registerComponent("Menu",f);i["default"]=f},{5:5,81:81,82:82,83:83}],50:[function(n,t,i){"use strict";function h(n){return n&&n.__esModule?n:{"default":n}}function e(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function c(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function l(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function a(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var v=n(81),r=e(v),y=n(83),o=e(y),p=n(5),s=h(p),u="vjs-modal-dialog",w=27,f=function(n){function t(i,f){c(this,t);var e=l(this,n.call(this,i,f));return e.opened_=e.hasBeenOpened_=e.hasBeenFilled_=!1,e.closeable(!e.options_.uncloseable),e.content(e.options_.content),e.contentEl_=r.createEl("div",{className:u+"-content"},{role:"document"}),e.descEl_=r.createEl("p",{className:u+"-description vjs-offscreen",id:e.el().getAttribute("aria-describedby")}),r.textContent(e.descEl_,e.description()),e.el_.appendChild(e.descEl_),e.el_.appendChild(e.contentEl_),e}return a(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return u+" vjs-hidden "+n.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(n){n.which===w&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},t.prototype.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen");this.opened_=!0;(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill();this.wasPlaying_=!n.paused();this.wasPlaying_&&n.pause();this.closeable()&&this.on(this.el_.ownerDocument,"keydown",o.bind(this,this.handleKeyPress));n.controls(!1);this.show();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=!0}return this},t.prototype.opened=function(n){return"boolean"==typeof n&&this[n?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var n=this.player();this.trigger("beforemodalclose");this.opened_=!1;this.wasPlaying_&&n.play();this.closeable()&&this.off(this.el_.ownerDocument,"keydown",o.bind(this,this.handleKeyPress));n.controls(!0);this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function(n){var i,t,r;return"boolean"==typeof n&&(i=this.closeable_=!!n,t=this.getChild("closeButton"),i&&!t&&(r=this.contentEl_,this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(t,"close",this.close)),!i&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())),this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(n){var t=this.contentEl(),i=t.parentNode,u=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),r.insertContent(t,n),this.trigger("modalfill"),u?i.insertBefore(t,u):i.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),r.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(n){return"undefined"!=typeof n&&(this.content_=n),this.content_},t}(s["default"]);f.prototype.options_={temporary:!0};s["default"].registerComponent("ModalDialog",f);i["default"]=f},{5:5,81:81,83:83}],51:[function(n,t,i){"use strict";function s(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function it(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function rt(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function ut(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var k,o,c;i.__esModule=!0;var ft=n(5),h=r(ft),et=n(94),f=r(et),ot=n(95),v=r(ot),st=n(82),y=s(st),ht=n(81),u=s(ht),ct=n(83),p=s(ct),lt=n(85),at=s(lt),vt=n(78),yt=s(vt),pt=n(86),e=r(pt),wt=n(91),l=r(wt),bt=n(90),kt=n(79),dt=n(89),d=s(dt),gt=n(44),g=r(gt),ni=n(46),nt=r(ni),ti=n(97),ii=r(ti),w=n(88),ri=n(87),b=r(ri),ui=n(69),tt=r(ui),fi=n(50),ei=r(fi),oi=n(62),a=r(oi),si=n(63),hi=r(si),ci=n(76),li=r(ci);n(61);n(59);n(55);n(68);n(45);n(1);n(4);n(8);n(41);n(71);n(60);k=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"];o=function(n){function t(i,r,f){var h,s,o,c;if(it(this,t),i.id=i.id||"vjs_video_"+at.newGUID(),r=w.assign(t.getTagSettings(i),r),r.initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof i.closest)h=i.closest("[lang]"),h&&(r.language=h.getAttribute("lang"));else for(s=i;s&&1===s.nodeType;){if(u.getElAttributes(s).hasOwnProperty("lang")){r.language=s.getAttribute("lang");break}s=s.parentNode}if(o=rt(this,n.call(this,null,r,f)),!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");return o.tag=i,o.tagAttributes=i&&u.getElAttributes(i),o.language(o.options_.language),r.languages?!function(){var n={};Object.getOwnPropertyNames(r.languages).forEach(function(t){n[t.toLowerCase()]=r.languages[t]});o.languages_=n}():o.languages_=t.prototype.options_.languages,o.cache_={},o.poster_=r.poster||"",o.controls_=!!r.controls,i.controls=!1,o.scrubbing_=!1,o.el_=o.createEl(),c=b["default"](o.options_),r.plugins&&!function(){var n=r.plugins;Object.getOwnPropertyNames(n).forEach(function(t){"function"==typeof this[t]?this[t](n[t]):e["default"].error("Unable to find plugin:",t)},o)}(),o.options_.playerOptions=c,o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label","audio player"):o.el_.setAttribute("aria-label","video player"),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),yt.IS_IOS||o.addClass("vjs-workinghover"),t.players[o.id_]=o,o.userActive(!0),o.reportUserActivity(),o.listenForUserActivity_(),o.on("fullscreenchange",o.handleFullscreenChange_),o.on("stageclick",o.handleStageClick_),o}return ut(t,n),t.prototype.dispose=function(){this.trigger("dispose");this.off("dispose");this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_);t.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.tech_&&this.tech_.dispose();n.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,i=void 0,c=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute("data-vjs-player"),r,e,o,s,f,h;for(i=this.el_=c?t.parentNode:n.prototype.createEl.call(this,"div"),t.removeAttribute("width"),t.removeAttribute("height"),r=u.getElAttributes(t),(Object.getOwnPropertyNames(r).forEach(function(n){"class"===n?i.className+=" "+r[n]:i.setAttribute(n,r[n])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=i.player=this,this.addClass("vjs-paused"),v["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0)&&(this.styleEl_=d.createStyleElement("vjs-styles-dimensions"),e=u.$(".vjs-styles-defaults"),o=u.$("head"),o.insertBefore(this.styleEl_,e?e.nextSibling:o.firstChild)),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),s=t.getElementsByTagName("a"),f=0;f<s.length;f++)h=s.item(f),u.addElClass(h,"vjs-hidden"),h.setAttribute("hidden","hidden");return t.initNetworkState_=t.networkState,t.parentNode&&!c&&t.parentNode.insertBefore(i,t),u.insertElFirst(t,i),this.children_.unshift(t),this.el_=i,i},t.prototype.width=function(n){return this.dimension("width",n)},t.prototype.height=function(n){return this.dimension("height",n)},t.prototype.dimension=function(n,t){var i=n+"_",r;if(void 0===t)return this[i]||0;if(""===t)this[i]=void 0;else{if(r=parseFloat(t),isNaN(r))return e["default"].error('Improper value "'+t+'" supplied for for '+n),this;this[i]=r}return this.updateStyleEl_(),this},t.prototype.fluid=function(n){return void 0===n?!!this.fluid_:(this.fluid_=!!n,n?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},t.prototype.aspectRatio=function(n){if(void 0===n)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n;this.fluid(!0);this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){var u,t;if(v["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var f="number"==typeof this.width_?this.width_:this.options_.width,e="number"==typeof this.height_?this.height_:this.options_.height,i=this.tech_&&this.tech_.el();return void(i&&(f>=0&&(i.width=f),e>=0&&(i.height=e)))}var r=void 0,o=void 0,s=void 0,n=void 0;s=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";u=s.split(":");t=u[1]/u[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/t:this.videoWidth()||300;o=void 0!==this.height_?this.height_:r*t;n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions";this.addClass(n);d.setTextContent(this.styleEl_,"\n      ."+n+" {\n        width: "+r+"px;\n        height: "+o+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*t+"%;\n      }\n    ")},t.prototype.loadTech_=function(n,t){var f=this,i,r;this.tech_&&this.unloadTech_();"Html5"!==n&&this.tag&&(a["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null);this.techName_=n;this.isReady_=!1;i=w.assign({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+n+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[n.toLowerCase()]);this.tag&&(i.tag=this.tag);t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(i.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);r=a["default"].getTech(n);r||(r=h["default"].getComponent(n));this.tech_=new r(i);this.tech_.ready(p.bind(this,this.handleTechReady_),!0);tt["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_);k.forEach(function(n){f.on(f.tech_,n,f["handleTech"+l["default"](n)+"_"])});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"canplay",this.handleTechCanPlay_);this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_);this.on(this.tech_,"playing",this.handleTechPlaying_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"seeked",this.handleTechSeeked_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.usingNativeControls(this.techGet_("controls"));this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_();this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||u.insertElFirst(this.tech_.el(),this.el());this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks();this.textTracks_=this.textTracks();this.audioTracks_=this.audioTracks();this.textTracksJson_=tt["default"].textTracksToJson(this.tech_);this.isReady_=!1;this.tech_.dispose();this.tech_=!1},t.prototype.tech=function(n){if(n&&n.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw v["default"].alert(t),new Error(t);},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_();this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(n){e["default"]("deleting tag.poster throws in some browsers",n)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(n){return void 0!==n?(this.hasStarted_!==n&&(this.hasStarted_=n,n?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0);this.trigger("play")},t.prototype.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting");this.trigger("waiting");this.one("timeupdate",function(){return n.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting");this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting");this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking");this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking");this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(e["default"].warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime));this.addClass("vjs-has-started");this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended");this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause();this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(n){0===n.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(n){n.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(n,t){t&&this.isFullscreen(t.isFullscreen);this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var n=this.tech_.error();this.error(n)},t.prototype.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]);this.trigger("textdata",n)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(n,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[n](t)},!0);else try{this.tech_&&this.tech_[n](t)}catch(i){throw e["default"](i),i;}},t.prototype.techGet_=function(n){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[n]()}catch(t){throw void 0===this.tech_[n]?e["default"]("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(e["default"]("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):e["default"](t),t;}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")!==!1},t.prototype.scrubbing=function(n){return void 0!==n?(this.scrubbing_=!!n,n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(n){return void 0!==n?(this.techCall_("setCurrentTime",n),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(n){return void 0===n?this.cache_.duration||0:(n=parseFloat(n)||0,n<0&&(n=1/0),n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function(){var n=this.techGet_("buffered");return n&&n.length||(n=bt.createTimeRange(0,0)),n},t.prototype.bufferedPercent=function(){return kt.bufferedPercent(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var t=this.buffered(),i=this.duration(),n=t.end(t.length-1);return n>i&&(n=i),n},t.prototype.volume=function(n){var t=void 0;return void 0!==n?(t=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(n){return void 0!==n?(this.techCall_("setMuted",n),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(n){return void 0!==n?(this.isFullscreen_=!!n,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var n=g["default"];return this.isFullscreen(!0),n.requestFullscreen?(y.on(f["default"],n.fullscreenchange,p.bind(this,function t(){this.isFullscreen(f["default"][n.fullscreenElement]);this.isFullscreen()===!1&&y.off(f["default"],n.fullscreenchange,t);this.trigger("fullscreenchange")})),this.el_[n.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var n=g["default"];return this.isFullscreen(!1),n.requestFullscreen?f["default"][n.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=f["default"].documentElement.style.overflow;y.on(f["default"],"keydown",p.bind(this,this.fullWindowOnEscKey));f["default"].documentElement.style.overflow="hidden";u.addElClass(f["default"].body,"vjs-full-window");this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(n){27===n.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1;y.off(f["default"],"keydown",this.fullWindowOnEscKey);f["default"].documentElement.style.overflow=this.docOrigOverflow;u.removeElClass(f["default"].body,"vjs-full-window");this.trigger("exitFullWindow")},t.prototype.canPlayType=function(n){for(var i,t,u=void 0,r=0,f=this.options_.techOrder;r<f.length;r++)if(i=l["default"](f[r]),t=a["default"].getTech(i),t||(t=h["default"].getComponent(i)),t){if(t.isSupported()&&(u=t.canPlayType(n)))return u}else e["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.');return""},t.prototype.selectSource=function(n){var f=this,t=this.options_.techOrder.map(l["default"]).map(function(n){return[n,a["default"].getTech(n)||h["default"].getComponent(n)]}).filter(function(n){var i=n[0],t=n[1];return t?t.isSupported():(e["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(n,t,i){var r=void 0;return n.some(function(n){return t.some(function(t){if(r=i(n,t))return!0})}),r},r=void 0,o=function(n){return function(t,i){return n(i,t)}},u=function(n,t){var i=n[0],r=n[1];if(r.canPlaySource(t,f.options_[i.toLowerCase()]))return{source:t,tech:i}};return r=this.options_.sourceOrder?i(n,t,o(u)):i(t,n,u),r||!1},t.prototype.src=function(n){if(void 0===n)return this.techGet_("src");var t=a["default"].getTech(this.techName_);return t||(t=h["default"].getComponent(this.techName_)),Array.isArray(n)?this.sourceList_(n):"string"==typeof n?this.src({src:n}):n instanceof Object&&(n.type&&!t.canPlaySource(n,this.options_[this.techName_.toLowerCase()])?this.sourceList_([n]):(this.cache_.sources=null,this.cache_.source=n,this.cache_.src=n.src,this.currentType_=n.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src);"auto"===this.options_.preload&&this.load();this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(n){var t=this.selectSource(n);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=n):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_(l["default"](this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSources=function(){var n=this.currentSource(),t=[];return 0!==Object.keys(n).length&&t.push(n),this.cache_.sources||t},t.prototype.currentSource=function(){var n={},t=this.currentSrc();return t&&(n.src=t),this.cache_.source||n},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(n){return void 0!==n?(this.techCall_("setPreload",n),this.options_.preload=n,this):this.techGet_("preload")},t.prototype.autoplay=function(n){return void 0!==n?(this.techCall_("setAutoplay",n),this.options_.autoplay=n,this):this.techGet_("autoplay",n)},t.prototype.loop=function(n){return void 0!==n?(this.techCall_("setLoop",n),this.options_.loop=n,this):this.techGet_("loop")},t.prototype.poster=function(n){return void 0===n?this.poster_:(n||(n=""),this.poster_=n,this.techCall_("setPoster",n),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(n){return void 0!==n?(n=!!n,this.controls_!==n&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),n?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(n){return void 0!==n?(n=!!n,this.usingNativeControls_!==n&&(this.usingNativeControls_=n,n?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(n){return void 0===n?this.error_||null:null===n?(this.error_=n,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new nt["default"](n),this.addClass("vjs-error"),e["default"].error("(CODE:"+this.error_.code+" "+nt["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.reportUserActivity=function(){this.userActivity_=!0},t.prototype.userActive=function(n){return void 0!==n?(n=!!n,n!==this.userActive_&&(this.userActive_=n,n?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation();n.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var t=void 0,r=void 0,u=void 0,n=p.bind(this,this.reportUserActivity),f=function(t){t.screenX===r&&t.screenY===u||(r=t.screenX,u=t.screenY,n())},e=function(){n();this.clearInterval(t);t=this.setInterval(n,250)},o=function(){n();this.clearInterval(t)},i;this.on("mousedown",e);this.on("mousemove",f);this.on("mouseup",o);this.on("keydown",n);this.on("keyup",n);i=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1;this.userActive(!0);this.clearTimeout(i);var n=this.options_.inactivityTimeout;n>0&&(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},n))}},250)},t.prototype.playbackRate=function(n){return void 0!==n?(this.techCall_("setPlaybackRate",n),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(n){return void 0!==n?(this.isAudio_=!!n,this):!!this.isAudio_},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new li["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new hi["default"],this.audioTracks_)},t.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(n,t,i){if(this.tech_)return this.tech_.addTextTrack(n,t,i)},t.prototype.addRemoteTextTrack=function(n,t){if(this.tech_)return this.tech_.addRemoteTextTrack(n,t)},t.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.track,i=void 0===n?arguments[0]:n;if(this.tech_)return this.tech_.removeRemoteTextTrack(i)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(n){return void 0===n?this.language_:(this.language_=String(n).toLowerCase(),this)},t.prototype.languages=function(){return b["default"](t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var i=b["default"](this.options_),r=i.tracks,n,t;for(i.tracks=[],n=0;n<r.length;n++)t=r[n],t=b["default"](t),t.player=void 0,i.tracks[n]=t;return i},t.prototype.createModal=function(n,t){var r=this,i;return t=t||{},t.content=n||"",i=new ei["default"](this,t),this.addChild(i),i.on("dispose",function(){r.removeChild(i)}),i.open()},t.getTagSettings=function(n){var t={sources:[],tracks:[]},i=u.getElAttributes(n),s=i["data-setup"],r,o;if(u.hasElClass(n,"vjs-fluid")&&(i.fluid=!0),null!==s){var h=ii["default"](s||"{}"),c=h[0],a=h[1];c&&e["default"].error(c);w.assign(i,a)}if(w.assign(t,i),n.hasChildNodes())for(var l=n.childNodes,f=0,v=l.length;f<v;f++)r=l[f],o=r.nodeName.toLowerCase(),"source"===o?t.sources.push(u.getElAttributes(r)):"track"===o&&t.tracks.push(u.getElAttributes(r));return t},t.prototype.flexNotSupported_=function(){var n=f["default"].createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},t}(h["default"]);o.players={};c=v["default"].navigator;o.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:c&&(c.languages&&c.languages[0]||c.userLanguage||c.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."};["ended","seeking","seekable","networkState","readyState"].forEach(function(n){o.prototype[n]=function(){return this.techGet_(n)}});k.forEach(function(n){o.prototype["handleTech"+l["default"](n)+"_"]=function(){return this.trigger(n)}});h["default"].registerComponent("Player",o);i["default"]=o},{1:1,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,94:94,95:95,97:97}],52:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}i.__esModule=!0;var u=n(51),f=r(u),e=function(n,t){f["default"].prototype[n]=t};i["default"]=e},{51:51}],53:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(3),h=r(s),c=n(5),l=r(c),u=function(n){function t(i){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r;return f(this,t),r=e(this,n.call(this,i,u)),r.update(),r}return o(t,n),t.prototype.update=function(){var n=this.createPopup();this.popup&&this.removeChild(this.popup);this.popup=n;this.addChild(n);this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+n.prototype.buildCSSClass.call(this)},t}(h["default"]);l["default"].registerComponent("PopupButton",u);i["default"]=u},{3:3,5:5}],54:[function(n,t,i){"use strict";function r(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(5),u=e(c),l=n(81),a=r(l),v=n(83),y=r(v),p=n(82),w=r(p),f=function(n){function t(){return o(this,t),s(this,n.apply(this,arguments))}return h(t,n),t.prototype.addItem=function(n){this.addChild(n);n.on("click",y.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var i=this.options_.contentElType||"ul",t;return this.contentEl_=a.createEl(i,{className:"vjs-menu-content"}),t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}),t.appendChild(this.contentEl_),w.on(t,"click",function(n){n.preventDefault();n.stopImmediatePropagation()}),t},t}(u["default"]);u["default"].registerComponent("Popup",f);i["default"]=f},{5:5,81:81,82:82,83:83}],55:[function(n,t,i){"use strict";function r(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(3),l=u(c),a=n(5),v=u(a),y=n(83),p=r(y),w=n(81),f=r(w),b=n(78),k=r(b),e=function(n){function t(i,r){o(this,t);var u=s(this,n.call(this,i,r));return u.update(),i.on("posterchange",p.bind(u,u.update)),u}return h(t,n),t.prototype.dispose=function(){this.player().off("posterchange",this.update);n.prototype.dispose.call(this)},t.prototype.createEl=function(){var n=f.createEl("div",{className:"vjs-poster",tabIndex:-1});return k.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=f.createEl("img"),n.appendChild(this.fallbackImg_)),n},t.prototype.update=function(){var n=this.player().poster();this.setSrc(n);n?this.show():this.hide()},t.prototype.setSrc=function(n){if(this.fallbackImg_)this.fallbackImg_.src=n;else{var t="";n&&(t='url("'+n+'")');this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t}(l["default"]);v["default"].registerComponent("PosterImage",e);i["default"]=e},{3:3,5:5,78:78,81:81,83:83}],56:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function o(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n,t){t&&(c=t);h["default"].setTimeout(l,n)}var a;i.__esModule=!0;i.hasLoaded=i.autoSetupTimeout=i.autoSetup=void 0;var v=n(81),s=o(v),y=n(82),p=o(y),w=n(94),f=e(w),b=n(95),h=e(b),r=!1,c=void 0,l=function(){var o,a,h,v,l,y,t,p;if(s.isReal()){var i=f["default"].getElementsByTagName("video"),e=f["default"].getElementsByTagName("audio"),n=[];if(i&&i.length>0)for(o=0,a=i.length;o<a;o++)n.push(i[o]);if(e&&e.length>0)for(h=0,v=e.length;h<v;h++)n.push(e[h]);if(n&&n.length>0)for(l=0,y=n.length;l<y;l++){if(t=n[l],!t||!t.getAttribute){u(1);break}void 0===t.player&&(p=t.getAttribute("data-setup"),null!==p&&c(t))}else r||u(1)}};s.isReal()&&"complete"===f["default"].readyState?r=!0:p.one(h["default"],"load",function(){r=!0});a=function(){return r};i.autoSetup=l;i.autoSetupTimeout=u;i.hasLoaded=a},{81:81,82:82,94:94,95:95}],57:[function(n,t,i){"use strict";function o(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function s(n){return n&&n.__esModule?n:{"default":n}}function h(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function c(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function l(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var a=n(5),u=s(a),v=n(81),r=o(v),f=n(88),e=function(n){function t(i,r){h(this,t);var u=c(this,n.call(this,i,r));return u.bar=u.getChild(u.options_.barName),u.vertical(!!u.options_.vertical),u.on("mousedown",u.handleMouseDown),u.on("touchstart",u.handleMouseDown),u.on("focus",u.handleFocus),u.on("blur",u.handleBlur),u.on("click",u.handleClick),u.on(i,"controlsvisible",u.update),u.on(i,u.playerEvent,u.update),u}return l(t,n),t.prototype.createEl=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=f.assign({tabIndex:0},i),r=f.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),n.prototype.createEl.call(this,t,i,r)},t.prototype.handleMouseDown=function(n){var t=this.bar.el_.ownerDocument;n.preventDefault();r.blockTextSelection();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(t,"mousemove",this.handleMouseMove);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchmove",this.handleMouseMove);this.on(t,"touchend",this.handleMouseUp);this.handleMouseMove(n)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;r.unblockTextSelection();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(n,"mousemove",this.handleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchmove",this.handleMouseMove);this.off(n,"touchend",this.handleMouseUp);this.update()},t.prototype.update=function(){var n,t,i;this.el_&&(n=this.getPercent(),t=this.bar,t&&(("number"!=typeof n||n!==n||n<0||n===1/0)&&(n=0),i=(100*n).toFixed(2)+"%",this.vertical()?t.el().style.height=i:t.el().style.width=i))},t.prototype.calculateDistance=function(n){var t=r.getPointerPosition(this.el_,n);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(n){37===n.which||40===n.which?(n.preventDefault(),this.stepBack()):38!==n.which&&39!==n.which||(n.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(n){n.stopImmediatePropagation();n.preventDefault()},t.prototype.vertical=function(n){return void 0===n?this.vertical_||!1:(this.vertical_=!!n,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(u["default"]);u["default"].registerComponent("Slider",e);i["default"]=e},{5:5,81:81,88:88}],58:[function(n,t,i){"use strict";function r(n){return n.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},n.streamFromParts=function(n,t){return n+"&"+t},n.streamToParts=function(n){var r={connection:"",stream:""},t,i;return n?(t=n.search(/&(?!\w+=)/),i=void 0,t!==-1?i=t+1:(t=i=n.lastIndexOf("/")+1,0===t&&(t=i=n.length)),r.connection=n.substring(0,t),r.stream=n.substring(i,n.length),r):r},n.isStreamingType=function(t){return t in n.streamingFormats},n.RTMP_RE=/^rtmp[set]?:\/\//i,n.isStreamingSrc=function(t){return n.RTMP_RE.test(t)},n.rtmpSourceHandler={},n.rtmpSourceHandler.canPlayType=function(t){return n.isStreamingType(t)?"maybe":""},n.rtmpSourceHandler.canHandleSource=function(t){var i=n.rtmpSourceHandler.canPlayType(t.type);return i?i:n.isStreamingSrc(t.src)?"maybe":""},n.rtmpSourceHandler.handleSource=function(t,i){var r=n.streamToParts(t.src);i.setRtmpConnection(r.connection);i.setRtmpStream(r.stream)},n.registerSourceHandler(n.rtmpSourceHandler),n}i.__esModule=!0;i["default"]=r},{}],59:[function(n,t,i){"use strict";function y(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n){return n&&n.__esModule?n:{"default":n}}function d(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function g(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function nt(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function tt(n){var t=n.charAt(0).toUpperCase()+n.slice(1);b["set"+t]=function(t){return this.el_.vjs_setProperty(n,t)}}function p(n){b[n]=function(){return this.el_.vjs_getProperty(n)}}var c;i.__esModule=!0;for(var it=n(62),l=e(it),rt=n(81),o=y(rt),ut=n(92),w=y(ut),s=n(90),ft=n(58),et=e(ft),ot=n(5),st=e(ot),ht=n(95),u=e(ht),f=n(88),a=u["default"].navigator,r=function(n){function t(i,r){d(this,t);var f=g(this,n.call(this,i,r));return i.source&&f.ready(function(){this.setSource(i.source)},!0),i.startTime&&f.ready(function(){this.load();this.play();this.currentTime(i.startTime)},!0),u["default"].videojs=u["default"].videojs||{},u["default"].videojs.Flash=u["default"].videojs.Flash||{},u["default"].videojs.Flash.onReady=t.onReady,u["default"].videojs.Flash.onEvent=t.onEvent,u["default"].videojs.Flash.onError=t.onError,f.on("seeked",function(){this.lastSeekTarget_=void 0}),f}return nt(t,n),t.prototype.createEl=function(){var n=this.options_,i;n.swf||(i="5.1.0",n.swf="//vjs.zencdn.net/swf/"+i+"/video-js.swf");var r=n.techId,u=f.assign({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:n.autoplay,preload:n.preload,loop:n.loop,muted:n.muted},n.flashVars),e=f.assign({wmode:"opaque",bgcolor:"#000000"},n.params),o=f.assign({id:r,name:r,"class":"vjs-tech"},n.attributes);return this.el_=t.embed(n.swf,u,e,o),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0);this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(n){return void 0===n?this.currentSrc():this.setSrc(n)},t.prototype.setSrc=function(n){var t=this;n=w.getAbsoluteURL(n);this.el_.vjs_src(n);this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var i=this.seekable();i.length&&(t=t>i.start(0)?t:i.start(0),t=t<i.end(i.length-1)?t:i.end(i.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),n.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function(){if(0===this.readyState())return NaN;var n=this.el_.vjs_getProperty("duration");return n>=0?n:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var n=this.duration();return 0===n?s.createTimeRange():s.createTimeRange(0,n)},t.prototype.buffered=function(){var n=this.el_.vjs_getProperty("buffered");return 0===n.length?s.createTimeRange():s.createTimeRange(n[0][0],n[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(l["default"]),b=r.prototype,v="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),k="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),h=0;h<v.length;h++)p(v[h]),tt(v[h]);for(c=0;c<k.length;c++)p(k[c]);r.isSupported=function(){return r.version()[0]>=10};l["default"].withSourceHandlers(r);r.nativeSourceHandler={};r.nativeSourceHandler.canPlayType=function(n){return n in r.formats?"maybe":""};r.nativeSourceHandler.canHandleSource=function(n){function i(n){var t=w.getFileExtension(n);return t?"video/"+t:""}var t=void 0;return t=n.type?n.type.replace(/;.*/,"").toLowerCase():i(n.src),r.nativeSourceHandler.canPlayType(t)};r.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)};r.nativeSourceHandler.dispose=function(){};r.registerSourceHandler(r.nativeSourceHandler);r.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};r.onReady=function(n){var i=o.getEl(n),t=i&&i.tech;t&&t.el()&&r.checkReady(t)};r.checkReady=function(n){n.el()&&(n.el().vjs_getProperty?n.triggerReady():this.setTimeout(function(){r.checkReady(n)},50))};r.onEvent=function(n,t){var i=o.getEl(n).tech,r=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(t,r)},1)};r.onError=function(n,t){var i=o.getEl(n).tech;return"srcnotfound"===t?i.error(4):void i.error("FLASH: "+t)};r.version=function(){var n="0,0,0";try{n=new u["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{a.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(n=(a.plugins["Shockwave Flash 2.0"]||a.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(i){}}return n.split(",")};r.embed=function(n,t,i,u){var f=r.getEmbedCode(n,t,i,u);return o.createEl("div",{innerHTML:f}).childNodes[0]};r.getEmbedCode=function(n,t,i,r){var u="",e="",o="";return t&&Object.getOwnPropertyNames(t).forEach(function(n){u+=n+"="+t[n]+"&amp;"}),i=f.assign({movie:n,flashvars:u,allowScriptAccess:"always",allowNetworking:"all"},i),Object.getOwnPropertyNames(i).forEach(function(n){e+='<param name="'+n+'" value="'+i[n]+'" />'}),r=f.assign({data:n,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(n){o+=n+'="'+r[n]+'" '}),'<object type="application/x-shockwave-flash" '+o+">"+e+"<\/object>"};et["default"](r);st["default"].registerComponent("Flash",r);l["default"].registerTech("Flash",r);i["default"]=r},{5:5,58:58,62:62,81:81,88:88,90:90,92:92,95:95}],60:[function(n,t,i){"use strict";function o(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function f(n){return n&&n.__esModule?n:{"default":n}}function k(n,t){return n.raw=t,n}function d(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function g(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function nt(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var e;i.__esModule=!0;var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},tt=k(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),it=n(62),c=f(it),rt=n(5),ut=f(rt),ft=n(81),s=o(ft),et=n(92),p=o(et),ot=n(83),l=o(ot),st=n(86),w=f(st),ht=n(98),ct=f(ht),lt=n(78),u=o(lt),at=n(94),h=f(at),vt=n(95),b=f(vt),yt=n(88),pt=n(87),wt=f(pt),bt=n(91),a=f(bt),r=function(n){function t(i,r){var e,b,o,k;d(this,t);var f=g(this,n.call(this,i,r)),s=i.source,h=!1;if(s&&(f.el_.currentSrc!==s.src||i.tag&&3===i.tag.initNetworkState_)?f.setSource(s):f.handleLateInit_(f.el_),f.el_.hasChildNodes()){for(var v=f.el_.childNodes,y=v.length,c=[];y--;)e=v[y],b=e.nodeName.toLowerCase(),"track"===b&&(f.featuresNativeTextTracks?(f.remoteTextTrackEls().addTrackElement_(e),f.remoteTextTracks().addTrack_(e.track),h||f.el_.hasAttribute("crossorigin")||!p.isCrossOrigin(e.src)||(h=!0)):c.push(e));for(o=0;o<c.length;o++)f.el_.removeChild(c[o])}return k=["audio","video"],k.forEach(function(n){var r=f.el()[n+"Tracks"],i=f[n+"Tracks"](),t=a["default"](n);f["featuresNative"+t+"Tracks"]&&r&&r.addEventListener&&(f["handle"+t+"TrackChange_"]=function(){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},f["handle"+t+"TrackAdd_"]=function(n){return i.addTrack(n.track)},f["handle"+t+"TrackRemove_"]=function(n){return i.removeTrack(n.track)},r.addEventListener("change",f["handle"+t+"TrackChange_"]),r.addEventListener("addtrack",f["handle"+t+"TrackAdd_"]),r.addEventListener("removetrack",f["handle"+t+"TrackRemove_"]),f["removeOld"+t+"Tracks_"]=function(){return f.removeOldTracks_(i,r)},f.on("loadstart",f["removeOld"+t+"Tracks_"]))}),f.featuresNativeTextTracks&&(h&&w["default"].warn(ct["default"](tt)),f.handleTextTrackChange_=l.bind(f,f.handleTextTrackChange),f.handleTextTrackAdd_=l.bind(f,f.handleTextTrackAdd),f.handleTextTrackRemove_=l.bind(f,f.handleTextTrackRemove),f.proxyNativeTextTracks_()),(u.TOUCH_ENABLED||u.IS_IPHONE||u.IS_NATIVE_ANDROID)&&i.nativeControlsForTouch===!0&&f.setControls(!0),f.proxyWebkitFullscreen_(),f.triggerReady(),f}return nt(t,n),t.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(n){var r=a["default"](n),t=i.el_[n+"Tracks"];t&&t.removeEventListener&&(t.removeEventListener("change",i["handle"+r+"TrackChange_"]),t.removeEventListener("addtrack",i["handle"+r+"TrackAdd_"]),t.removeEventListener("removetrack",i["handle"+r+"TrackRemove_"]));t&&i.off("loadstart",i["removeOld"+r+"Tracks_"])});t.disposeMediaElement(this.el_);n.prototype.dispose.call(this)},t.prototype.createEl=function(){var n=this.options_.tag,f,l,e,o,i,r,c;for(n&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(n?(f=n.cloneNode(!0),n.parentNode&&n.parentNode.insertBefore(f,n),t.disposeMediaElement(n),n=f):(n=h["default"].createElement("video"),l=this.options_.tag&&s.getElAttributes(this.options_.tag),e=wt["default"]({},l),u.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete e.controls,s.setElAttributes(n,yt.assign(e,{id:this.options_.techId,"class":"vjs-tech"}))),n.playerId=this.options_.playerId),o=["autoplay","preload","loop","muted"],i=o.length-1;i>=0;i--)r=o[i],c={},"undefined"!=typeof this.options_[r]&&(c[r]=this.options_[r]),s.setElAttributes(n,c);return n},t.prototype.handleLateInit_=function(n){var r=this,i,t;if(0!==n.networkState&&3!==n.networkState){if(0===n.readyState&&(i=function(){var n=!1,i=function(){n=!0},t;r.on("loadstart",i);return t=function(){n||this.trigger("loadstart")},r.on("loadedmetadata",t),r.ready(function(){this.off("loadstart",i);this.off("loadedmetadata",t);n||this.trigger("loadstart")}),{v:void 0}}(),"object"===("undefined"==typeof i?"undefined":y(i))))return i.v;t=["loadstart"];t.push("loadedmetadata");n.readyState>=2&&t.push("loadeddata");n.readyState>=3&&t.push("canplay");n.readyState>=4&&t.push("canplaythrough");this.ready(function(){t.forEach(function(n){this.trigger(n)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var n=this.el().textTracks,t;if(n){for(t=0;t<n.length;t++)this.textTracks().addTrack_(n[t]);n.addEventListener&&(n.addEventListener("change",this.handleTextTrackChange_),n.addEventListener("addtrack",this.handleTextTrackAdd_),n.addEventListener("removetrack",this.handleTextTrackRemove_));this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},t.prototype.handleTextTrackAdd=function(n){this.textTracks().addTrack_(n.track)},t.prototype.handleTextTrackRemove=function(n){this.textTracks().removeTrack_(n.track)},t.prototype.removeOldTracks_=function(n,t){var u=[],i,r,s;if(t){for(i=0;i<n.length;i++){for(var e=n[i],o=!1,f=0;f<t.length;f++)if(t[f]===e){o=!0;break}o||u.push(e)}for(r=0;r<u.length;r++)s=u[r],n.removeTrack_(s)}},t.prototype.removeOldTextTracks_=function(){var n=this.textTracks(),t=this.el().textTracks;this.removeOldTracks_(n,t)},t.prototype.play=function(){var n=this.el_.play();void 0!==n&&"function"==typeof n.then&&n.then(null,function(){})},t.prototype.setCurrentTime=function(n){try{this.el_.currentTime=n}catch(t){w["default"](t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var n=this,t;return this.el_.duration===1/0&&u.IS_ANDROID&&u.IS_CHROME&&0===this.el_.currentTime&&(t=function(){var t=function i(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",i))};return n.on("timeupdate",t),{v:NaN}}(),"object"===("undefined"==typeof t?"undefined":y(t)))?t.v:this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var i=this,n,t;"webkitDisplayingFullscreen"in this.el_&&(n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},t=function(){this.one("webkitendfullscreen",n);this.trigger("fullscreenchange",{isFullscreen:!0})},this.on("webkitbeginfullscreen",t),this.on("dispose",function(){i.off("webkitbeginfullscreen",t);i.off("webkitendfullscreen",n)}))},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var n=b["default"].navigator&&b["default"].navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},t.prototype.enterFullScreen=function(){var n=this.el_;n.paused&&n.networkState<=n.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){n.pause();n.webkitEnterFullScreen()},0)):n.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(n){return void 0===n?this.el_.src:void this.setSrc(n)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(n){this.el_.controls=!!n},t.prototype.addTextTrack=function(t,i,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,i,r):n.prototype.addTextTrack.call(this,t,i,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return n.prototype.createRemoteTextTrack.call(this,t);var i=h["default"].createElement("track");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t["default"]&&(i["default"]=t["default"]),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},t.prototype.addRemoteTextTrack=function(t,i){var r=n.prototype.addRemoteTextTrack.call(this,t,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(n.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var i=this.$$("track"),r=i.length;r--;)t!==i[r]&&t!==i[r].track||this.el().removeChild(i[r])},t}(c["default"]);s.isReal()&&(r.TEST_VID=h["default"].createElement("video"),e=h["default"].createElement("track"),e.kind="captions",e.srclang="en",e.label="English",r.TEST_VID.appendChild(e));r.isSupported=function(){try{r.TEST_VID.volume=.5}catch(n){return!1}return!(!r.TEST_VID||!r.TEST_VID.canPlayType)};r.canControlVolume=function(){try{var n=r.TEST_VID.volume;return r.TEST_VID.volume=n/2+.1,n!==r.TEST_VID.volume}catch(t){return!1}};r.canControlPlaybackRate=function(){if(u.IS_ANDROID&&u.IS_CHROME)return!1;try{var n=r.TEST_VID.playbackRate;return r.TEST_VID.playbackRate=n/2+.1,n!==r.TEST_VID.playbackRate}catch(t){return!1}};r.supportsNativeTextTracks=function(){return u.IS_ANY_SAFARI};r.supportsNativeVideoTracks=function(){return!(!r.TEST_VID||!r.TEST_VID.videoTracks)};r.supportsNativeAudioTracks=function(){return!(!r.TEST_VID||!r.TEST_VID.audioTracks)};r.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"];r.prototype.featuresVolumeControl=r.canControlVolume();r.prototype.featuresPlaybackRate=r.canControlPlaybackRate();r.prototype.movingMediaElementInDOM=!u.IS_IOS;r.prototype.featuresFullscreenResize=!0;r.prototype.featuresProgressEvents=!0;r.prototype.featuresTimeupdateEvents=!0;r.prototype.featuresNativeTextTracks=r.supportsNativeTextTracks();r.prototype.featuresNativeVideoTracks=r.supportsNativeVideoTracks();r.prototype.featuresNativeAudioTracks=r.supportsNativeAudioTracks();var v=r.TEST_VID&&r.TEST_VID.constructor.prototype.canPlayType,kt=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,dt=/^video\/mp4/i;r.patchCanPlayType=function(){u.ANDROID_VERSION>=4&&!u.IS_FIREFOX?r.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&kt.test(n)?"maybe":v.call(this,n)}:u.IS_OLD_ANDROID&&(r.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&dt.test(n)?"maybe":v.call(this,n)})};r.unpatchCanPlayType=function(){var n=r.TEST_VID.constructor.prototype.canPlayType;return r.TEST_VID.constructor.prototype.canPlayType=v,n};r.patchCanPlayType();r.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src");"function"==typeof n.load&&!function(){try{n.load()}catch(t){}}()}};r.resetMediaElement=function(n){if(n){for(var t=n.querySelectorAll("source"),i=t.length;i--;)n.removeChild(t[i]);n.removeAttribute("src");"function"==typeof n.load&&!function(){try{n.load()}catch(t){}}()}};["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(n){r.prototype[n]=function(){return this.el_[n]}});["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(n){r.prototype["set"+a["default"](n)]=function(t){this.el_[n]=t}});["pause","load"].forEach(function(n){r.prototype[n]=function(){return this.el_[n]()}});c["default"].withSourceHandlers(r);r.nativeSourceHandler={};r.nativeSourceHandler.canPlayType=function(n){try{return r.TEST_VID.canPlayType(n)}catch(t){return""}};r.nativeSourceHandler.canHandleSource=function(n){if(n.type)return r.nativeSourceHandler.canPlayType(n.type);if(n.src){var t=p.getFileExtension(n.src);return r.nativeSourceHandler.canPlayType("video/"+t)}return""};r.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)};r.nativeSourceHandler.dispose=function(){};r.registerSourceHandler(r.nativeSourceHandler);ut["default"].registerComponent("Html5",r);c["default"].registerTech("Html5",r);i["default"]=r},{5:5,62:62,78:78,81:81,83:83,86:86,87:87,88:88,91:91,92:92,94:94,95:95,98:98}],61:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(5),u=r(h),c=n(62),l=r(c),a=n(91),v=r(a),f=function(n){function t(i,r,f){var y,h,a,s,c;if(e(this,t),y=o(this,n.call(this,i,r,f)),r.playerOptions.sources&&0!==r.playerOptions.sources.length)i.src(r.playerOptions.sources);else for(h=0,a=r.playerOptions.techOrder;h<a.length;h++)if(s=v["default"](a[h]),c=l["default"].getTech(s),s||(c=u["default"].getComponent(s)),c&&c.isSupported()){i.loadTech_(s);break}return y}return s(t,n),t}(u["default"]);u["default"].registerComponent("MediaLoader",f);i["default"]=f},{5:5,62:62,91:91}],62:[function(n,t,i){"use strict";function l(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}function a(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function v(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function y(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function p(n,t,i,r){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},e=n.textTracks(),f;return u.kind=t,i&&(u.label=i),r&&(u.language=r),u.tech=n,f=new rt["default"](u),e.addTrack_(f),f}i.__esModule=!0;var w=n(5),e=u(w),b=n(66),k=u(b),d=n(65),g=u(d),nt=n(87),tt=u(nt),it=n(72),rt=u(it),ut=n(70),o=u(ut),ft=n(76),et=u(ft),ot=n(63),st=u(ot),ht=n(83),s=l(ht),ct=n(86),h=u(ct),c=n(90),lt=n(79),at=n(46),vt=u(at),yt=n(95),f=u(yt),pt=n(94),wt=u(pt),r=function(n){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i;return a(this,t),r.reportTouchActivity=!1,i=v(this,n.call(this,null,r,u)),i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),i.textTracks_=r.textTracks,i.videoTracks_=r.videoTracks,i.audioTracks_=r.audioTracks,i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(n){r["native"+n+"Tracks"]===!1&&(i["featuresNative"+n+"Tracks"]=!1)}),r.nativeCaptions===!1&&(i.featuresNativeTextTracks=!1),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new o["default"],i.initTextTrackListeners(),i.initTrackListeners(),r.nativeControlsForTouch||i.emitTapEvents(),i}return y(t,n),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange);this.manualProgress=!0;this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress();this.progressInterval=this.setInterval(s.bind(this,function(){var n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress");this.bufferedPercent_=n;1===n&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return c.createTimeRange(0,0)},t.prototype.bufferedPercent=function(){return lt.bufferedPercent(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(["audio","video","text"]);this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();n.prototype.dispose.call(this)},t.prototype.clearTracks=function(n){var t=this;n=[].concat(n);n.forEach(function(n){for(var u,i=t[n+"Tracks"]()||[],r=i.length;r--;)u=i[r],"text"===n&&t.removeRemoteTextTrack(u),i.removeTrack_(u)})},t.prototype.cleanupAutoTextTracks=function(){for(var i,n=this.autoRemoteTextTracks_||[],t=n.length;t--;)i=n[t],this.removeRemoteTextTrack(i)},t.prototype.reset=function(){},t.prototype.error=function(n){return void 0!==n&&(this.error_=new vt["default"](n),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?c.createTimeRange(0,0):c.createTimeRange()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var t=s.bind(this,function(){this.trigger("texttrackchange")}),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",s.bind(this,function(){n.removeEventListener("removetrack",t);n.removeEventListener("addtrack",t)})))},t.prototype.initTrackListeners=function(){var n=this;["video","audio"].forEach(function(t){var i=function(){n.trigger(t+"trackchange")},r=n[t+"Tracks"]();r.addEventListener("removetrack",i);r.addEventListener("addtrack",i);n.on("dispose",function(){r.removeEventListener("removetrack",i);r.removeEventListener("addtrack",i)})})},t.prototype.addWebVttScript_=function(){var n=this;f["default"].WebVTT||null===this.el().parentNode||void 0===this.el().parentNode||!function(){var t=wt["default"].createElement("script");t.src=n.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js";t.onload=function(){n.trigger("vttjsloaded")};t.onerror=function(){n.trigger("vttjserror")};n.on("dispose",function(){t.onload=null;t.onerror=null});f["default"].WebVTT=!0;n.el().parentNode.appendChild(t)}()},t.prototype.emulateTextTracks=function(){var r=this,n=this.textTracks(),t,i;n&&(this.remoteTextTracks().on("addtrack",function(n){r.textTracks().addTrack_(n.track)}),this.remoteTextTracks().on("removetrack",function(n){r.textTracks().removeTrack_(n.track)}),this.on("ready",this.addWebVttScript_),t=function(){return r.trigger("texttrackchange")},i=function(){var i,r;for(t(),i=0;i<n.length;i++)r=n[i],r.removeEventListener("cuechange",t),"showing"===r.mode&&r.addEventListener("cuechange",t)},i(),n.addEventListener("change",i),this.on("dispose",function(){n.removeEventListener("change",i)}))},t.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new et["default"],this.videoTracks_},t.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new st["default"],this.audioTracks_},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new o["default"],this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new o["default"],this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new g["default"],this.remoteTextTrackEls_},t.prototype.addTextTrack=function(n,t,i){if(!n)throw new Error("TextTrack kind is required but was not provided");return p(this,n,t,i)},t.prototype.createRemoteTextTrack=function(n){var t=tt["default"](n,{tech:this});return new k["default"](t)},t.prototype.addRemoteTextTrack=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],t=this.createRemoteTextTrack(i);return n!==!0&&n!==!1&&(h["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(t),this.remoteTextTracks().addTrack_(t.track),n!==!0&&this.autoRemoteTextTracks_.addTrack_(t.track),t},t.prototype.removeRemoteTextTrack=function(n){var t=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(t);this.remoteTextTracks().removeTrack_(n);this.autoRemoteTextTracks_.removeTrack_(n)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return""},t.isTech=function(n){return n.prototype instanceof t||n instanceof t||n===t},t.registerTech=function(n,i){if(t.techs_||(t.techs_={}),!t.isTech(i))throw new Error("Tech "+n+" must be a Tech");return t.techs_[n]=i,i},t.getTech=function(n){return t.techs_&&t.techs_[n]?t.techs_[n]:f["default"]&&f["default"].videojs&&f["default"].videojs[n]?(h["default"].warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),f["default"].videojs[n]):void 0},t}(e["default"]);r.prototype.textTracks_;r.prototype.audioTracks_;r.prototype.videoTracks_;r.prototype.featuresVolumeControl=!0;r.prototype.featuresFullscreenResize=!1;r.prototype.featuresPlaybackRate=!1;r.prototype.featuresProgressEvents=!1;r.prototype.featuresTimeupdateEvents=!1;r.prototype.featuresNativeTextTracks=!1;r.withSourceHandlers=function(n){n.registerSourceHandler=function(t,i){var r=n.sourceHandlers;r||(r=n.sourceHandlers=[]);void 0===i&&(i=r.length);r.splice(i,0,t)};n.canPlayType=function(t){for(var r=n.sourceHandlers||[],u=void 0,i=0;i<r.length;i++)if(u=r[i].canPlayType(t))return u;return""};n.selectSourceHandler=function(t,i){for(var u=n.sourceHandlers||[],f=void 0,r=0;r<u.length;r++)if(f=u[r].canHandleSource(t,i))return u[r];return null};n.canPlaySource=function(t,i){var r=n.selectSourceHandler(t,i);return r?r.canHandleSource(t,i):""};["seekable","duration"].forEach(function(n){var t=this[n];"function"==typeof t&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},n.prototype);n.prototype.setSource=function(t){var i=n.selectSourceHandler(t,this.options_);return i||(n.nativeSourceHandler?i=n.nativeSourceHandler:h["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==n.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",n.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",n.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",n.prototype.firstLoadStartListener_)),this.sourceHandler_=i.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this};n.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",n.prototype.successiveLoadStartListener_)};n.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler();this.one(this.el_,"loadstart",n.prototype.successiveLoadStartListener_)};n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null);this.cleanupAutoTextTracks();this.sourceHandler_&&(this.off(this.el_,"loadstart",n.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",n.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};e["default"].registerComponent("Tech",r);e["default"].registerComponent("MediaTechController",r);r.registerTech("Tech",r);i["default"]=r},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,86:86,87:87,90:90,94:94,95:95}],63:[function(n,t,i){"use strict";function o(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function f(n){return n&&n.__esModule?n:{"default":n}}function s(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(74),r=f(c),l=n(78),a=o(l),v=n(94),y=f(v),u=function(n,t){for(var i=0;i<n.length;i++)t.id!==n[i].id&&(n[i].enabled=!1)},p=function(n){function t(){var l,v,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i,o,h,c;for(s(this,t),i=void 0,o=f.length-1;o>=0;o--)if(f[o].enabled){u(f,f[o]);break}if(a.IS_IE8){i=y["default"].createElement("custom");for(h in r["default"].prototype)"constructor"!==h&&(i[h]=r["default"].prototype[h]);for(c in t.prototype)"constructor"!==c&&(i[c]=t.prototype[c])}return i=l=e(this,n.call(this,f,i)),i.changing_=!1,v=i,e(l,v)}return h(t,n),t.prototype.addTrack_=function(t){var i=this;t.enabled&&u(this,t);n.prototype.addTrack_.call(this,t);t.addEventListener&&t.addEventListener("enabledchange",function(){i.changing_||(i.changing_=!0,u(i,t),i.changing_=!1,i.trigger("change"))})},t.prototype.addTrack=function(n){this.addTrack_(n)},t.prototype.removeTrack=function(t){n.prototype.removeTrack_.call(this,t)},t}(r["default"]);i["default"]=p},{74:74,78:78,94:94}],64:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(73),h=n(75),c=r(h),l=n(87),a=r(l),v=n(78),y=f(v),p=function(n){function t(){var h,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r;e(this,t);var f=a["default"](l,{kind:s.AudioTrackKind[l.kind]||""}),i=h=u(this,n.call(this,f)),o=!1;if(y.IS_IE8)for(r in t.prototype)"constructor"!==r&&(i[r]=t.prototype[r]);return Object.defineProperty(i,"enabled",{get:function(){return o},set:function(n){"boolean"==typeof n&&n!==o&&(o=n,this.trigger("enabledchange"))}}),f.enabled&&(i.enabled=f.enabled),i.loaded_=!0,c=i,u(h,c)}return o(t,n),t}(c["default"]);i["default"]=p},{73:73,75:75,78:78,87:87}],65:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}i.__esModule=!0;var o=n(78),r=f(o),s=n(94),h=u(s),c=function(){function n(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t,i,u,o;if(e(this,n),t=this,r.IS_IE8){t=h["default"].createElement("custom");for(i in n.prototype)"constructor"!==i&&(t[i]=n.prototype[i])}for(t.trackElements_=[],Object.defineProperty(t,"length",{get:function(){return this.trackElements_.length}}),u=0,o=f.length;u<o;u++)t.addTrackElement_(f[u]);if(r.IS_IE8)return t}return n.prototype.addTrackElement_=function(n){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}});this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},n.prototype.getTrackElementByTrack_=function(n){for(var i=void 0,t=0,r=this.trackElements_.length;t<r;t++)if(n===this.trackElements_[t].track){i=this.trackElements_[t];break}return i},n.prototype.removeTrackElement_=function(n){for(var t=0,i=this.trackElements_.length;t<i;t++)if(n===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},n}();i["default"]=c},{78:78,94:94}],66:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function h(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function c(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function l(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var a=n(78),e=h(a),v=n(94),y=u(v),p=n(42),w=u(p),b=n(72),k=u(b),o=0,s=2,r=function(n){function t(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u,r,a;c(this,t);var h=f(this,n.call(this)),l=void 0,i=h;if(e.IS_IE8){i=y["default"].createElement("custom");for(u in t.prototype)"constructor"!==u&&(i[u]=t.prototype[u])}return(r=new k["default"](v),i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i["default"]=r["default"],Object.defineProperty(i,"readyState",{get:function(){return l}}),Object.defineProperty(i,"track",{get:function(){return r}}),l=o,r.addEventListener("loadeddata",function(){l=s;i.trigger({type:"load",target:i})}),e.IS_IE8)?(a=i,f(h,a)):h}return l(t,n),t}(w["default"]);r.prototype.allowedEvents_={load:"load"};r.NONE=o;r.LOADING=1;r.LOADED=s;r.ERROR=3;i["default"]=r},{42:42,72:72,78:78,94:94}],67:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}i.__esModule=!0;var o=n(78),r=f(o),s=n(94),h=u(s),c=function(){function n(t){var i,u;if(e(this,n),i=this,r.IS_IE8){i=h["default"].createElement("custom");for(u in n.prototype)"constructor"!==u&&(i[u]=n.prototype[u])}if(n.prototype.setCues_.call(i,t),Object.defineProperty(i,"length",{get:function(){return this.length_}}),r.IS_IE8)return i}return n.prototype.setCues_=function(n){var i=this.length||0,t=0,r=n.length,u;if(this.cues_=n,this.length_=n.length,u=function(n){""+n in this||Object.defineProperty(this,""+n,{get:function(){return this.cues_[n]}})},i<r)for(t=i;t<r;t++)u.call(this,t)},n.prototype.getCueById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},n}();i["default"]=c},{78:78,94:94}],68:[function(n,t,i){"use strict";function a(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function s(n){return n&&n.__esModule?n:{"default":n}}function v(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function y(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function p(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function e(n,t){return"rgba("+parseInt(n[1]+n[1],16)+","+parseInt(n[2]+n[2],16)+","+parseInt(n[3]+n[3],16)+","+t+")"}function o(n,t,i){try{n.style[t]=i}catch(r){return}}i.__esModule=!0;var w=n(5),h=s(w),b=n(83),f=a(b),k=n(95),u=s(k),r="#222",c="#ccc",d={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},l=function(n){function t(i,r,u){v(this,t);var e=y(this,n.call(this,i,r,u));return i.on("loadstart",f.bind(e,e.toggleDisplay)),i.on("texttrackchange",f.bind(e,e.updateDisplay)),i.ready(f.bind(e,function(){var o,t,e,n;if(i.tech_&&i.tech_.featuresNativeTextTracks)return void this.hide();i.on("fullscreenchange",f.bind(this,this.updateDisplay));for(o=this.options_.playerOptions.tracks||[],t=0;t<o.length;t++)this.player_.addRemoteTextTrack(o[t],!0);var h={captions:1,subtitles:1},s=this.player_.textTracks(),r=void 0,u=void 0;if(s){for(e=0;e<s.length;e++)n=s[e],n["default"]&&("descriptions"!==n.kind||r?n.kind in h&&!u&&(u=n):r=n);u?u.mode="showing":r&&(r.mode="showing")}})),e}return p(t,n),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof u["default"].WebVTT&&u["default"].WebVTT.processCues(u["default"],[],this.el_)},t.prototype.updateDisplay=function(){var t=this.player_.textTracks(),n;if(this.clearDisplay(),t){for(var i=null,r=null,u=t.length;u--;)n=t[u],"showing"===n.mode&&("descriptions"===n.kind?i=n:r=n);r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):i&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i))}},t.prototype.updateForTrack=function(n){var h,l,i,a;if("function"==typeof u["default"].WebVTT&&n.activeCues){for(var t=this.player_.textTrackSettings.getValues(),f=[],s=0;s<n.activeCues.length;s++)f.push(n.activeCues[s]);for(u["default"].WebVTT.processCues(u["default"],f,this.el_),h=f.length;h--;)l=f[h],l&&(i=l.displayState,(t.color&&(i.firstChild.style.color=t.color),t.textOpacity&&o(i.firstChild,"color",e(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(i.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&o(i.firstChild,"backgroundColor",e(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?o(i,"backgroundColor",e(t.windowColor,t.windowOpacity)):i.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?i.firstChild.style.textShadow="2px 2px 3px "+r+", 2px 2px 4px "+r+", 2px 2px 5px "+r:"raised"===t.edgeStyle?i.firstChild.style.textShadow="1px 1px "+r+", 2px 2px "+r+", 3px 3px "+r:"depressed"===t.edgeStyle?i.firstChild.style.textShadow="1px 1px "+c+", 0 1px "+c+", -1px -1px "+r+", 0 -1px "+r:"uniform"===t.edgeStyle&&(i.firstChild.style.textShadow="0 0 4px "+r+", 0 0 4px "+r+", 0 0 4px "+r+", 0 0 4px "+r)),t.fontPercent&&1!==t.fontPercent)&&(a=u["default"].parseFloat(i.style.fontSize),i.style.fontSize=a*t.fontPercent+"px",i.style.height="auto",i.style.top="auto",i.style.bottom="2px"),t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?i.firstChild.style.fontVariant="small-caps":i.firstChild.style.fontFamily=d[t.fontFamily]))}},t}(h["default"]);h["default"].registerComponent("TextTrackDisplay",l);i["default"]=l},{5:5,83:83,95:95}],69:[function(n,t,i){"use strict";i.__esModule=!0;var r=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,i){return n[i]&&(t[i]=n[i]),t},{cues:n.cues&&Array.prototype.map.call(n.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},u=function(n){var t=n.$$("track"),i=Array.prototype.map.call(t,function(n){return n.track}),u=Array.prototype.map.call(t,function(n){var t=r(n.track);return n.src&&(t.src=n.src),t});return u.concat(Array.prototype.filter.call(n.textTracks(),function(n){return i.indexOf(n)===-1}).map(r))},f=function(n,t){return n.forEach(function(n){var i=t.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(n){return i.addCue(n)})}),t.textTracks()};i["default"]={textTracksToJson:u,jsonToTextTracks:f,trackToJson_:r}},{}],70:[function(n,t,i){"use strict";function u(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function f(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var h=n(74),r=f(h),c=n(83),l=u(c),a=n(78),v=u(a),y=n(94),p=f(y),w=function(n){function t(){var s,h,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i,u,f;if(o(this,t),i=void 0,v.IS_IE8){i=p["default"].createElement("custom");for(u in r["default"].prototype)"constructor"!==u&&(i[u]=r["default"].prototype[u]);for(f in t.prototype)"constructor"!==f&&(i[f]=t.prototype[f])}return i=s=e(this,n.call(this,c,i)),h=i,e(s,h)}return s(t,n),t.prototype.addTrack_=function(t){n.prototype.addTrack_.call(this,t);t.addEventListener("modechange",l.bind(this,function(){this.trigger("change")}))},t}(r["default"]);i["default"]=w},{74:74,78:78,83:83,94:94}],71:[function(n,t,i){"use strict";function a(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n){return n&&n.__esModule?n:{"default":n}}function ut(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function ft(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function et(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function v(n,t){if(t&&(n=t(n)),n&&"none"!==n)return n}function ot(n,t){var i=n.options[n.options.selectedIndex].value;return v(i,t)}function st(n,t,i){if(t)for(var r=0;r<n.options.length;r++)if(v(n.options[r].value,i)===t){n.selectedIndex=r;break}}var l;i.__esModule=!0;var ht=n(95),o=e(ht),ct=n(5),y=e(ct),r=n(81),lt=n(83),at=a(lt),vt=n(88),f=a(vt),yt=n(86),p=e(yt),s="vjs-text-track-settings",w=["#000","Black"],b=["#00F","Blue"],k=["#0FF","Cyan"],d=["#0F0","Green"],g=["#F0F","Magenta"],nt=["#F00","Red"],tt=["#FFF","White"],it=["#FF0","Yellow"],h=["1","Opaque"],c=["0.5","Semi-Transparent"],rt=["0","Transparent"],u={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[w,tt,nt,d,b,it,g,k]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[h,c,rt]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[tt,w,nt,d,b,it,g,k]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(n){return"1.00"===n?null:Number(n)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[h,c]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[rt,c,h]}};u.windowColor.options=u.backgroundColor.options;l=function(n){function t(i,r){ut(this,t);var e=ft(this,n.call(this,i,r));return e.setDefaults(),e.hide(),e.updateDisplay=at.bind(e,e.updateDisplay),void 0===r.persistTextTrackSettings&&(e.options_.persistTextTrackSettings=e.options_.playerOptions.persistTextTrackSettings),e.on(e.$(".vjs-done-button"),"click",function(){e.saveSettings();e.hide()}),e.on(e.$(".vjs-default-button"),"click",function(){e.setDefaults();e.updateDisplay()}),f.each(u,function(n){e.on(e.$(n.selector),"change",e.updateDisplay)}),e.options_.persistTextTrackSettings&&e.restoreSettings(),e}return et(t,n),t.prototype.createElSelect_=function(n){var f=this,t=u[n],i=t.id.replace("%s",this.id_);return[r.createEl("label",{className:"vjs-label",textContent:t.label},{"for":i}),r.createEl("select",{id:i},void 0,t.options.map(function(n){return r.createEl("option",{textContent:f.localize(n[1]),value:n[0]})}))]},t.prototype.createElFgColor_=function(){var n=r.createEl("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),i=r.createEl("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return r.createEl("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[n].concat(t,i))},t.prototype.createElBgColor_=function(){var n=r.createEl("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),i=r.createEl("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return r.createEl("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[n].concat(t,i))},t.prototype.createElWinColor_=function(){var n=r.createEl("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),i=r.createEl("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return r.createEl("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[n].concat(t,i))},t.prototype.createElColors_=function(){return r.createEl("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},t.prototype.createElFont_=function(){var n=r.createEl("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),t=r.createEl("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),i=r.createEl("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return r.createEl("div",{className:"vjs-tracksettings-font"},void 0,[n,t,i])},t.prototype.createElControls_=function(){var n=r.createEl("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=r.createEl("button",{className:"vjs-done-button",textContent:"Done"});return r.createEl("div",{className:"vjs-tracksettings-controls"},void 0,[n,t])},t.prototype.createEl=function(){var i=r.createEl("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),n=r.createEl("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),t=r.createEl("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),u=r.createEl("div",void 0,{role:"document"},[n,t,i]);return r.createEl("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":t.id},u)},t.prototype.getValues=function(){var n=this;return f.reduce(u,function(t,i,r){var u=ot(n.$(i.selector),i.parser);return void 0!==u&&(t[r]=u),t},{})},t.prototype.setValues=function(n){var t=this;f.each(u,function(i,r){st(t.$(i.selector),n[r],i.parser)})},t.prototype.setDefaults=function(){var n=this;f.each(u,function(t){var i=t.hasOwnProperty("default")?t["default"]:0;n.$(t.selector).selectedIndex=i})},t.prototype.restoreSettings=function(){var n=void 0;try{n=JSON.parse(o["default"].localStorage.getItem(s))}catch(t){p["default"].warn(t)}n&&this.setValues(n)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?o["default"].localStorage.setItem(s,JSON.stringify(n)):o["default"].localStorage.removeItem(s)}catch(t){p["default"].warn(t)}}},t.prototype.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},t}(y["default"]);y["default"].registerComponent("TextTrackSettings",l);i["default"]=l},{5:5,81:81,83:83,86:86,88:88,95:95}],72:[function(n,t,i){"use strict";function o(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}function v(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function y(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var p=n(67),h=u(p),w=n(83),c=o(w),f=n(73),b=n(86),e=u(b),k=n(95),r=u(k),d=n(75),g=u(d),nt=n(92),tt=n(99),it=u(tt),rt=n(87),ut=u(rt),ft=n(78),et=o(ft),l=function(n,t){var i=new r["default"].WebVTT.Parser(r["default"],r["default"].vttjs,r["default"].WebVTT.StringDecoder()),u=[];i.oncue=function(n){t.addCue(n)};i.onparsingerror=function(n){u.push(n)};i.onflush=function(){t.trigger({type:"loadeddata",target:t})};i.parse(n);u.length>0&&(r["default"].console&&r["default"].console.groupCollapsed&&r["default"].console.groupCollapsed("Text Track parsing errors for "+t.src),u.forEach(function(n){return e["default"].error(n)}),r["default"].console&&r["default"].console.groupEnd&&r["default"].console.groupEnd());i.flush()},ot=function(n,t){var i={uri:n},u=nt.isCrossOrigin(n);u&&(i.cors=u);it["default"](i,c.bind(this,function(n,i,u){return n?e["default"].error(n,i):(t.loaded_=!0,void("function"!=typeof r["default"].WebVTT?t.tech_&&!function(){var n=function(){return l(u,t)};t.tech_.on("vttjsloaded",n);t.tech_.on("vttjserror",function(){e["default"].error("vttjs failed to load, stopping trying to process "+t.src);t.tech_.off("vttjsloaded",n)})}():l(u,t)))}))},a=function(n){function t(){var y,p,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i,l;if(v(this,t),!u.tech)throw new Error("A tech was not provided.");var r=ut["default"](u,{kind:f.TextTrackKind[u.kind]||"subtitles",language:u.language||u.srclang||""}),e=f.TextTrackMode[r.mode]||"disabled",b=r["default"];if("metadata"!==r.kind&&"chapters"!==r.kind||(e="hidden"),i=y=s(this,n.call(this,r)),i.tech_=r.tech,et.IS_IE8)for(l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l]);i.cues_=[];i.activeCues_=[];var k=new h["default"](i.cues_),a=new h["default"](i.activeCues_),o=!1,w=c.bind(i,function(){this.activeCues;o&&(this.trigger("cuechange"),o=!1)});return"disabled"!==e&&i.tech_.on("timeupdate",w),Object.defineProperty(i,"default",{get:function(){return b},set:function(){}}),Object.defineProperty(i,"mode",{get:function(){return e},set:function(n){f.TextTrackMode[n]&&(e=n,"showing"===e&&this.tech_.on("timeupdate",w),this.trigger("modechange"))}}),Object.defineProperty(i,"cues",{get:function(){return this.loaded_?k:null},set:function(){}}),Object.defineProperty(i,"activeCues",{get:function(){var n,r;if(!this.loaded_)return null;if(0===this.cues.length)return a;for(var i=this.tech_.currentTime(),t=[],u=0,f=this.cues.length;u<f;u++)n=this.cues[u],n.startTime<=i&&n.endTime>=i?t.push(n):n.startTime===n.endTime&&n.startTime<=i&&n.startTime+.5>=i&&t.push(n);if(o=!1,t.length!==this.activeCues_.length)o=!0;else for(r=0;r<t.length;r++)this.activeCues_.indexOf(t[r])===-1&&(o=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set:function(){}}),r.src?(i.src=r.src,ot(r.src,i)):i.loaded_=!0,p=i,s(y,p)}return y(t,n),t.prototype.addCue=function(n){var i=this.tech_.textTracks(),t;if(i)for(t=0;t<i.length;t++)i[t]!==this&&i[t].removeCue(n);this.cues_.push(n);this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(n){for(var r,i=!1,t=0,u=this.cues_.length;t<u;t++)r=this.cues_[t],r===n&&(this.cues_.splice(t,1),i=!0);i&&this.cues.setCues_(this.cues_)},t}(g["default"]);a.prototype.allowedEvents_={cuechange:"cuechange"};i["default"]=a},{67:67,73:73,75:75,78:78,83:83,86:86,87:87,92:92,95:95,99:99}],73:[function(n,t,i){"use strict";i.__esModule=!0;i.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"};i.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"};i.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"};i.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(n,t,i){"use strict";function o(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function u(n){return n&&n.__esModule?n:{"default":n}}function s(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var e;i.__esModule=!0;var c=n(42),l=u(c),a=n(78),v=o(a),y=n(94),p=u(y),r=function(n){function t(){var o,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e,r,u;if(s(this,t),e=f(this,n.call(this)),!i&&(i=e,v.IS_IE8)){i=p["default"].createElement("custom");for(r in t.prototype)"constructor"!==r&&(i[r]=t.prototype[r])}for(i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}}),u=0;u<h.length;u++)i.addTrack_(h[u]);return o=i,f(e,o)}return h(t,n),t.prototype.addTrack_=function(n){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}});this.tracks_.indexOf(n)===-1&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack"}))},t.prototype.removeTrack_=function(n){for(var t=void 0,i=0,r=this.length;i<r;i++)if(this[i]===n){t=this[i];t.off&&t.off();this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},t}(l["default"]);r.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(e in r.prototype.allowedEvents_)r.prototype["on"+e]=null;i["default"]=r},{42:42,78:78,94:94}],75:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(78),h=u(s),c=n(94),l=r(c),a=n(85),v=u(a),y=n(42),p=r(y),w=function(n){function t(){var c,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o,i,u,s,a,y;if(e(this,t),o=f(this,n.call(this)),i=o,h.IS_IE8){i=l["default"].createElement("custom");for(u in t.prototype)"constructor"!==u&&(i[u]=t.prototype[u])}s={id:r.id||"vjs_track_"+v.newGUID(),kind:r.kind||"",label:r.label||"",language:r.language||""};a=function(n){Object.defineProperty(i,n,{get:function(){return s[n]},set:function(){}})};for(y in s)a(y);return c=i,f(o,c)}return o(t,n),t}(p["default"]);i["default"]=w},{42:42,78:78,85:85,94:94}],76:[function(n,t,i){"use strict";function o(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function f(n){return n&&n.__esModule?n:{"default":n}}function s(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var c=n(74),r=f(c),l=n(78),a=o(l),v=n(94),y=f(v),u=function(n,t){for(var i=0;i<n.length;i++)t.id!==n[i].id&&(n[i].selected=!1)},p=function(n){function t(){var l,v,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i,o,h,c;for(s(this,t),i=void 0,o=f.length-1;o>=0;o--)if(f[o].selected){u(f,f[o]);break}if(a.IS_IE8){i=y["default"].createElement("custom");for(h in r["default"].prototype)"constructor"!==h&&(i[h]=r["default"].prototype[h]);for(c in t.prototype)"constructor"!==c&&(i[c]=t.prototype[c])}return i=l=e(this,n.call(this,f,i)),i.changing_=!1,Object.defineProperty(i,"selectedIndex",{get:function(){for(var n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set:function(){}}),v=i,e(l,v)}return h(t,n),t.prototype.addTrack_=function(t){var i=this;t.selected&&u(this,t);n.prototype.addTrack_.call(this,t);t.addEventListener&&t.addEventListener("selectedchange",function(){i.changing_||(i.changing_=!0,u(i,t),i.changing_=!1,i.trigger("change"))})},t.prototype.addTrack=function(n){this.addTrack_(n)},t.prototype.removeTrack=function(t){n.prototype.removeTrack_.call(this,t)},t}(r["default"]);i["default"]=p},{74:74,78:78,94:94}],77:[function(n,t,i){"use strict";function f(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function r(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}i.__esModule=!0;var s=n(73),h=n(75),c=r(h),l=n(87),a=r(l),v=n(78),y=f(v),p=function(n){function t(){var h,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r;e(this,t);var f=a["default"](l,{kind:s.VideoTrackKind[l.kind]||""}),i=h=u(this,n.call(this,f)),o=!1;if(y.IS_IE8)for(r in t.prototype)"constructor"!==r&&(i[r]=t.prototype[r]);return Object.defineProperty(i,"selected",{get:function(){return o},set:function(n){"boolean"==typeof n&&n!==o&&(o=n,this.trigger("selectedchange"))}}),f.selected&&(i.selected=f.selected),c=i,u(h,c)}return o(t,n),t}(c["default"]);i["default"]=p},{73:73,75:75,78:78,87:87}],78:[function(n,t,i){"use strict";function l(n){return n&&n.__esModule?n:{"default":n}}function a(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}i.__esModule=!0;i.BACKGROUND_SIZE_SUPPORTED=i.TOUCH_ENABLED=i.IS_ANY_SAFARI=i.IS_SAFARI=i.IE_VERSION=i.IS_IE8=i.IS_CHROME=i.IS_EDGE=i.IS_FIREFOX=i.IS_NATIVE_ANDROID=i.IS_OLD_ANDROID=i.ANDROID_VERSION=i.IS_ANDROID=i.IOS_VERSION=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=void 0;var v=n(81),e=a(v),y=n(95),u=l(y),r=u["default"].navigator&&u["default"].navigator.userAgent||"",o=/AppleWebKit\/([\d.]+)/i.exec(r),p=o?parseFloat(o.pop()):null,s=i.IS_IPAD=/iPad/i.test(r),w=i.IS_IPHONE=/iPhone/i.test(r)&&!s,b=i.IS_IPOD=/iPod/i.test(r),k=i.IS_IOS=w||s||b,f=(i.IOS_VERSION=function(){var n=r.match(/OS (\d+)_/i);return n&&n[1]?n[1]:null}(),i.IS_ANDROID=/Android/i.test(r)),h=i.ANDROID_VERSION=function(){var n=r.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),t,i;return n?(t=n[1]&&parseFloat(n[1]),i=n[2]&&parseFloat(n[2]),t&&i?parseFloat(n[1]+"."+n[2]):t?t:null):null}(),c=(i.IS_OLD_ANDROID=f&&/webkit/i.test(r)&&h<2.3,i.IS_NATIVE_ANDROID=f&&h<5&&p<537,i.IS_FIREFOX=/Firefox/i.test(r),i.IS_EDGE=/Edge/i.test(r)),d=i.IS_CHROME=!c&&/Chrome/i.test(r),g=(i.IS_IE8=/MSIE\s8\.0/.test(r),i.IE_VERSION=function(n){return n&&parseFloat(n[1])}(/MSIE\s(\d+)\.\d/.exec(r)),i.IS_SAFARI=/Safari/i.test(r)&&!d&&!f&&!c);i.IS_ANY_SAFARI=g||k;i.TOUCH_ENABLED=e.isReal()&&("ontouchstart"in u["default"]||u["default"].DocumentTouch&&u["default"].document instanceof u["default"].DocumentTouch);i.BACKGROUND_SIZE_SUPPORTED=e.isReal()&&"backgroundSize"in u["default"].document.createElement("video").style},{81:81,95:95}],79:[function(n,t,i){"use strict";function r(n,t){var f=0,e=void 0,r=void 0,i;if(!t)return 0;for(n&&n.length||(n=u.createTimeRange(0,0)),i=0;i<n.length;i++)e=n.start(i),r=n.end(i),r>t&&(r=t),f+=r-e;return f/t}i.__esModule=!0;i.bufferedPercent=r;var u=n(90)},{90:90}],80:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!n||!t)return"";if("function"==typeof r["default"].getComputedStyle){var i=r["default"].getComputedStyle(n);return i?i[t]:""}return n.currentStyle[t]||""}i.__esModule=!0;i["default"]=f;var e=n(95),r=u(e)},{95:95}],81:[function(n,t,i){"use strict";function it(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n){return n&&n.__esModule?n:{"default":n}}function rt(n,t){return n.raw=t,n}function l(n){return"string"==typeof n&&/\S/.test(n)}function a(n){if(/\s/.test(n))throw new Error("class has illegal whitespace characters");}function ut(n){return new RegExp("(^|\\s)"+n+"($|\\s)")}function ft(){return r["default"]===c["default"].document&&"undefined"!=typeof r["default"].createElement}function o(n){return tt.isObject(n)&&1===n.nodeType}function v(n){return function(t,i){if(!l(t))return r["default"][n](null);l(i)&&(i=r["default"].querySelector(i));var u=o(i)?i:r["default"];return u[n]&&u[n](t)}}function et(n){return 0===n.indexOf("#")&&(n=n.slice(1)),r["default"].getElementById(n)}function ot(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments[3],n=r["default"].createElement(f);return Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];i.indexOf("aria-")!==-1||"role"===i||"type"===i?(ei["default"].warn(si["default"](nt,i,r)),n.setAttribute(i,r)):"textContent"===i?y(n,r):n[i]=r}),Object.getOwnPropertyNames(i).forEach(function(t){n.setAttribute(t,i[t])}),u&&h(n,u),n}function y(n,t){return"undefined"==typeof n.textContent?n.innerText=t:n.textContent=t,n}function st(n,t){t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}function ht(n){var t=n[u];return t||(t=n[u]=ui.newGUID()),f[t]||(f[t]={}),f[t]}function ct(n){var t=n[u];return!!t&&!!Object.getOwnPropertyNames(f[t]).length}function lt(n){var t=n[u];if(t){delete f[t];try{delete n[u]}catch(i){n.removeAttribute?n.removeAttribute(u):n[u]=null}}}function s(n,t){return a(t),n.classList?n.classList.contains(t):ut(t).test(n.className)}function p(n,t){return n.classList?n.classList.add(t):s(n,t)||(n.className=(n.className+" "+t).trim()),n}function w(n,t){return n.classList?n.classList.remove(t):(a(t),n.className=n.className.split(/\s+/).filter(function(n){return n!==t}).join(" ")),n}function at(n,t,i){var r=s(n,t);if("function"==typeof i&&(i=i(n,t)),"boolean"!=typeof i&&(i=!r),i!==r)return i?p(n,t):w(n,t),n}function vt(n,t){Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];null===r||"undefined"==typeof r||r===!1?n.removeAttribute(i):n.setAttribute(i,r===!0?"":r)})}function yt(n){var f={},i,t,r,u;if(n&&n.attributes&&n.attributes.length>0)for(i=n.attributes,t=i.length-1;t>=0;t--)r=i[t].name,u=i[t].value,"boolean"!=typeof n[r]&&",autoplay,controls,loop,muted,default,".indexOf(","+r+",")===-1||(u=null!==u),f[r]=u;return f}function pt(n,t){return n.getAttribute(t)}function wt(n,t,i){n.setAttribute(t,i)}function bt(n,t){n.removeAttribute(t)}function kt(){r["default"].body.focus();r["default"].onselectstart=function(){return!1}}function dt(){r["default"].onselectstart=function(){return!0}}function b(n){var t=void 0;if(n.getBoundingClientRect&&n.parentNode&&(t=n.getBoundingClientRect()),!t)return{left:0,top:0};var u=r["default"].documentElement,i=r["default"].body,f=u.clientLeft||i.clientLeft||0,e=c["default"].pageXOffset||i.scrollLeft,o=t.left+e-f,s=u.clientTop||i.clientTop||0,h=c["default"].pageYOffset||i.scrollTop,l=t.top+h-s;return{left:Math.round(o),top:Math.round(l)}}function gt(n,t){var i={},r=b(n),o=n.offsetWidth,u=n.offsetHeight,s=r.top,h=r.left,f=t.pageY,e=t.pageX;return t.changedTouches&&(e=t.changedTouches[0].pageX,f=t.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(s-f+u)/u)),i.x=Math.max(0,Math.min(1,(e-h)/o)),i}function k(n){return tt.isObject(n)&&3===n.nodeType}function d(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function g(n){return"function"==typeof n&&(n=n()),(Array.isArray(n)?n:[n]).map(function(n){return"function"==typeof n&&(n=n()),o(n)||k(n)?n:"string"==typeof n&&/\S/.test(n)?r["default"].createTextNode(n):void 0}).filter(function(n){return n})}function h(n,t){return g(t).forEach(function(t){return n.appendChild(t)}),n}function ni(n,t){return h(d(n),t)}var nt;i.__esModule=!0;i.$$=i.$=void 0;nt=rt(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);i.isReal=ft;i.isEl=o;i.getEl=et;i.createEl=ot;i.textContent=y;i.insertElFirst=st;i.getElData=ht;i.hasElData=ct;i.removeElData=lt;i.hasElClass=s;i.addElClass=p;i.removeElClass=w;i.toggleElClass=at;i.setElAttributes=vt;i.getElAttributes=yt;i.getAttribute=pt;i.setAttribute=wt;i.removeAttribute=bt;i.blockTextSelection=kt;i.unblockTextSelection=dt;i.findElPosition=b;i.getPointerPosition=gt;i.isTextNode=k;i.emptyEl=d;i.normalizeContent=g;i.appendContent=h;i.insertContent=ni;var ti=n(94),r=e(ti),ii=n(95),c=e(ii),ri=n(85),ui=it(ri),fi=n(86),ei=e(fi),oi=n(98),si=e(oi),tt=n(88),f={},u="vdata"+(new Date).getTime();i.$=v("querySelector");i.$$=v("querySelectorAll")},{85:85,86:86,88:88,94:94,95:95,98:98}],82:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function c(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function l(n,t){var i=r.getElData(n);0===i.handlers[t].length&&(delete i.handlers[t],n.removeEventListener?n.removeEventListener(t,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+t,i.dispatcher));Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled);0===Object.getOwnPropertyNames(i).length&&r.removeElData(n)}function f(n,t,i,r){i.forEach(function(i){n(t,i,r)})}function e(n){function t(){return!0}function i(){return!1}return n&&n.isPropagationStopped||!function(){var r=n||g["default"].event,u,f,e;n={};for(u in r)"layerX"!==u&&"layerY"!==u&&"keyLocation"!==u&&"webkitMovementX"!==u&&"webkitMovementY"!==u&&("returnValue"===u&&r.preventDefault||(n[u]=r[u]));(n.target||(n.target=n.srcElement||h["default"]),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){r.preventDefault&&r.preventDefault();n.returnValue=!1;r.returnValue=!1;n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){r.stopPropagation&&r.stopPropagation();n.cancelBubble=!0;r.cancelBubble=!0;n.isPropagationStopped=t},n.isPropagationStopped=i,n.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation();n.isImmediatePropagationStopped=t;n.stopPropagation()},n.isImmediatePropagationStopped=i,null!==n.clientX&&void 0!==n.clientX)&&(f=h["default"].documentElement,e=h["default"].body,n.pageX=n.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0),n.pageY=n.clientY+(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0));n.which=n.charCode||n.keyCode;null!==n.button&&void 0!==n.button&&(n.button=1&n.button?0:4&n.button?1:2&n.button?2:0)}(),n}function o(n,t,i){if(Array.isArray(t))return f(o,n,t,i);var u=r.getElData(n);u.handlers||(u.handlers={});u.handlers[t]||(u.handlers[t]=[]);i.guid||(i.guid=y.newGUID());u.handlers[t].push(i);u.dispatcher||(u.disabled=!1,u.dispatcher=function(t,i){var r;if(!u.disabled&&(t=e(t),r=u.handlers[t.type],r))for(var o=r.slice(0),f=0,s=o.length;f<s&&!t.isImmediatePropagationStopped();f++)try{o[f].call(n,t,i)}catch(h){k["default"].error(h)}});1===u.handlers[t].length&&(n.addEventListener?n.addEventListener(t,u.dispatcher,!1):n.attachEvent&&n.attachEvent("on"+t,u.dispatcher))}function s(n,t,i){var u,h,e,o,c;if(r.hasElData(n)&&(u=r.getElData(n),u.handlers)){if(Array.isArray(t))return f(s,n,t,i);if(h=function(t){u.handlers[t]=[];l(n,t)},t){if(e=u.handlers[t],e){if(!i)return void h(t);if(i.guid)for(o=0;o<e.length;o++)e[o].guid===i.guid&&e.splice(o--,1);l(n,t)}}else for(c in u.handlers)h(c)}}function a(n,t,i){var o=r.hasElData(n)?r.getElData(n):{},u=n.parentNode||n.ownerDocument,f;return("string"==typeof t&&(t={type:t,target:n}),t=e(t),o.dispatcher&&o.dispatcher.call(n,t,i),u&&!t.isPropagationStopped()&&t.bubbles===!0)?a.call(null,u,t,i):u||t.defaultPrevented||(f=r.getElData(t.target),t.target[t.type]&&(f.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),f.disabled=!1)),!t.defaultPrevented}function v(n,t,i){if(Array.isArray(t))return f(v,n,t,i);var r=function u(){s(n,t,u);i.apply(this,arguments)};r.guid=i.guid=i.guid||y.newGUID();o(n,t,r)}i.__esModule=!0;i.fixEvent=e;i.on=o;i.off=s;i.trigger=a;i.one=v;var p=n(81),r=c(p),w=n(85),y=c(w),b=n(86),k=u(b),d=n(95),g=u(d),nt=n(94),h=u(nt)},{81:81,85:85,86:86,94:94,95:95}],83:[function(n,t,i){"use strict";i.__esModule=!0;i.throttle=i.bind=void 0;var r=n(85);i.bind=function(n,t,i){t.guid||(t.guid=r.newGUID());var u=function(){return t.apply(n,arguments)};return u.guid=i?i+"_"+t.guid:t.guid,u};i.throttle=function(n,t){var i=Date.now();return function(){var r=Date.now();r-i>=t&&(n.apply(void 0,arguments),i=r)}}},{85:85}],84:[function(n,t,i){"use strict";function r(n){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;n=n<0?0:n;var t=Math.floor(n%60),i=Math.floor(n/60%60),r=Math.floor(n/3600),f=Math.floor(u/60%60),e=Math.floor(u/3600);return(isNaN(n)||n===1/0)&&(r=i=t="-"),r=r>0||e>0?r+":":"",i=((r||f>=10)&&i<10?"0"+i:i)+":",t=t<10?"0"+t:t,r+i+t}i.__esModule=!0;i["default"]=r},{}],85:[function(n,t,i){"use strict";function r(){return u++}i.__esModule=!0;i.newGUID=r;var u=1},{}],86:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}i.__esModule=!0;i.logByType=void 0;var s=n(95),u=o(s),e=n(78),h=n(88),r=void 0,f=i.logByType=function(n,t){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!e.IE_VERSION&&e.IE_VERSION<11,i;"log"!==n&&t.unshift(n.toUpperCase()+":");r.history.push(t);t.unshift("VIDEOJS:");i=u["default"].console&&u["default"].console[n];i&&(f&&(t=t.map(function(n){if(h.isObject(n)||Array.isArray(n))try{return JSON.stringify(n)}catch(t){return String(n)}return String(n)}).join(" ")),i.apply?i[Array.isArray(t)?"apply":"call"](u["default"].console,t):i(t))};r=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];f("log",i)};r.history=[];r.error=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return f("error",i)};r.warn=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return f("warn",i)};i["default"]=r},{78:78,88:88,95:95}],87:[function(n,t,i){"use strict";function u(){for(var n={},i=arguments.length,f=Array(i),t=0;t<i;t++)f[t]=arguments[t];return f.forEach(function(t){t&&r.each(t,function(t,i){return r.isPlain(t)?(r.isPlain(n[i])||(n[i]={}),void(n[i]=u(n[i],t))):void(n[i]=t)})}),n}i.__esModule=!0;i["default"]=u;var r=n(88)},{88:88}],88:[function(n,t,i){"use strict";function r(n,t){Object.keys(n).forEach(function(i){return t(n[i],i)})}function o(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object.keys(n).reduce(function(i,r){return t(i,n[r],r)},i)}function s(n){for(var i=arguments.length,u=Array(i>1?i-1:0),t=1;t<i;t++)u[t-1]=arguments[t];return Object.assign?Object.assign.apply(Object,[n].concat(u)):(u.forEach(function(t){t&&r(t,function(t,i){n[i]=t})}),n)}function u(n){return!!n&&"object"===("undefined"==typeof n?"undefined":f(n))}function h(n){return u(n)&&"[object Object]"===e.call(n)&&n.constructor===Object}var f,e;i.__esModule=!0;f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};i.each=r;i.reduce=o;i.assign=s;i.isObject=u;i.isPlain=h;e=Object.prototype.toString},{}],89:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}i.__esModule=!0;i.setTextContent=i.createStyleElement=void 0;var u=n(94),f=r(u);i.createStyleElement=function(n){var t=f["default"].createElement("style");return t.className=n,t};i.setTextContent=function(n,t){n.styleSheet?n.styleSheet.cssText=t:n.textContent=t}},{94:94}],90:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function o(n,t,i){if(t<0||t>i)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+i+").");}function u(n,t,i,r){return void 0===r&&(h["default"].warn("DEPRECATED: Function '"+n+"' on 'TimeRanges' called without an index argument."),r=0),o(n,r,i.length-1),i[r][t]}function r(n){return void 0===n||0===n.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty");},end:function(){throw new Error("This TimeRanges object is empty");}}:{length:n.length,start:u.bind(null,"start",0,n),end:u.bind(null,"end",1,n)}}function f(n,t){return Array.isArray(n)?r(n):void 0===n||void 0===t?r():r([[n,t]])}i.__esModule=!0;i.createTimeRange=void 0;i.createTimeRanges=f;var s=n(86),h=e(s);i.createTimeRange=f},{86:86}],91:[function(n,t,i){"use strict";function r(n){return"string"!=typeof n?n:n.charAt(0).toUpperCase()+n.slice(1)}i.__esModule=!0;i["default"]=r},{}],92:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}i.__esModule=!0;i.isCrossOrigin=i.getFileExtension=i.getAbsoluteURL=i.parseUrl=void 0;var f=n(94),r=u(f),e=n(95),o=u(e),s=i.parseUrl=function(n){var e=["protocol","hostname","port","pathname","search","hash","host"],u=r["default"].createElement("a"),o,i,t,f;for(u.href=n,o=""===u.host&&"file:"!==u.protocol,i=void 0,o&&(i=r["default"].createElement("div"),i.innerHTML='<a href="'+n+'"><\/a>',u=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),r["default"].body.appendChild(i)),t={},f=0;f<e.length;f++)t[e[f]]=u[e[f]];return"http:"===t.protocol&&(t.host=t.host.replace(/:80$/,"")),"https:"===t.protocol&&(t.host=t.host.replace(/:443$/,"")),o&&r["default"].body.removeChild(i),t};i.getAbsoluteURL=function(n){if(!n.match(/^https?:\/\//)){var t=r["default"].createElement("div");t.innerHTML='<a href="'+n+'">x<\/a>';n=t.firstChild.href}return n};i.getFileExtension=function(n){if("string"==typeof n){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(n);if(t)return t.pop().toLowerCase()}return""};i.isCrossOrigin=function(n){var t=o["default"].location,i=s(n),r=":"===i.protocol?t.protocol:i.protocol;return r+i.host!==t.protocol+t.host}},{94:94,95:95}],93:[function(t,i,r){"use strict";function o(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t}function e(n){return n&&n.__esModule?n:{"default":n}}function u(n,t,i){var r=void 0,o,e;if("string"==typeof n){if(0===n.indexOf("#")&&(n=n.slice(1)),u.getPlayers()[n])return t&&v["default"].warn('Player "'+n+'" is already initialised. Options will not be applied.'),i&&u.getPlayers()[n].ready(i),u.getPlayers()[n];r=f.getEl(n)}else r=n;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return r.player||s["default"].players[r.playerId]?r.player||s["default"].players[r.playerId]:(t=t||{},u.hooks("beforesetup").forEach(function(n){var i=n(r,a["default"](t));return!si.isObject(i)||Array.isArray(i)?void v["default"].error("please return an object in beforesetup hooks"):void(t=a["default"](t,i))}),o=c["default"].getComponent("Player"),e=new o(r,t,i),u.hooks("setup").forEach(function(n){return n(e)}),e)}var h,y;r.__esModule=!0;var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nt=t(95),tt=e(nt),it=t(94),p=e(it),rt=t(56),ut=o(rt),ft=t(89),k=o(ft),et=t(5),c=e(et),ot=t(42),st=e(ot),ht=t(82),l=o(ht),ct=t(51),s=e(ct),lt=t(52),at=e(lt),vt=t(87),a=e(vt),yt=t(83),pt=o(yt),wt=t(72),bt=e(wt),kt=t(64),dt=e(kt),gt=t(77),ni=e(gt),ti=t(90),ii=t(84),ri=e(ii),ui=t(86),v=e(ui),fi=t(81),f=o(fi),ei=t(78),d=o(ei),oi=t(92),g=o(oi),si=t(88),hi=t(80),ci=e(hi),li=t(43),ai=e(li),vi=t(99),yi=e(vi),pi=t(62),w=e(pi);("undefined"==typeof HTMLVideoElement&&f.isReal()&&(p["default"].createElement("video"),p["default"].createElement("audio"),p["default"].createElement("track")),u.hooks_={},u.hooks=function(n,t){return u.hooks_[n]=u.hooks_[n]||[],t&&(u.hooks_[n]=u.hooks_[n].concat(t)),u.hooks_[n]},u.hook=function(n,t){u.hooks(n,t)},u.removeHook=function(n,t){var i=u.hooks(n).indexOf(t);return!(i<=-1)&&(u.hooks_[n]=u.hooks_[n].slice(),u.hooks_[n].splice(i,1),!0)},tt["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0&&f.isReal())&&(h=f.$(".vjs-styles-defaults"),h||(h=k.createStyleElement("vjs-styles-defaults"),y=f.$("head"),y&&y.insertBefore(h,y.firstChild),k.setTextContent(h,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")));ut.autoSetupTimeout(1,u);u.VERSION="5.15.1";u.options=s["default"].prototype.options_;u.getPlayers=function(){return s["default"].players};u.players=s["default"].players;u.getComponent=c["default"].getComponent;u.registerComponent=function(n,t){w["default"].isTech(t)&&v["default"].warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)");c["default"].registerComponent.call(c["default"],n,t)};u.getTech=w["default"].getTech;u.registerTech=w["default"].registerTech;u.browser=d;u.TOUCH_ENABLED=d.TOUCH_ENABLED;u.extend=ai["default"];u.mergeOptions=a["default"];u.bind=pt.bind;u.plugin=at["default"];u.addLanguage=function(n,t){var i;return n=(""+n).toLowerCase(),u.options.languages=a["default"](u.options.languages,(i={},i[n]=t,i)),u.options.languages[n]};u.log=v["default"];u.createTimeRange=u.createTimeRanges=ti.createTimeRanges;u.formatTime=ri["default"];u.parseUrl=g.parseUrl;u.isCrossOrigin=g.isCrossOrigin;u.EventTarget=st["default"];u.on=l.on;u.one=l.one;u.off=l.off;u.trigger=l.trigger;u.xhr=yi["default"];u.TextTrack=bt["default"];u.AudioTrack=dt["default"];u.VideoTrack=ni["default"];u.isEl=f.isEl;u.isTextNode=f.isTextNode;u.createEl=f.createEl;u.hasClass=f.hasElClass;u.addClass=f.addElClass;u.removeClass=f.removeElClass;u.toggleClass=f.toggleElClass;u.setAttributes=f.setElAttributes;u.getAttributes=f.getElAttributes;u.emptyEl=f.emptyEl;u.appendContent=f.appendContent;u.insertContent=f.insertContent;u.computedStyle=ci["default"];"function"==typeof n&&n.amd?n("videojs",[],function(){return u}):"object"===("undefined"==typeof r?"undefined":b(r))&&"object"===("undefined"==typeof i?"undefined":b(i))&&(i.exports=u);r["default"]=u},{42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,86:86,87:87,88:88,89:89,90:90,92:92,94:94,95:95,99:99}],94:[function(n,t){(function(i){var u="undefined"!=typeof i?i:"undefined"!=typeof window?window:{},f=n(96),r;"undefined"!=typeof document?t.exports=document:(r=u["__GLOBAL_DOCUMENT_CACHE@4"],r||(r=u["__GLOBAL_DOCUMENT_CACHE@4"]=f),t.exports=r)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{96:96}],95:[function(n,t){(function(n){t.exports="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],96:[function(){},{}],97:[function(n,t){function i(n,t){var i,r=null;try{i=JSON.parse(n,t)}catch(u){r=u}return[r,i]}t.exports=i},{}],98:[function(n,t){function i(n){return n.replace(/\n\r?\s*/g,"")}t.exports=function(n){for(var r="",t=0;t<arguments.length;t++)r+=i(n[t])+(arguments[t+1]||"");return r}},{}],99:[function(n,t){"use strict";function e(n,t){for(var i=0;i<n.length;i++)t(n[i])}function o(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}function r(n,t,i){var r=n;return c(t)?(i=t,"string"==typeof n&&(r={uri:n})):r=a(t,{uri:n}),r.callback=i,r}function i(n,t,i){return t=r(n,t,i),u(t)}function u(n){function g(){4===t.readyState&&v()}function nt(){var n=void 0;if(n=t.response?t.response:t.responseText||s(t),d)try{n=JSON.parse(n)}catch(i){}return n}function e(n){return clearTimeout(h),n instanceof Error||(n=new Error(""+(n||"Unknown XMLHttpRequest Error"))),n.statusCode=0,p(n,w)}function v(){var r,i,f;if(!b)return clearTimeout(h),r=n.useXDR&&void 0===t.status?200:1223===t.status?204:t.status,i=w,f=null,0!==r?(i={body:nt(),statusCode:r,method:u,headers:{},url:c,rawRequest:t},t.getAllResponseHeaders&&(i.headers=l(t.getAllResponseHeaders()))):f=new Error("Internal XMLHttpRequest Error"),p(f,i,i.body)}if("undefined"==typeof n.callback)throw new Error("callback argument missing");var y=!1,p=function(t,i,r){y||(y=!0,n.callback(t,i,r))},w={body:void 0,headers:{},statusCode:0,method:u,url:c,rawRequest:t},t=n.xhr||null;t||(t=n.cors||n.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var f,b,h,c=t.url=n.uri||n.url,u=t.method=n.method||"GET",k=n.body||n.data||null,r=t.headers=n.headers||{},a=!!n.sync,d=!1;if("json"in n&&(d=!0,r.accept||r.Accept||(r.Accept="application/json"),"GET"!==u&&"HEAD"!==u&&(r["content-type"]||r["Content-Type"]||(r["Content-Type"]="application/json"),k=JSON.stringify(n.json))),t.onreadystatechange=g,t.onload=v,t.onerror=e,t.onprogress=function(){},t.ontimeout=e,t.open(u,c,!a,n.username,n.password),a||(t.withCredentials=!!n.withCredentials),!a&&n.timeout>0&&(h=setTimeout(function(){b=!0;t.abort("timeout");var n=new Error("XMLHttpRequest timeout");n.code="ETIMEDOUT";e(n)},n.timeout)),t.setRequestHeader)for(f in r)r.hasOwnProperty(f)&&t.setRequestHeader(f,r[f]);else if(n.headers&&!o(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(t.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(t),t.send(k),t}function s(n){if("document"===n.responseType)return n.responseXML;var t=204===n.status&&n.responseXML&&"parsererror"===n.responseXML.documentElement.nodeName;return""!==n.responseType||t?null:n.responseXML}function h(){}var f=n(95),c=n(100),l=n(103),a=n(104);t.exports=i;i.XMLHttpRequest=f.XMLHttpRequest||h;i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:f.XDomainRequest;e(["get","put","post","patch","head","delete"],function(n){i["delete"===n?"del":n]=function(t,i,f){return i=r(t,i,f),i.method=n.toUpperCase(),u(i)}})},{100:100,103:103,104:104,95:95}],100:[function(n,t){function i(n){var t=r.call(n);return"[object Function]"===t||"function"==typeof n&&"[object RegExp]"!==t||"undefined"!=typeof window&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}t.exports=i;var r=Object.prototype.toString},{}],101:[function(n,t){function u(n,t,i){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(i=this);"[object Array]"===r.call(n)?f(n,t,i):"string"==typeof n?e(n,t,i):o(n,t,i)}function f(n,t,r){for(var u=0,f=n.length;u<f;u++)i.call(n,u)&&t.call(r,n[u],u,n)}function e(n,t,i){for(var r=0,u=n.length;r<u;r++)t.call(i,n.charAt(r),r,n)}function o(n,t,r){for(var u in n)i.call(n,u)&&t.call(r,n[u],u,n)}var s=n(100),r,i;t.exports=u;r=Object.prototype.toString;i=Object.prototype.hasOwnProperty},{100:100}],102:[function(n,t,i){function r(n){return n.replace(/^\s*|\s*$/g,"")}i=t.exports=r;i.left=function(n){return n.replace(/^\s*/,"")};i.right=function(n){return n.replace(/\s*$/,"")}},{}],103:[function(n,t){var i=n(102),r=n(101),u=function(n){return"[object Array]"===Object.prototype.toString.call(n)};t.exports=function(n){if(!n)return{};var t={};return r(i(n).split("\n"),function(n){var e=n.indexOf(":"),r=i(n.slice(0,e)).toLowerCase(),f=i(n.slice(e+1));"undefined"==typeof t[r]?t[r]=f:u(t[r])?t[r].push(f):t[r]=[t[r],f]}),t}},{101:101,102:102}],104:[function(n,t){function i(){for(var t,i,u={},n=0;n<arguments.length;n++){t=arguments[n];for(i in t)r.call(t,i)&&(u[i]=t[i])}return u}t.exports=i;var r=Object.prototype.hasOwnProperty},{}]},{},[93])(93)}),function(n){var t=n.vttjs={},i=t.VTTCue,r=t.VTTRegion,u=n.VTTCue,f=n.VTTRegion;t.shim=function(){t.VTTCue=i;t.VTTRegion=r};t.restore=function(){t.VTTCue=u;t.VTTRegion=f}}(this),function(n,t){function f(n){if("string"!=typeof n)return!1;var t=o[n.toLowerCase()];return!!t&&n.toLowerCase()}function r(n){if("string"!=typeof n)return!1;var t=s[n.toLowerCase()];return!!t&&n.toLowerCase()}function i(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)n[r]=i[r]}return n}function u(n,t,u){var o=this,h=/MSIE\s8\.0/.test(navigator.userAgent),s={};h?o=document.createElement("custom"):s.enumerable=!0;o.hasBeenReset=!1;var c="",l=!1,a=n,v=t,y=u,p=null,w="",b=!0,k="auto",d="start",g=50,nt="middle",tt=50,it="middle";if(Object.defineProperty(o,"id",i({},s,{get:function(){return c},set:function(n){c=""+n}})),Object.defineProperty(o,"pauseOnExit",i({},s,{get:function(){return l},set:function(n){l=!!n}})),Object.defineProperty(o,"startTime",i({},s,{get:function(){return a},set:function(n){if("number"!=typeof n)throw new TypeError("Start time must be set to a number.");a=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",i({},s,{get:function(){return v},set:function(n){if("number"!=typeof n)throw new TypeError("End time must be set to a number.");v=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"text",i({},s,{get:function(){return y},set:function(n){y=""+n;this.hasBeenReset=!0}})),Object.defineProperty(o,"region",i({},s,{get:function(){return p},set:function(n){p=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",i({},s,{get:function(){return w},set:function(n){var t=f(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");w=t;this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",i({},s,{get:function(){return b},set:function(n){b=!!n;this.hasBeenReset=!0}})),Object.defineProperty(o,"line",i({},s,{get:function(){return k},set:function(n){if("number"!=typeof n&&n!==e)throw new SyntaxError("An invalid number or illegal string was specified.");k=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",i({},s,{get:function(){return d},set:function(n){var t=r(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");d=t;this.hasBeenReset=!0}})),Object.defineProperty(o,"position",i({},s,{get:function(){return g},set:function(n){if(n<0||n>100)throw new Error("Position must be between 0 and 100.");g=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",i({},s,{get:function(){return nt},set:function(n){var t=r(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");nt=t;this.hasBeenReset=!0}})),Object.defineProperty(o,"size",i({},s,{get:function(){return tt},set:function(n){if(n<0||n>100)throw new Error("Size must be between 0 and 100.");tt=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"align",i({},s,{get:function(){return it},set:function(n){var t=r(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");it=t;this.hasBeenReset=!0}})),o.displayState=void 0,h)return o}var e="auto",o={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0};u.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};n.VTTCue=n.VTTCue||u;t.VTTCue=u}(this,this.vttjs||{}),function(n,t){function u(n){if("string"!=typeof n)return!1;var t=f[n.toLowerCase()];return!!t&&n.toLowerCase()}function i(n){return"number"==typeof n&&n>=0&&n<=100}function r(){var n=100,t=3,r=0,f=100,e=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");n=t}},lines:{enumerable:!0,get:function(){return t},set:function(n){if("number"!=typeof n)throw new TypeError("Lines must be set to a number.");t=n}},regionAnchorY:{enumerable:!0,get:function(){return f},set:function(n){if(!i(n))throw new Error("RegionAnchorX must be between 0 and 100.");f=n}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(n){if(!i(n))throw new Error("RegionAnchorY must be between 0 and 100.");r=n}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(n){if(!i(n))throw new Error("ViewportAnchorY must be between 0 and 100.");o=n}},viewportAnchorX:{enumerable:!0,get:function(){return e},set:function(n){if(!i(n))throw new Error("ViewportAnchorX must be between 0 and 100.");e=n}},scroll:{enumerable:!0,get:function(){return s},set:function(n){var t=u(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");s=t}}})}var f={"":!0,up:!0};n.VTTRegion=n.VTTRegion||r;t.VTTRegion=r}(this,this.vttjs||{}),function(n){function i(n,t){this.name="ParsingError";this.code=n.code;this.message=t||n.message}function h(n){function i(n,t,i,r){return 3600*(0|n)+60*(0|t)+(0|i)+(0|r)/1e3}var t=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?i(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?i(t[1],t[2],0,t[4]):i(0,t[1],t[2],t[4]):null}function u(){this.values=s(null)}function o(n,t,i,r){var f=r?n.split(r):[n],e,u,o,s;for(e in f)"string"==typeof f[e]&&(u=f[e].split(i),2===u.length&&(o=u[0],s=u[1],t(o,s)))}function v(n,t,r){function e(){var t=h(n);if(null===t)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+s);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function c(n,t){var i=new u;o(n,function(n,t){var f,u,e;switch(n){case"region":for(f=r.length-1;f>=0;f--)if(r[f].id===t){i.set(n,r[f].region);break}break;case"vertical":i.alt(n,t,["rl","lr"]);break;case"line":u=t.split(",");e=u[0];i.integer(n,e);i.percent(n,e)?i.set("snapToLines",!1):null;i.alt(n,e,["auto"]);2===u.length&&i.alt("lineAlign",u[1],["start","middle","end"]);break;case"position":u=t.split(",");i.percent(n,u[0]);2===u.length&&i.alt("positionAlign",u[1],["start","middle","end"]);break;case"size":i.percent(n,t);break;case"align":i.alt(n,t,["start","middle","end","left","right"])}},/:/,/\s/);t.region=i.get("region",null);t.vertical=i.get("vertical","");t.line=i.get("line","auto");t.lineAlign=i.get("lineAlign","start");t.snapToLines=i.get("snapToLines",!0);t.size=i.get("size",100);t.align=i.get("align","middle");t.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align);t.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function f(){n=n.replace(/^\s+/,"")}var s=n;if(f(),t.startTime=e(),f(),"-->"!==n.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+s);n=n.substr(3);f();t.endTime=e();f();c(n,t)}function c(n,t){function c(){function i(n){return t=t.substr(n.length),n}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return i(n[1]?n[1]:n[2])}function a(n){return b[n]}function v(n){for(;i=n.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)n=n.replace(i[0],a);return n}function y(n,t){return!l[t.localName]||l[t.localName]===n.localName}function p(t,i){var u=k[t],r,f;return u?(r=n.document.createElement(u),r.localName=u,f=d[t],f&&i&&(r[f]=i.trim()),r):null}for(var u,o,i,r,s=n.document.createElement("div"),f=s,e=[];null!==(r=c());)if("<"!==r[0])f.appendChild(n.document.createTextNode(v(r)));else{if("/"===r[1]){e.length&&e[e.length-1]===r.substr(2).replace(">","")&&(e.pop(),f=f.parentNode);continue}if(o=h(r.substr(1,r.length-2)),o){u=n.document.createProcessingInstruction("timestamp",o);f.appendChild(u);continue}if(i=r.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/),!i)continue;if(u=p(i[1],i[3]),!u)continue;if(!y(f,u))continue;i[2]&&(u.className=i[2].substr(1).replace("."," "));e.push(i[1]);f.appendChild(u);f=u}return s}function y(n){function f(n,t){for(var i=t.childNodes.length-1;i>=0;i--)n.push(t.childNodes[i])}function r(n){var t,i,u;return!n||!n.length?null:(t=n.pop(),i=t.textContent||t.innerText,i)?(u=i.match(/^.*(\n|\r)/),u?(n.length=0,u[0]):i):"ruby"===t.tagName?r(n):t.childNodes?(f(n,t),r(n)):void 0}var e,o=[],u="",t,i;if(!n||!n.childNodes)return"ltr";for(f(o,n);u=r(o);)for(t=0;t<u.length;t++)for(e=u.charCodeAt(t),i=0;i<a.length;i++)if(a[i]===e)return"rtl";return"ltr"}function p(n){if("number"==typeof n.line&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;for(var r=n.track,i=r.textTrackList,u=0,t=0;t<i.length&&i[t]!==r;t++)"showing"===i[t].mode&&u++;return++u*-1}function f(){}function e(n,t,i){var e=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",s="rgba(0, 0, 0, 0.8)",r,u;e&&(o="rgb(255, 255, 255)",s="rgb(0, 0, 0)");f.call(this);this.cue=t;this.cueDiv=c(n,t.text);r={color:o,backgroundColor:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};e||(r.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",r.unicodeBidi="plaintext");this.applyStyles(r,this.cueDiv);this.div=n.document.createElement("div");r={textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"};e||(r.direction=y(this.cueDiv),r.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext");this.applyStyles(r);this.div.appendChild(this.cueDiv);u=0;switch(t.positionAlign){case"start":u=t.position;break;case"middle":u=t.position-t.size/2;break;case"end":u=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(t.size,"%")});this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}function t(n){var i,r,f,u,e=/MSIE\s8\.0/.test(navigator.userAgent),t;n.div&&(r=n.div.offsetHeight,f=n.div.offsetWidth,u=n.div.offsetTop,t=(t=n.div.childNodes)&&(t=t[0])&&t.getClientRects&&t.getClientRects(),n=n.div.getBoundingClientRect(),i=t?Math.max(t[0]&&t[0].height||0,n.height/t.length):0);this.left=n.left;this.right=n.right;this.top=n.top||u;this.height=n.height||r;this.bottom=n.bottom||u+(n.height||r);this.width=n.width||f;this.lineHeight=void 0!==i?i:n.lineHeight;e&&!this.lineHeight&&(this.lineHeight=13)}function w(n,i,r,u){function w(n,i){for(var e,o,s=new t(n),h=1,f=0;f<i.length;f++){for(;n.overlapsOppositeAxis(r,i[f])||n.within(r)&&n.overlapsAny(u);)n.move(i[f]);if(n.within(r))return n;e=n.intersectPercentage(r);h>e&&(o=new t(n),h=e);n=new t(s)}return o||s}var h=new t(i),o=i.cue,e=p(o),f=[],c,a,y;if(o.snapToLines){switch(o.vertical){case"":f=["+y","-y"];c="height";break;case"rl":f=["+x","-x"];c="width";break;case"lr":f=["-x","+x"];c="width"}var l=h.lineHeight,s=l*Math.round(e),v=r[c]+l,b=f[0];Math.abs(s)>v&&(s=s<0?-1:1,s*=Math.ceil(v/l)*l);e<0&&(s+=""===o.vertical?r.height:r.width,f=f.reverse());h.move(b,s)}else{a=h.lineHeight/r.height*100;switch(o.lineAlign){case"middle":e-=a/2;break;case"end":e-=a}switch(o.vertical){case"":i.applyStyles({top:i.formatStyle(e,"%")});break;case"rl":i.applyStyles({left:i.formatStyle(e,"%")});break;case"lr":i.applyStyles({right:i.formatStyle(e,"%")})}f=["+y","-x","+x","-y"];h=new t(i)}y=w(h,f);i.move(y.toCSSCompatValues(r))}function r(){}var s=Object.create||function(){function n(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=t,new n}}();i.prototype=s(Error.prototype);i.prototype.constructor=i;i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};u.prototype={set:function(n,t){this.get(n)||""===t||(this.values[n]=t)},get:function(n,t,i){return i?this.has(n)?this.values[n]:t[i]:this.has(n)?this.values[n]:t},has:function(n){return n in this.values},alt:function(n,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(n,t);break}},integer:function(n,t){/^-?\d+$/.test(t)&&this.set(n,parseInt(t,10))},percent:function(n,t){var i;return!!((i=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(n,t),!0)}};var b={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},k={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={v:"title",lang:"lang"},l={rt:"ruby"},a=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];f.prototype.applyStyles=function(n,t){t=t||this.div;for(var i in n)n.hasOwnProperty(i)&&(t.style[i]=n[i])};f.prototype.formatStyle=function(n,t){return 0===n?0:n+t};e.prototype=s(f.prototype);e.prototype.constructor=e;t.prototype.move=function(n,t){switch(t=void 0!==t?t:this.lineHeight,n){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t}};t.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};t.prototype.overlapsAny=function(n){for(var t=0;t<n.length;t++)if(this.overlaps(n[t]))return!0;return!1};t.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};t.prototype.overlapsOppositeAxis=function(n,t){switch(t){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};t.prototype.intersectPercentage=function(n){var t=Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left)),i=Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top)),r=t*i;return r/(this.height*this.width)};t.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};t.getSimpleBoxPosition=function(n){var t=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,r=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,i=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;return n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n,{left:n.left,right:n.right,top:n.top||i,height:n.height||t,bottom:n.bottom||i+(n.height||t),width:n.width||r}};r.StringDecoder=function(){return{decode:function(n){if(!n)return"";if("string"!=typeof n)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};r.convertCueToDOMTree=function(n,t){return n&&t?c(n,t):null};var g=.05,nt="sans-serif",tt="1.5%";r.processCues=function(n,i,r){function h(n){for(var t=0;t<n.length;t++)if(n[t].hasBeenReset||!n[t].displayState)return!0;return!1}var u,f;if(!n||!i||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);if(u=n.document.createElement("div"),u.style.position="absolute",u.style.left="0",u.style.right="0",u.style.top="0",u.style.bottom="0",u.style.margin=tt,r.appendChild(u),h(i)){var o=[],s=t.getSimpleBoxPosition(u),c=Math.round(s.height*g*100)/100,l={font:c+"px "+nt};!function(){for(var r,f,h=0;h<i.length;h++)f=i[h],r=new e(n,f,l),u.appendChild(r.div),w(n,r,s,o),f.displayState=r.div,o.push(t.getSimpleBoxPosition(r))}()}else for(f=0;f<i.length;f++)u.appendChild(i[f].displayState)};r.Parser=function(n,t,i){i||(i=t,t={});t||(t={});this.window=n;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=i||new TextDecoder("utf8");this.regionList=[]};r.Parser.prototype={reportOrThrowError:function(n){if(!(n instanceof i))throw n;this.onparsingerror&&this.onparsingerror(n)},parse:function(n){function s(){for(var r,i=t.buffer,n=0;n<i.length&&"\r"!==i[n]&&"\n"!==i[n];)++n;return r=i.substr(0,n),"\r"===i[n]&&++n,"\n"===i[n]&&++n,t.buffer=i.substr(n),r}function l(n){var i=new u,r;(o(n,function(n,t){var f,r;switch(n){case"id":i.set(n,t);break;case"width":i.percent(n,t);break;case"lines":i.integer(n,t);break;case"regionanchor":case"viewportanchor":if(f=t.split(","),2!==f.length)break;if(r=new u,r.percent("x",f[0]),r.percent("y",f[1]),!r.has("x")||!r.has("y"))break;i.set(n+"X",r.get("x"));i.set(n+"Y",r.get("y"));break;case"scroll":i.alt(n,t,["up"])}},/=/,/\s/),i.has("id"))&&(r=new(t.vttjs.VTTRegion||t.window.VTTRegion),r.width=i.get("width",100),r.lines=i.get("lines",3),r.regionAnchorX=i.get("regionanchorX",0),r.regionAnchorY=i.get("regionanchorY",100),r.viewportAnchorX=i.get("viewportanchorX",0),r.viewportAnchorY=i.get("viewportanchorY",100),r.scroll=i.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:i.get("id"),region:r}))}function a(n){o(n,function(n,t){switch(n){case"Region":l(t)}},/:/)}var t=this,r,e,f,c;n&&(t.buffer+=t.decoder.decode(n,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;if(r=s(),e=r.match(/^WEBVTT([ \t].*)?$/),!e||!e[0])throw new i(i.Errors.BadSignature);t.state="HEADER"}for(f=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(f?f=!1:r=s(),t.state){case"HEADER":/:/.test(r)?a(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",r.indexOf("-->")===-1){t.cue.id=r;continue}case"CUE":try{v(r,t.cue,t.regionList)}catch(h){t.reportOrThrowError(h);t.cue=null;t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":if(c=r.indexOf("-->")!==-1,!r||c&&(f=!0)){t.oncue&&t.oncue(t.cue);t.cue=null;t.state="ID";continue}t.cue.text&&(t.cue.text+="\n");t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID");continue}}}catch(h){t.reportOrThrowError(h);"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue);t.cue=null;t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||"HEADER"===n.state)&&(n.buffer+="\n\n",n.parse()),"INITIAL"===n.state)throw new i(i.Errors.BadSignature);}catch(t){n.reportOrThrowError(t)}return n.onflush&&n.onflush(),this}};n.WebVTT=r}(this,this.vttjs||{});!function(){!function(n){var t=n&&n.videojs,i;t&&(t.CDN_VERSION="5.15.1",i="https:"===n.location.protocol?"https://":"http://",t.options.flash.swf=i+"vjs.zencdn.net/swf/5.1.0/video-js.swf")}(window),function(n,t,i,r,u,f,e){t&&t.HELP_IMPROVE_VIDEOJS!==!1&&(u.random()>.01||(f=t.location,e=t.videojs||{},n.src="//www.google-analytics.com/__utm.gif?utmwv=5.4.2&utmac=UA-16505296-3&utmn=1&utmhn="+r(f.hostname)+"&utmsr="+t.screen.availWidth+"x"+t.screen.availHeight+"&utmul="+(i.language||i.userLanguage||"").toLowerCase()+"&utmr="+r(f.href)+"&utmp="+r(f.hostname+f.pathname)+"&utmcc=__utma%3D1."+u.floor(1e10*u.random())+".1.1.1.1%3B&utme=8(vjsv*cdnv)9("+e.VERSION+"*"+e.CDN_VERSION+")"))}(new Image,window,navigator,encodeURIComponent,Math)}(),function(){function ui(n){return n.call.apply(n.bind,arguments)}function fi(n,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function i(){return i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ui:fi,i.apply(null,arguments)}function ei(n,t){this.a=n;this.m=t||n;this.c=this.m.document}function p(n,t,i,r){if(t=n.c.createElement(t),i)for(var u in i)i.hasOwnProperty(u)&&("style"==u?t.style.cssText=i[u]:t.setAttribute(u,i[u]));return r&&t.appendChild(n.c.createTextNode(r)),t}function g(n,t,i){n=n.c.getElementsByTagName(t)[0];n||(n=document.documentElement);n.insertBefore(i,n.lastChild)}function s(n){n.parentNode&&n.parentNode.removeChild(n)}function u(n,t,i){var f,r,e,u;for(t=t||[],i=i||[],f=n.className.split(/\s+/),r=0;r<t.length;r+=1){for(e=!1,u=0;u<f.length;u+=1)if(t[r]===f[u]){e=!0;break}e||f.push(t[r])}for(t=[],r=0;r<f.length;r+=1){for(e=!1,u=0;u<i.length;u+=1)if(f[r]===i[u]){e=!0;break}e||t.push(f[r])}n.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function nt(n,t){for(var r=n.className.split(/\s+/),i=0,u=r.length;i<u;i++)if(r[i]==t)return!0;return!1}function w(n){if("string"==typeof n.f)return n.f;var t=n.m.location.protocol;return"about:"==t&&(t=n.a.location.protocol),"https:"==t?"https:":"http:"}function si(n){return n.m.location.hostname||n.a.location.hostname}function tt(n,t,i){function u(){f&&r&&o&&(f(e),f=null)}t=p(n,"link",{rel:"stylesheet",href:t,media:"all"});var r=!1,o=!0,e=null,f=i||null;oi?(t.onload=function(){r=!0;u()},t.onerror=function(){r=!0;e=Error("Stylesheet failed to load");u()}):setTimeout(function(){r=!0;u()},0);g(n,"head",t)}function b(n,t,i,r){var e=n.c.getElementsByTagName("head")[0],u,f;return e?(u=p(n,"script",{src:t}),f=!1,u.onload=u.onreadystatechange=function(){f||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(f=!0,i&&i(null),u.onload=u.onreadystatechange=null,"HEAD"==u.parentNode.tagName&&e.removeChild(u))},e.appendChild(u),setTimeout(function(){f||(f=!0,i&&i(Error("Script load timeout")))},r||5e3),u):null}function it(){this.a=0;this.c=null}function rt(n){return n.a++,function(){n.a--;ft(n)}}function ut(n,t){n.c=t;ft(n)}function ft(n){0==n.a&&n.c&&(n.c(),n.c=null)}function et(n){this.a=n||"-"}function t(n,t){this.c=n;this.f=4;this.a="n";var i=(t||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function hi(n){return st(n)+" "+(n.f+"00")+" 300px "+ot(n.c)}function ot(n){var r=[],i,t;for(n=n.split(/,\s*/),i=0;i<n.length;i++)t=n[i].replace(/['"]/g,""),-1!=t.indexOf(" ")||/^\d/.test(t)?r.push("'"+t+"'"):r.push(t);return r.join(",")}function n(n){return n.a+n.f}function st(n){var t="normal";return"o"===n.a?t="oblique":"i"===n.a&&(t="italic"),t}function ci(n){var i=4,r="n",t=null;return n&&((t=n.match(/(normal|oblique|italic)/i))&&t[1]&&(r=t[1].substr(0,1).toLowerCase()),(t=n.match(/([1-9]00|normal|bold)/i))&&t[1]&&(/bold/i.test(t[1])?i=7:/[1-9]00/.test(t[1])&&(i=parseInt(t[1].substr(0,1),10)))),r+i}function li(n,t){this.c=n;this.f=n.m.document.documentElement;this.h=t;this.a=new et("-");this.j=!1!==t.events;this.g=!1!==t.classes}function ai(n){n.g&&u(n.f,[n.a.c("wf","loading")]);f(n,"loading")}function ht(n){if(n.g){var i=nt(n.f,n.a.c("wf","active")),t=[],r=[n.a.c("wf","loading")];i||t.push(n.a.c("wf","inactive"));u(n.f,t,r)}f(n,"inactive")}function f(t,i,r){t.j&&t.h[i]&&(r?t.h[i](r.c,n(r)):t.h[i]())}function vi(){this.c={}}function yi(n,t,i){var f=[],r,u;for(r in t)t.hasOwnProperty(r)&&(u=n.c[r],u&&f.push(u(t[r],i)));return f}function h(n,t){this.c=n;this.f=t;this.a=p(this.c,"span",{"aria-hidden":"true"},this.f)}function c(n){g(n.c,"body",n.a)}function l(n){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+ot(n.c)+";"+("font-style:"+st(n)+";font-weight:"+(n.f+"00")+";")}function ct(n,t,i,r,u,f){this.g=n;this.j=t;this.a=r;this.c=i;this.f=u||3e3;this.h=f||void 0}function lt(i,r,u,f,e,o,s){this.v=i;this.B=r;this.c=u;this.a=f;this.s=s||"BESbswy";this.f={};this.w=e||3e3;this.u=o||null;this.o=this.j=this.h=this.g=null;this.g=new h(this.c,this.s);this.h=new h(this.c,this.s);this.j=new h(this.c,this.s);this.o=new h(this.c,this.s);i=new t(this.a.c+",serif",n(this.a));i=l(i);this.g.a.style.cssText=i;i=new t(this.a.c+",sans-serif",n(this.a));i=l(i);this.h.a.style.cssText=i;i=new t("serif",n(this.a));i=l(i);this.j.a.style.cssText=i;i=new t("sans-serif",n(this.a));i=l(i);this.o.a.style.cssText=i;c(this.g);c(this.h);c(this.j);c(this.o)}function at(){if(null===a){var n=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);a=!!n&&(536>parseInt(n[1],10)||536===parseInt(n[1],10)&&11>=parseInt(n[2],10))}return a}function vt(n,t,i){for(var r in e)if(e.hasOwnProperty(r)&&t===n.f[e[r]]&&i===n.f[e[r]])return!0;return!1}function yt(n){var t=n.g.a.offsetWidth,i=n.h.a.offsetWidth,r;(r=t===n.f.serif&&i===n.f["sans-serif"])||(r=at()&&vt(n,t,i));r?o()-n.A>=n.w?at()&&vt(n,t,i)&&(null===n.u||n.u.hasOwnProperty(n.a.c))?k(n,n.v):k(n,n.B):pi(n):k(n,n.v)}function pi(n){setTimeout(i(function(){yt(this)},n),50)}function k(n,t){setTimeout(i(function(){s(this.g.a);s(this.h.a);s(this.j.a);s(this.o.a);t(this.a)},n),0)}function d(n,t,i){this.c=n;this.a=t;this.f=0;this.o=this.j=!1;this.s=i}function pt(n){0==--n.f&&n.j&&(n.o?(n=n.a,n.g&&u(n.f,[n.a.c("wf","active")],[n.a.c("wf","loading"),n.a.c("wf","inactive")]),f(n,"active")):ht(n.a))}function wt(n){this.j=n;this.a=new vi;this.h=0;this.f=this.g=!0}function wi(t,r,e,o,s){var h=0==--t.h;(t.f||t.g)&&setTimeout(function(){var w=s||null,b=o||null||{},t,a;if(0===e.length&&h)ht(r.a);else{for(r.f+=e.length,h&&(r.j=h),a=[],t=0;t<e.length;t++){var y=e[t],p=b[y.c],c=r.a,l=y;c.g&&u(c.f,[c.a.c("wf",l.c,n(l).toString(),"loading")]);f(c,"fontloading",l);c=null;null===v&&(v=window.FontFace?(l=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))?42<parseInt(l[1],10):!0:!1);c=v?new ct(i(r.g,r),i(r.h,r),r.c,y,r.s,p):new lt(i(r.g,r),i(r.h,r),r.c,y,r.s,w,p);a.push(c)}for(t=0;t<a.length;t++)a[t].start()}},0)}function bi(n,t,i){var r=[],f=i.timeout,u;for(ai(t),r=yi(n.a,i,n.c),u=new d(n.c,t,f),n.h=r.length,t=0,i=r.length;t<i;t++)r[t].load(function(t,i,r){wi(n,u,t,i,r)})}function bt(n,t){this.c=n;this.a=t}function ki(n,t,i){var r=w(n.c);return n=(n.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""),r+"//"+n+"/"+t+".js"+(i?"?v="+i:"")}function kt(n,t){this.c=n;this.a=t}function di(n,t,i){this.c=n?n:t+dt;this.a=[];this.f=[];this.g=i||""}function gi(n,t){for(var i,u,f=t.length,r=0;r<f;r++)i=t[r].split(":"),3==i.length&&n.f.push(i.pop()),u="",2==i.length&&""!=i[1]&&(u=":"),n.a.push(i.join(u))}function nr(n){if(0==n.a.length)throw Error("No fonts to load!");if(-1!=n.c.indexOf("kit="))return n.c;for(var t=n.a.length,r=[],i=0;i<t;i++)r.push(n.a[i].replace(/ /g,"+"));return t=n.c+"?family="+r.join("%7C"),0<n.f.length&&(t+="&subset="+n.f.join(",")),0<n.g.length&&(t+="&text="+encodeURIComponent(n.g)),t}function tr(n){this.f=n;this.a=[];this.c={}}function fr(n){for(var f,o,r,l,u,a=n.f.length,s=0;s<a;s++){var i=n.f[s].split(":"),e=i[0].replace(/\+/g," "),h=["n4"];if(2<=i.length){if(o=i[1],f=[],o)for(var o=o.split(","),v=o.length,c=0;c<v;c++)r=o[c],r.match(/^[\w-]+$/)?(u=ur.exec(r.toLowerCase()),null==u?r="":(r=u[2],r=null==r||""==r?"n":rr[r],u=u[1],null==u||""==u?u="4":(l=ir[u],u=l?l:isNaN(u)?"4":u.substr(0,1)),r=[r,u].join(""))):r="",r&&f.push(r);0<f.length&&(h=f);3==i.length&&(i=i[2],f=[],i=i?i.split(","):f,0<i.length&&(i=gt[i[0]])&&(n.c[e]=i))}for(n.c[e]||(i=gt[e])&&(n.c[e]=i),i=0;i<h.length;i+=1)n.a.push(new t(e,h[i]))}}function ni(n,t){this.c=n;this.a=t}function ii(n,t){this.c=n;this.a=t}function ri(n,t){this.c=n;this.f=t;this.a=[]}var o=Date.now||function(){return+new Date},oi=!!window.FontFace,e,a,v,dt,ti,r,y;et.prototype.c=function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)};ct.prototype.start=function(){var t=this.c.m.document,n=this,i=o(),r=new Promise(function(r,u){function f(){o()-i>=n.f?u():t.fonts.load(hi(n.a),n.h).then(function(n){1<=n.length?r():setTimeout(f,25)},function(){u()})}f()}),u=new Promise(function(t,i){setTimeout(i,n.f)});Promise.race([u,r]).then(function(){n.g(n.a)},function(){n.j(n.a)})};e={D:"serif",C:"sans-serif"};a=null;lt.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f["sans-serif"]=this.o.a.offsetWidth;this.A=o();yt(this)};v=null;d.prototype.g=function(t){var i=this.a;i.g&&u(i.f,[i.a.c("wf",t.c,n(t).toString(),"active")],[i.a.c("wf",t.c,n(t).toString(),"loading"),i.a.c("wf",t.c,n(t).toString(),"inactive")]);f(i,"fontactive",t);this.o=!0;pt(this)};d.prototype.h=function(t){var i=this.a;if(i.g){var e=nt(i.f,i.a.c("wf",t.c,n(t).toString(),"active")),r=[],o=[i.a.c("wf",t.c,n(t).toString(),"loading")];e||r.push(i.a.c("wf",t.c,n(t).toString(),"inactive"));u(i.f,r,o)}f(i,"fontinactive",t);pt(this)};wt.prototype.load=function(n){this.c=new ei(this.j,n.context||this.j);this.g=!1!==n.events;this.f=!1!==n.classes;bi(this,new li(this.c,n),n)};bt.prototype.load=function(n){function u(){var f,o,h,e,s;if(r["__mti_fntLst"+i]){if(f=r["__mti_fntLst"+i](),o=[],f)for(e=0;e<f.length;e++)s=f[e].fontfamily,void 0!=f[e].fontStyle&&void 0!=f[e].fontWeight?(h=f[e].fontStyle+f[e].fontWeight,o.push(new t(s,h))):o.push(new t(s));n(o)}else setTimeout(function(){u()},50)}var i=this.a.projectId,f=this.a.version,r;i?(r=this.c.m,b(this.c,ki(this,i,f),function(t){t?n([]):u()}).id="__MonotypeAPIScript__"+i):n([])};kt.prototype.load=function(n){for(var r=this.a.urls||[],s=this.a.families||[],c=this.a.testStrings||{},h=new it,f,o,e,i=0,u=r.length;i<u;i++)tt(this.c,r[i],rt(h));for(f=[],i=0,u=s.length;i<u;i++)if(r=s[i].split(":"),r[1])for(o=r[1].split(","),e=0;e<o.length;e+=1)f.push(new t(r[0],o[e]));else f.push(new t(r[0]));ut(h,function(){n(f,c)})};dt="//fonts.googleapis.com/css";var gt={latin:"BESbswy",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},ir={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},rr={i:"i",italic:"i",n:"n",normal:"n"},ur=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;ti={Arimo:!0,Cousine:!0,Tinos:!0};ni.prototype.load=function(n){var i=new it,r=this.c,u=new di(this.a.api,w(r),this.a.text),f=this.a.families,t;gi(u,f);t=new tr(f);fr(t);tt(r,nr(u),rt(i));ut(i,function(){n(t.a,t.c,ti)})};ii.prototype.load=function(n){var r=this.a.id,i=this.c.m;r?b(this.c,(this.a.api||"https://use.typekit.net")+"/"+r+".js",function(r){var f,u;if(r)n([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){for(r=i.Typekit.config.fn,f=[],u=0;u<r.length;u+=2)for(var s=r[u],o=r[u+1],e=0;e<o.length;e++)f.push(new t(s,o[e]));try{i.Typekit.load({events:!1,classes:!1,"async":!0})}catch(h){}n(f)}},2e3):n([])};ri.prototype.load=function(n){var i=this.f.id,r=this.c.m,u=this;i?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[i]=function(i,r){for(var e,f=0,o=r.fonts.length;f<o;++f)e=r.fonts[f],u.a.push(new t(e.name,ci("font-weight:"+e.weight+";font-style:"+e.style)));n(u.a)},b(this.c,w(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+si(this.c)+"/"+i+".js",function(t){t&&n([])})):n([])};r=new wt(window);r.a.c.custom=function(n,t){return new kt(t,n)};r.a.c.fontdeck=function(n,t){return new ri(t,n)};r.a.c.monotype=function(n,t){return new bt(t,n)};r.a.c.typekit=function(n,t){return new ii(t,n)};r.a.c.google=function(n,t){return new ni(t,n)};y={load:i(r.load,r)};"function"==typeof define&&define.amd?define(function(){return y}):"undefined"!=typeof module&&module.exports?module.exports=y:(window.WebFont=y,window.WebFontConfig&&r.load(window.WebFontConfig))}();PointerEventsPolyfill.initialize=function(n){return PointerEventsPolyfill.singleton==null&&(PointerEventsPolyfill.singleton=new PointerEventsPolyfill(n)),PointerEventsPolyfill.singleton};PointerEventsPolyfill.prototype.register_mouse_events=function(){$(document).on(this.options.mouseEvents.join(" "),this.options.selector,function(n){var t,i;return $(this).css("pointer-events")=="none"?(t=$(this).css("display"),$(this).css("display","none"),i=document.elementFromPoint(n.clientX,n.clientY),t?$(this).css("display",t):$(this).css("display",""),n.target=i,$(i).trigger(n),!1):!0})};THREE={REVISION:"79"};"function"==typeof define&&define.amd?define("three",THREE):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=THREE);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(n){return 0>n?-1:0<n?1:+n});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}});void 0===Object.assign&&function(){Object.assign=function(n){var u,i,t,r;if(void 0===n||null===n)throw new TypeError("Cannot convert undefined or null to object");for(u=Object(n),i=1;i<arguments.length;i++)if(t=arguments[i],void 0!==t&&null!==t)for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(u[r]=t[r]);return u}}();Object.assign(THREE,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:THREE.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3e3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,RGBADepthPacking:3201});THREE.Color=function(n,t,i){return void 0===t&&void 0===i?this.set(n):this.setRGB(n,t,i)};THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(n){return n instanceof THREE.Color?this.copy(n):"number"==typeof n?this.setHex(n):"string"==typeof n&&this.setStyle(n),this},setScalar:function(n){this.b=this.g=this.r=n},setHex:function(n){return n=Math.floor(n),this.r=(n>>16&255)/255,this.g=(n>>8&255)/255,this.b=(n&255)/255,this},setRGB:function(n,t,i){return this.r=n,this.g=t,this.b=i,this},setHSL:function(){function n(n,t,i){return 0>i&&(i+=1),1<i&&(i-=1),i<1/6?n+6*(t-n)*i:.5>i?t:i<2/3?n+6*(t-n)*(2/3-i):n}return function(t,i,r){return t=THREE.Math.euclideanModulo(t,1),i=THREE.Math.clamp(i,0,1),r=THREE.Math.clamp(r,0,1),0===i?this.r=this.g=this.b=r:(i=.5>=r?r*(1+i):r+i-r*i,r=2*r-i,this.r=n(r,i,t+1/3),this.g=n(r,i,t),this.b=n(r,i,t-1/3)),this}}(),setStyle:function(n){function r(t){void 0!==t&&1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+n+" will be ignored.")}var t,i;if(t=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(n)){i=t[2];switch(t[1]){case"rgb":case"rgba":if(t=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,r(t[5]),this;if(t=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,r(t[5]),this;break;case"hsl":case"hsla":if(t=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){var i=parseFloat(t[1])/360,u=parseInt(t[2],10)/100,f=parseInt(t[3],10)/100;return r(t[5]),this.setHSL(i,u,f)}}}else if(t=/^\#([A-Fa-f0-9]+)$/.exec(n)){if(t=t[1],i=t.length,3===i)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===i)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return n&&0<n.length&&(t=THREE.ColorKeywords[n],void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+n)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(n){return this.r=n.r,this.g=n.g,this.b=n.b,this},copyGammaToLinear:function(n,t){return void 0===t&&(t=2),this.r=Math.pow(n.r,t),this.g=Math.pow(n.g,t),this.b=Math.pow(n.b,t),this},copyLinearToGamma:function(n,t){void 0===t&&(t=2);var i=0<t?1/t:1;return this.r=Math.pow(n.r,i),this.g=Math.pow(n.g,i),this.b=Math.pow(n.b,i),this},convertGammaToLinear:function(){var n=this.r,t=this.g,i=this.b;return this.r=n*n,this.g=t*t,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(n){var e,t;n=n||{h:0,s:0,l:0};var o=this.r,i=this.g,r=this.b,u=Math.max(o,i,r),t=Math.min(o,i,r),f,s=(t+u)/2;if(t===u)t=f=0;else{e=u-t;t=.5>=s?e/(u+t):e/(2-u-t);switch(u){case o:f=(i-r)/e+(i<r?6:0);break;case i:f=(r-o)/e+2;break;case r:f=(o-i)/e+4}f/=6}return n.h=f,n.s=t,n.l=s,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(n,t,i){var r=this.getHSL();return r.h+=n,r.s+=t,r.l+=i,this.setHSL(r.h,r.s,r.l),this},add:function(n){return this.r+=n.r,this.g+=n.g,this.b+=n.b,this},addColors:function(n,t){return this.r=n.r+t.r,this.g=n.g+t.g,this.b=n.b+t.b,this},addScalar:function(n){return this.r+=n,this.g+=n,this.b+=n,this},sub:function(n){return this.r=Math.max(0,this.r-n.r),this.g=Math.max(0,this.g-n.g),this.b=Math.max(0,this.b-n.b),this},multiply:function(n){return this.r*=n.r,this.g*=n.g,this.b*=n.b,this},multiplyScalar:function(n){return this.r*=n,this.g*=n,this.b*=n,this},lerp:function(n,t){return this.r+=(n.r-this.r)*t,this.g+=(n.g-this.g)*t,this.b+=(n.b-this.b)*t,this},equals:function(n){return n.r===this.r&&n.g===this.g&&n.b===this.b},fromArray:function(n,t){return void 0===t&&(t=0),this.r=n[t],this.g=n[t+1],this.b=n[t+2],this},toArray:function(n,t){return void 0===n&&(n=[]),void 0===t&&(t=0),n[t]=this.r,n[t+1]=this.g,n[t+2]=this.b,n}};THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};THREE.Quaternion=function(n,t,i,r){this._x=n||0;this._y=t||0;this._z=i||0;this._w=void 0!==r?r:1};THREE.Quaternion.prototype={constructor:THREE.Quaternion,get x(){return this._x},set x(n){this._x=n;this.onChangeCallback()},get y(){return this._y},set y(n){this._y=n;this.onChangeCallback()},get z(){return this._z},set z(n){this._z=n;this.onChangeCallback()},get w(){return this._w},set w(n){this._w=n;this.onChangeCallback()},set:function(n,t,i,r){return this._x=n,this._y=t,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this.onChangeCallback(),this},setFromEuler:function(n,t){if(!1==n instanceof THREE.Euler)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=Math.cos(n._x/2),r=Math.cos(n._y/2),u=Math.cos(n._z/2),f=Math.sin(n._x/2),e=Math.sin(n._y/2),o=Math.sin(n._z/2),s=n.order;return"XYZ"===s?(this._x=f*r*u+i*e*o,this._y=i*e*u-f*r*o,this._z=i*r*o+f*e*u,this._w=i*r*u-f*e*o):"YXZ"===s?(this._x=f*r*u+i*e*o,this._y=i*e*u-f*r*o,this._z=i*r*o-f*e*u,this._w=i*r*u+f*e*o):"ZXY"===s?(this._x=f*r*u-i*e*o,this._y=i*e*u+f*r*o,this._z=i*r*o+f*e*u,this._w=i*r*u-f*e*o):"ZYX"===s?(this._x=f*r*u-i*e*o,this._y=i*e*u+f*r*o,this._z=i*r*o-f*e*u,this._w=i*r*u+f*e*o):"YZX"===s?(this._x=f*r*u+i*e*o,this._y=i*e*u+f*r*o,this._z=i*r*o-f*e*u,this._w=i*r*u-f*e*o):"XZY"===s&&(this._x=f*r*u-i*e*o,this._y=i*e*u-f*r*o,this._z=i*r*o+f*e*u,this._w=i*r*u+f*e*o),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(n,t){var r=t/2,i=Math.sin(r);return this._x=n.x*i,this._y=n.y*i,this._z=n.z*i,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(n){var i=n.elements,t=i[0];n=i[4];var u=i[8],f=i[1],r=i[5],e=i[9],o=i[2],s=i[6],i=i[10],h=t+r+i;return 0<h?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(s-e)*t,this._y=(u-o)*t,this._z=(f-n)*t):t>r&&t>i?(t=2*Math.sqrt(1+t-r-i),this._w=(s-e)/t,this._x=.25*t,this._y=(n+f)/t,this._z=(u+o)/t):r>i?(t=2*Math.sqrt(1+r-t-i),this._w=(u-o)/t,this._x=(n+f)/t,this._y=.25*t,this._z=(e+s)/t):(t=2*Math.sqrt(1+i-t-r),this._w=(f-n)/t,this._x=(u+o)/t,this._y=(e+s)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var n,t;return function(i,r){return void 0===n&&(n=new THREE.Vector3),t=i.dot(r)+1,1e-6>t?(t=0,Math.abs(i.x)>Math.abs(i.z)?n.set(-i.y,i.x,0):n.set(0,-i.z,i.y)):n.crossVectors(i,r),this._x=n.x,this._y=n.y,this._z=n.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var n=this.length();return 0===n?(this._z=this._y=this._x=0,this._w=1):(n=1/n,this._x*=n,this._y*=n,this._z*=n,this._w*=n),this.onChangeCallback(),this},multiply:function(n,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(n,t)):this.multiplyQuaternions(this,n)},premultiply:function(n){return this.multiplyQuaternions(n,this)},multiplyQuaternions:function(n,t){var i=n._x,r=n._y,u=n._z,f=n._w,e=t._x,o=t._y,s=t._z,h=t._w;return this._x=i*h+f*e+r*s-u*o,this._y=r*h+f*o+u*e-i*s,this._z=u*h+f*s+i*o-r*e,this._w=f*h-i*e-r*o-u*s,this.onChangeCallback(),this},slerp:function(n,t){var r;if(0===t)return this;if(1===t)return this.copy(n);var u=this._x,f=this._y,e=this._z,o=this._w,i=o*n._w+u*n._x+f*n._y+e*n._z;if(0>i?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,i=-i):this.copy(n),1<=i)return this._w=o,this._x=u,this._y=f,this._z=e,this;if(r=Math.sqrt(1-i*i),.001>Math.abs(r))return this._w=.5*(o+this._w),this._x=.5*(u+this._x),this._y=.5*(f+this._y),this._z=.5*(e+this._z),this;var s=Math.atan2(r,i),i=Math.sin((1-t)*s)/r,r=Math.sin(t*s)/r;return this._w=o*i+this._w*r,this._x=u*i+this._x*r,this._y=f*i+this._y*r,this._z=e*i+this._z*r,this.onChangeCallback(),this},equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w},fromArray:function(n,t){return void 0===t&&(t=0),this._x=n[t],this._y=n[t+1],this._z=n[t+2],this._w=n[t+3],this.onChangeCallback(),this},toArray:function(n,t){return void 0===n&&(n=[]),void 0===t&&(t=0),n[t]=this._x,n[t+1]=this._y,n[t+2]=this._z,n[t+3]=this._w,n},onChange:function(n){return this.onChangeCallback=n,this},onChangeCallback:function(){}};Object.assign(THREE.Quaternion,{slerp:function(n,t,i,r){return i.copy(n).slerp(t,r)},slerpFlat:function(n,t,i,r,u,f,e){var o=i[r+0],s=i[r+1],h=i[r+2],v,y;if(i=i[r+3],r=u[f+0],v=u[f+1],y=u[f+2],u=u[f+3],i!==u||o!==r||s!==v||h!==y){f=1-e;var c=o*r+s*v+h*y+i*u,l=0<=c?1:-1,a=1-c*c;a>Number.EPSILON&&(a=Math.sqrt(a),c=Math.atan2(a,c*l),f=Math.sin(f*c)/a,e=Math.sin(e*c)/a);l*=e;o=o*f+r*l;s=s*f+v*l;h=h*f+y*l;i=i*f+u*l;f===1-e&&(e=1/Math.sqrt(o*o+s*s+h*h+i*i),o*=e,s*=e,h*=e,i*=e)}n[t]=o;n[t+1]=s;n[t+2]=h;n[t+3]=i}});THREE.Vector2=function(n,t){this.x=n||0;this.y=t||0};THREE.Vector2.prototype={constructor:THREE.Vector2,get width(){return this.x},set width(n){this.x=n},get height(){return this.y},set height(n){this.y=n},set:function(n,t){return this.x=n,this.y=t,this},setScalar:function(n){return this.y=this.x=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setComponent:function(n,t){switch(n){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+n);}},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+n);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(n){return this.x=n.x,this.y=n.y,this},add:function(n,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,t)):(this.x+=n.x,this.y+=n.y,this)},addScalar:function(n){return this.x+=n,this.y+=n,this},addVectors:function(n,t){return this.x=n.x+t.x,this.y=n.y+t.y,this},addScaledVector:function(n,t){return this.x+=n.x*t,this.y+=n.y*t,this},sub:function(n,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,t)):(this.x-=n.x,this.y-=n.y,this)},subScalar:function(n){return this.x-=n,this.y-=n,this},subVectors:function(n,t){return this.x=n.x-t.x,this.y=n.y-t.y,this},multiply:function(n){return this.x*=n.x,this.y*=n.y,this},multiplyScalar:function(n){return isFinite(n)?(this.x*=n,this.y*=n):this.y=this.x=0,this},divide:function(n){return this.x/=n.x,this.y/=n.y,this},divideScalar:function(n){return this.multiplyScalar(1/n)},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this},clamp:function(n,t){return this.x=Math.max(n.x,Math.min(t.x,this.x)),this.y=Math.max(n.y,Math.min(t.y,this.y)),this},clampScalar:function(){var n,t;return function(i,r){return void 0===n&&(n=new THREE.Vector2,t=new THREE.Vector2),n.set(i,i),t.set(r,r),this.clamp(n,t)}}(),clampLength:function(n,t){var i=this.length();return this.multiplyScalar(Math.max(n,Math.min(t,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(n){return this.x*n.x+this.y*n.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var n=Math.atan2(this.y,this.x);return 0>n&&(n+=2*Math.PI),n},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var t=this.x-n.x;return n=this.y-n.y,t*t+n*n},distanceToManhattan:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)},setLength:function(n){return this.multiplyScalar(n/this.length())},lerp:function(n,t){return this.x+=(n.x-this.x)*t,this.y+=(n.y-this.y)*t,this},lerpVectors:function(n,t,i){return this.subVectors(t,n).multiplyScalar(i).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y},fromArray:function(n,t){return void 0===t&&(t=0),this.x=n[t],this.y=n[t+1],this},toArray:function(n,t){return void 0===n&&(n=[]),void 0===t&&(t=0),n[t]=this.x,n[t+1]=this.y,n},fromAttribute:function(n,t,i){return void 0===i&&(i=0),t=t*n.itemSize+i,this.x=n.array[t],this.y=n.array[t+1],this},rotateAround:function(n,t){var i=Math.cos(t),r=Math.sin(t),u=this.x-n.x,f=this.y-n.y;return this.x=u*i-f*r+n.x,this.y=u*r+f*i+n.y,this}};THREE.Vector3=function(n,t,i){this.x=n||0;this.y=t||0;this.z=i||0};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(n,t,i){return this.x=n,this.y=t,this.z=i,this},setScalar:function(n){return this.z=this.y=this.x=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setComponent:function(n,t){switch(n){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+n);}},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+n);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this},add:function(n,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,t)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this},addVectors:function(n,t){return this.x=n.x+t.x,this.y=n.y+t.y,this.z=n.z+t.z,this},addScaledVector:function(n,t){return this.x+=n.x*t,this.y+=n.y*t,this.z+=n.z*t,this},sub:function(n,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,t)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this},subVectors:function(n,t){return this.x=n.x-t.x,this.y=n.y-t.y,this.z=n.z-t.z,this},multiply:function(n,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(n,t)):(this.x*=n.x,this.y*=n.y,this.z*=n.z,this)},multiplyScalar:function(n){return isFinite(n)?(this.x*=n,this.y*=n,this.z*=n):this.z=this.y=this.x=0,this},multiplyVectors:function(n,t){return this.x=n.x*t.x,this.y=n.y*t.y,this.z=n.z*t.z,this},applyEuler:function(){var n;return function(t){return!1==t instanceof THREE.Euler&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===n&&(n=new THREE.Quaternion),this.applyQuaternion(n.setFromEuler(t))}}(),applyAxisAngle:function(){var n;return function(t,i){return void 0===n&&(n=new THREE.Quaternion),this.applyQuaternion(n.setFromAxisAngle(t,i))}}(),applyMatrix3:function(n){var t=this.x,i=this.y,r=this.z;return n=n.elements,this.x=n[0]*t+n[3]*i+n[6]*r,this.y=n[1]*t+n[4]*i+n[7]*r,this.z=n[2]*t+n[5]*i+n[8]*r,this},applyMatrix4:function(n){var t=this.x,i=this.y,r=this.z;return n=n.elements,this.x=n[0]*t+n[4]*i+n[8]*r+n[12],this.y=n[1]*t+n[5]*i+n[9]*r+n[13],this.z=n[2]*t+n[6]*i+n[10]*r+n[14],this},applyProjection:function(n){var t=this.x,i=this.y,r=this.z,u;return n=n.elements,u=1/(n[3]*t+n[7]*i+n[11]*r+n[15]),this.x=(n[0]*t+n[4]*i+n[8]*r+n[12])*u,this.y=(n[1]*t+n[5]*i+n[9]*r+n[13])*u,this.z=(n[2]*t+n[6]*i+n[10]*r+n[14])*u,this},applyQuaternion:function(n){var t=this.x,f=this.y,e=this.z,i=n.x,r=n.y,u=n.z;n=n.w;var o=n*t+r*e-u*f,s=n*f+u*t-i*e,h=n*e+i*f-r*t,t=-i*t-r*f-u*e;return this.x=o*n+t*-i+s*-u-h*-r,this.y=s*n+t*-r+h*-i-o*-u,this.z=h*n+t*-u+o*-r-s*-i,this},project:function(){var n;return function(t){return void 0===n&&(n=new THREE.Matrix4),n.multiplyMatrices(t.projectionMatrix,n.getInverse(t.matrixWorld)),this.applyProjection(n)}}(),unproject:function(){var n;return function(t){return void 0===n&&(n=new THREE.Matrix4),n.multiplyMatrices(t.matrixWorld,n.getInverse(t.projectionMatrix)),this.applyProjection(n)}}(),transformDirection:function(n){var t=this.x,i=this.y,r=this.z;return n=n.elements,this.x=n[0]*t+n[4]*i+n[8]*r,this.y=n[1]*t+n[5]*i+n[9]*r,this.z=n[2]*t+n[6]*i+n[10]*r,this.normalize()},divide:function(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this},divideScalar:function(n){return this.multiplyScalar(1/n)},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this},clamp:function(n,t){return this.x=Math.max(n.x,Math.min(t.x,this.x)),this.y=Math.max(n.y,Math.min(t.y,this.y)),this.z=Math.max(n.z,Math.min(t.z,this.z)),this},clampScalar:function(){var n,t;return function(i,r){return void 0===n&&(n=new THREE.Vector3,t=new THREE.Vector3),n.set(i,i,i),t.set(r,r,r),this.clamp(n,t)}}(),clampLength:function(n,t){var i=this.length();return this.multiplyScalar(Math.max(n,Math.min(t,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(n){return this.multiplyScalar(n/this.length())},lerp:function(n,t){return this.x+=(n.x-this.x)*t,this.y+=(n.y-this.y)*t,this.z+=(n.z-this.z)*t,this},lerpVectors:function(n,t,i){return this.subVectors(t,n).multiplyScalar(i).add(n)},cross:function(n,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(n,t);var i=this.x,r=this.y,u=this.z;return this.x=r*n.z-u*n.y,this.y=u*n.x-i*n.z,this.z=i*n.y-r*n.x,this},crossVectors:function(n,t){var i=n.x,r=n.y,u=n.z,f=t.x,e=t.y,o=t.z;return this.x=r*o-u*e,this.y=u*f-i*o,this.z=i*e-r*f,this},projectOnVector:function(n){var t=n.dot(this)/n.lengthSq();return this.copy(n).multiplyScalar(t)},projectOnPlane:function(){var n;return function(t){return void 0===n&&(n=new THREE.Vector3),n.copy(this).projectOnVector(t),this.sub(n)}}(),reflect:function(){var n;return function(t){return void 0===n&&(n=new THREE.Vector3),this.sub(n.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(n){return n=this.dot(n)/Math.sqrt(this.lengthSq()*n.lengthSq()),Math.acos(THREE.Math.clamp(n,-1,1))},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var t=this.x-n.x,i=this.y-n.y;return n=this.z-n.z,t*t+i*i+n*n},distanceToManhattan:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)},setFromSpherical:function(n){var t=Math.sin(n.phi)*n.radius;return this.x=t*Math.sin(n.theta),this.y=Math.cos(n.phi)*n.radius,this.z=t*Math.cos(n.theta),this},setFromMatrixPosition:function(n){return this.setFromMatrixColumn(n,3)},setFromMatrixScale:function(n){var t=this.setFromMatrixColumn(n,0).length(),i=this.setFromMatrixColumn(n,1).length();return n=this.setFromMatrixColumn(n,2).length(),this.x=t,this.y=i,this.z=n,this},setFromMatrixColumn:function(n,t){if("number"==typeof n){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var i=n;n=t;t=i}return this.fromArray(n.elements,4*t)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z},fromArray:function(n,t){return void 0===t&&(t=0),this.x=n[t],this.y=n[t+1],this.z=n[t+2],this},toArray:function(n,t){return void 0===n&&(n=[]),void 0===t&&(t=0),n[t]=this.x,n[t+1]=this.y,n[t+2]=this.z,n},fromAttribute:function(n,t,i){return void 0===i&&(i=0),t=t*n.itemSize+i,this.x=n.array[t],this.y=n.array[t+1],this.z=n.array[t+2],this}};THREE.Vector4=function(n,t,i,r){this.x=n||0;this.y=t||0;this.z=i||0;this.w=void 0!==r?r:1};THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(n,t,i,r){return this.x=n,this.y=t,this.z=i,this.w=r,this},setScalar:function(n){return this.w=this.z=this.y=this.x=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setW:function(n){return this.w=n,this},setComponent:function(n,t){switch(n){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+n);}},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+n);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=void 0!==n.w?n.w:1,this},add:function(n,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,t)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this},addVectors:function(n,t){return this.x=n.x+t.x,this.y=n.y+t.y,this.z=n.z+t.z,this.w=n.w+t.w,this},addScaledVector:function(n,t){return this.x+=n.x*t,this.y+=n.y*t,this.z+=n.z*t,this.w+=n.w*t,this},sub:function(n,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,t)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this},subVectors:function(n,t){return this.x=n.x-t.x,this.y=n.y-t.y,this.z=n.z-t.z,this.w=n.w-t.w,this},multiplyScalar:function(n){return isFinite(n)?(this.x*=n,this.y*=n,this.z*=n,this.w*=n):this.w=this.z=this.y=this.x=0,this},applyMatrix4:function(n){var t=this.x,i=this.y,r=this.z,u=this.w;return n=n.elements,this.x=n[0]*t+n[4]*i+n[8]*r+n[12]*u,this.y=n[1]*t+n[5]*i+n[9]*r+n[13]*u,this.z=n[2]*t+n[6]*i+n[10]*r+n[14]*u,this.w=n[3]*t+n[7]*i+n[11]*r+n[15]*u,this},divideScalar:function(n){return this.multiplyScalar(1/n)},setAxisAngleFromQuaternion:function(n){this.w=2*Math.acos(n.w);var t=Math.sqrt(1-n.w*n.w);return.0001>t?(this.x=1,this.z=this.y=0):(this.x=n.x/t,this.y=n.y/t,this.z=n.z/t),this},setAxisAngleFromRotationMatrix:function(n){var i,r,t,u,o;n=n.elements;u=n[0];t=n[4];var f=n[8],h=n[1],s=n[5],e=n[9];return(r=n[2],i=n[6],o=n[10],.01>Math.abs(t-h)&&.01>Math.abs(f-r)&&.01>Math.abs(e-i))?.1>Math.abs(t+h)&&.1>Math.abs(f+r)&&.1>Math.abs(e+i)&&.1>Math.abs(u+s+o-3)?(this.set(1,0,0,0),this):(n=Math.PI,u=(u+1)/2,s=(s+1)/2,o=(o+1)/2,t=(t+h)/4,f=(f+r)/4,e=(e+i)/4,u>s&&u>o?.01>u?(i=0,t=r=.707106781):(i=Math.sqrt(u),r=t/i,t=f/i):s>o?.01>s?(i=.707106781,r=0,t=.707106781):(r=Math.sqrt(s),i=t/r,t=e/r):.01>o?(r=i=.707106781,t=0):(t=Math.sqrt(o),i=f/t,r=e/t),this.set(i,r,t,n),this):(n=Math.sqrt((i-e)*(i-e)+(f-r)*(f-r)+(h-t)*(h-t)),.001>Math.abs(n)&&(n=1),this.x=(i-e)/n,this.y=(f-r)/n,this.z=(h-t)/n,this.w=Math.acos((u+s+o-1)/2),this)},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this},clamp:function(n,t){return this.x=Math.max(n.x,Math.min(t.x,this.x)),this.y=Math.max(n.y,Math.min(t.y,this.y)),this.z=Math.max(n.z,Math.min(t.z,this.z)),this.w=Math.max(n.w,Math.min(t.w,this.w)),this},clampScalar:function(){var n,t;return function(i,r){return void 0===n&&(n=new THREE.Vector4,t=new THREE.Vector4),n.set(i,i,i,i),t.set(r,r,r,r),this.clamp(n,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(n){return this.multiplyScalar(n/this.length())},lerp:function(n,t){return this.x+=(n.x-this.x)*t,this.y+=(n.y-this.y)*t,this.z+=(n.z-this.z)*t,this.w+=(n.w-this.w)*t,this},lerpVectors:function(n,t,i){return this.subVectors(t,n).multiplyScalar(i).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w},fromArray:function(n,t){return void 0===t&&(t=0),this.x=n[t],this.y=n[t+1],this.z=n[t+2],this.w=n[t+3],this},toArray:function(n,t){return void 0===n&&(n=[]),void 0===t&&(t=0),n[t]=this.x,n[t+1]=this.y,n[t+2]=this.z,n[t+3]=this.w,n},fromAttribute:function(n,t,i){return void 0===i&&(i=0),t=t*n.itemSize+i,this.x=n.array[t],this.y=n.array[t+1],this.z=n.array[t+2],this.w=n.array[t+3],this}};THREE.Euler=function(n,t,i,r){this._x=n||0;this._y=t||0;this._z=i||0;this._order=r||THREE.Euler.DefaultOrder};THREE.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");THREE.Euler.DefaultOrder="XYZ";THREE.Euler.prototype={constructor:THREE.Euler,get x(){return this._x},set x(n){this._x=n;this.onChangeCallback()},get y(){return this._y},set y(n){this._y=n;this.onChangeCallback()},get z(){return this._z},set z(n){this._z=n;this.onChangeCallback()},get order(){return this._order},set order(n){this._order=n;this.onChangeCallback()},set:function(n,t,i,r){return this._x=n,this._y=t,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this.onChangeCallback(),this},setFromRotationMatrix:function(n,t,i){var u=THREE.Math.clamp,r=n.elements;n=r[0];var e=r[4],o=r[8],s=r[1],f=r[5],h=r[9],c=r[2],l=r[6],r=r[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(u(o,-1,1)),.99999>Math.abs(o)?(this._x=Math.atan2(-h,r),this._z=Math.atan2(-e,n)):(this._x=Math.atan2(l,f),this._z=0)):"YXZ"===t?(this._x=Math.asin(-u(h,-1,1)),.99999>Math.abs(h)?(this._y=Math.atan2(o,r),this._z=Math.atan2(s,f)):(this._y=Math.atan2(-c,n),this._z=0)):"ZXY"===t?(this._x=Math.asin(u(l,-1,1)),.99999>Math.abs(l)?(this._y=Math.atan2(-c,r),this._z=Math.atan2(-e,f)):(this._y=0,this._z=Math.atan2(s,n))):"ZYX"===t?(this._y=Math.asin(-u(c,-1,1)),.99999>Math.abs(c)?(this._x=Math.atan2(l,r),this._z=Math.atan2(s,n)):(this._x=0,this._z=Math.atan2(-e,f))):"YZX"===t?(this._z=Math.asin(u(s,-1,1)),.99999>Math.abs(s)?(this._x=Math.atan2(-h,f),this._y=Math.atan2(-c,n)):(this._x=0,this._y=Math.atan2(o,r))):"XZY"===t?(this._z=Math.asin(-u(e,-1,1)),.99999>Math.abs(e)?(this._x=Math.atan2(l,f),this._y=Math.atan2(o,n)):(this._x=Math.atan2(-h,r),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var n;return function(t,i,r){return void 0===n&&(n=new THREE.Matrix4),n.makeRotationFromQuaternion(t),this.setFromRotationMatrix(n,i,r)}}(),setFromVector3:function(n,t){return this.set(n.x,n.y,n.z,t||this._order)},reorder:function(){var n=new THREE.Quaternion;return function(t){return n.setFromEuler(this),this.setFromQuaternion(n,t)}}(),equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order},fromArray:function(n){return this._x=n[0],this._y=n[1],this._z=n[2],void 0!==n[3]&&(this._order=n[3]),this.onChangeCallback(),this},toArray:function(n,t){return void 0===n&&(n=[]),void 0===t&&(t=0),n[t]=this._x,n[t+1]=this._y,n[t+2]=this._z,n[t+3]=this._order,n},toVector3:function(n){return n?n.set(this._x,this._y,this._z):new THREE.Vector3(this._x,this._y,this._z)},onChange:function(n){return this.onChangeCallback=n,this},onChangeCallback:function(){}};THREE.Line3=function(n,t){this.start=void 0!==n?n:new THREE.Vector3;this.end=void 0!==t?t:new THREE.Vector3};THREE.Line3.prototype={constructor:THREE.Line3,set:function(n,t){return this.start.copy(n),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.start.copy(n.start),this.end.copy(n.end),this},center:function(n){return(n||new THREE.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(n){return(n||new THREE.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(n,t){var i=t||new THREE.Vector3;return this.delta(i).multiplyScalar(n).add(this.start)},closestPointToPointParameter:function(){var t=new THREE.Vector3,n=new THREE.Vector3;return function(i,r){t.subVectors(i,this.start);n.subVectors(this.end,this.start);var u=n.dot(n),u=n.dot(t)/u;return r&&(u=THREE.Math.clamp(u,0,1)),u}}(),closestPointToPoint:function(n,t,i){return n=this.closestPointToPointParameter(n,t),i=i||new THREE.Vector3,this.delta(i).multiplyScalar(n).add(this.start)},applyMatrix4:function(n){return this.start.applyMatrix4(n),this.end.applyMatrix4(n),this},equals:function(n){return n.start.equals(this.start)&&n.end.equals(this.end)}};THREE.Box2=function(n,t){this.min=void 0!==n?n:new THREE.Vector2(Infinity,Infinity);this.max=void 0!==t?t:new THREE.Vector2(-Infinity,-Infinity)};THREE.Box2.prototype={constructor:THREE.Box2,set:function(n,t){return this.min.copy(n),this.max.copy(t),this},setFromPoints:function(n){this.makeEmpty();for(var t=0,i=n.length;t<i;t++)this.expandByPoint(n[t]);return this},setFromCenterAndSize:function(){var n=new THREE.Vector2;return function(t,i){var r=n.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(n){return(n||new THREE.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(n){return(n||new THREE.Vector2).subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},containsPoint:function(n){return n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y?!1:!0},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y?!0:!1},getParameter:function(n,t){return(t||new THREE.Vector2).set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(n){return n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y?!1:!0},clampPoint:function(n,t){return(t||new THREE.Vector2).copy(n).clamp(this.min,this.max)},distanceToPoint:function(){var n=new THREE.Vector2;return function(t){return n.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}};THREE.Box3=function(n,t){this.min=void 0!==n?n:new THREE.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==t?t:new THREE.Vector3(-Infinity,-Infinity,-Infinity)};THREE.Box3.prototype={constructor:THREE.Box3,set:function(n,t){return this.min.copy(n),this.max.copy(t),this},setFromArray:function(n){for(var f=Infinity,e=Infinity,o=Infinity,s=-Infinity,h=-Infinity,c=-Infinity,t=0,l=n.length;t<l;t+=3){var i=n[t],r=n[t+1],u=n[t+2];i<f&&(f=i);r<e&&(e=r);u<o&&(o=u);i>s&&(s=i);r>h&&(h=r);u>c&&(c=u)}this.min.set(f,e,o);this.max.set(s,h,c)},setFromPoints:function(n){this.makeEmpty();for(var t=0,i=n.length;t<i;t++)this.expandByPoint(n[t]);return this},setFromCenterAndSize:function(){var n=new THREE.Vector3;return function(t,i){var r=n.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(){var n=new THREE.Vector3;return function(t){var i=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse(function(t){var r=t.geometry,e;if(void 0!==r)if(r instanceof THREE.Geometry)for(var r=r.vertices,f=0,u=r.length;f<u;f++)n.copy(r[f]),n.applyMatrix4(t.matrixWorld),i.expandByPoint(n);else if(r instanceof THREE.BufferGeometry&&(u=r.attributes.position,void 0!==u))for(u instanceof THREE.InterleavedBufferAttribute?(r=u.data.array,f=u.offset,e=u.data.stride):(r=u.array,f=0,e=3),u=r.length;f<u;f+=e)n.fromArray(r,f),n.applyMatrix4(t.matrixWorld),i.expandByPoint(n)}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(n){return(n||new THREE.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(n){return(n||new THREE.Vector3).subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},containsPoint:function(n){return n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y||n.z<this.min.z||n.z>this.max.z?!1:!0},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z?!0:!1},getParameter:function(n,t){return(t||new THREE.Vector3).set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(n){return n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y||n.max.z<this.min.z||n.min.z>this.max.z?!1:!0},intersectsSphere:function(){var n;return function(t){return void 0===n&&(n=new THREE.Vector3),this.clampPoint(t.center,n),n.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(n){var t,i;return 0<n.normal.x?(t=n.normal.x*this.min.x,i=n.normal.x*this.max.x):(t=n.normal.x*this.max.x,i=n.normal.x*this.min.x),0<n.normal.y?(t+=n.normal.y*this.min.y,i+=n.normal.y*this.max.y):(t+=n.normal.y*this.max.y,i+=n.normal.y*this.min.y),0<n.normal.z?(t+=n.normal.z*this.min.z,i+=n.normal.z*this.max.z):(t+=n.normal.z*this.max.z,i+=n.normal.z*this.min.z),t<=n.constant&&i>=n.constant},clampPoint:function(n,t){return(t||new THREE.Vector3).copy(n).clamp(this.min,this.max)},distanceToPoint:function(){var n=new THREE.Vector3;return function(t){return n.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var n=new THREE.Vector3;return function(t){return t=t||new THREE.Sphere,t.center=this.center(),t.radius=.5*this.size(n).length(),t}}(),intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},applyMatrix4:function(){var n=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(t){return this.isEmpty()?this:(n[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),n[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),n[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),n[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),n[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),n[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),n[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),n[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(n),this)}}(),translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}};THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(n,t,i,r,u,f,e,o,s){var h=this.elements;return h[0]=n,h[1]=r,h[2]=e,h[3]=t,h[4]=u,h[5]=o,h[6]=i,h[7]=f,h[8]=s,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(n){return n=n.elements,this.set(n[0],n[3],n[6],n[1],n[4],n[7],n[2],n[5],n[8]),this},setFromMatrix4:function(n){return n=n.elements,this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this},applyToVector3Array:function(){var n;return function(t,i,r){void 0===n&&(n=new THREE.Vector3);void 0===i&&(i=0);void 0===r&&(r=t.length);for(var u=0;u<r;u+=3,i+=3)n.fromArray(t,i),n.applyMatrix3(this),n.toArray(t,i);return t}}(),applyToBuffer:function(){var n;return function(t,i,r){void 0===n&&(n=new THREE.Vector3);void 0===i&&(i=0);void 0===r&&(r=t.length/t.itemSize);for(var u=0;u<r;u++,i++)n.x=t.getX(i),n.y=t.getY(i),n.z=t.getZ(i),n.applyMatrix3(this),t.setXYZ(n.x,n.y,n.z);return t}}(),multiplyScalar:function(n){var t=this.elements;return t[0]*=n,t[3]*=n,t[6]*=n,t[1]*=n,t[4]*=n,t[7]*=n,t[2]*=n,t[5]*=n,t[8]*=n,this},determinant:function(){var n=this.elements,t=n[0],i=n[1],r=n[2],u=n[3],f=n[4],e=n[5],o=n[6],s=n[7],n=n[8];return t*f*n-t*e*s-i*u*n+i*e*o+r*u*s-r*f*o},getInverse:function(n,t){n instanceof THREE.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var i=n.elements,u=this.elements,f=i[0],e=i[1],o=i[2],s=i[3],h=i[4],c=i[5],l=i[6],a=i[7],i=i[8],v=i*h-c*a,y=c*l-i*s,p=a*s-h*l,r=f*v+e*y+o*p;if(0===r){if(t)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity()}return r=1/r,u[0]=v*r,u[1]=(o*a-i*e)*r,u[2]=(c*e-o*h)*r,u[3]=y*r,u[4]=(i*f-o*l)*r,u[5]=(o*s-c*f)*r,u[6]=p*r,u[7]=(e*l-a*f)*r,u[8]=(h*f-e*s)*r,this},transpose:function(){var t,n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this},flattenToArrayOffset:function(n,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(n,t)},getNormalMatrix:function(n){return this.setFromMatrix4(n).getInverse(this).transpose()},transposeIntoArray:function(n){var t=this.elements;return n[0]=t[0],n[1]=t[3],n[2]=t[6],n[3]=t[1],n[4]=t[4],n[5]=t[7],n[6]=t[2],n[7]=t[5],n[8]=t[8],this},fromArray:function(n){return this.elements.set(n),this},toArray:function(n,t){void 0===n&&(n=[]);void 0===t&&(t=0);var i=this.elements;return n[t]=i[0],n[t+1]=i[1],n[t+2]=i[2],n[t+3]=i[3],n[t+4]=i[4],n[t+5]=i[5],n[t+6]=i[6],n[t+7]=i[7],n[t+8]=i[8],n}};THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var w=this.elements;return w[0]=n,w[4]=t,w[8]=i,w[12]=r,w[1]=u,w[5]=f,w[9]=e,w[13]=o,w[2]=s,w[6]=h,w[10]=c,w[14]=l,w[3]=a,w[7]=v,w[11]=y,w[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)},copy:function(n){return this.elements.set(n.elements),this},copyPosition:function(n){var t=this.elements;return n=n.elements,t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(n,t,i){return n.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(n,t,i){return this.set(n.x,t.x,i.x,0,n.y,t.y,i.y,0,n.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(){var n;return function(t){void 0===n&&(n=new THREE.Vector3);var i=this.elements,r=t.elements,u=1/n.setFromMatrixColumn(t,0).length(),f=1/n.setFromMatrixColumn(t,1).length();return t=1/n.setFromMatrixColumn(t,2).length(),i[0]=r[0]*u,i[1]=r[1]*u,i[2]=r[2]*u,i[4]=r[4]*f,i[5]=r[5]*f,i[6]=r[6]*f,i[8]=r[8]*t,i[9]=r[9]*t,i[10]=r[10]*t,this}}(),makeRotationFromEuler:function(n){!1==n instanceof THREE.Euler&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,i=n.x,r=n.y,u=n.z,f=Math.cos(i),i=Math.sin(i),e=Math.cos(r),r=Math.sin(r),o=Math.cos(u),u=Math.sin(u);if("XYZ"===n.order){n=f*o;var s=f*u,h=i*o,c=i*u;t[0]=e*o;t[4]=-e*u;t[8]=r;t[1]=s+h*r;t[5]=n-c*r;t[9]=-i*e;t[2]=c-n*r;t[6]=h+s*r;t[10]=f*e}else"YXZ"===n.order?(n=e*o,s=e*u,h=r*o,c=r*u,t[0]=n+c*i,t[4]=h*i-s,t[8]=f*r,t[1]=f*u,t[5]=f*o,t[9]=-i,t[2]=s*i-h,t[6]=c+n*i,t[10]=f*e):"ZXY"===n.order?(n=e*o,s=e*u,h=r*o,c=r*u,t[0]=n-c*i,t[4]=-f*u,t[8]=h+s*i,t[1]=s+h*i,t[5]=f*o,t[9]=c-n*i,t[2]=-f*r,t[6]=i,t[10]=f*e):"ZYX"===n.order?(n=f*o,s=f*u,h=i*o,c=i*u,t[0]=e*o,t[4]=h*r-s,t[8]=n*r+c,t[1]=e*u,t[5]=c*r+n,t[9]=s*r-h,t[2]=-r,t[6]=i*e,t[10]=f*e):"YZX"===n.order?(n=f*e,s=f*r,h=i*e,c=i*r,t[0]=e*o,t[4]=c-n*u,t[8]=h*u+s,t[1]=u,t[5]=f*o,t[9]=-i*o,t[2]=-r*o,t[6]=s*u+h,t[10]=n-c*u):"XZY"===n.order&&(n=f*e,s=f*r,h=i*e,c=i*r,t[0]=e*o,t[4]=-u,t[8]=r*o,t[1]=n*u+c,t[5]=f*o,t[9]=s*u-h,t[2]=h*u-s,t[6]=i*o,t[10]=c*u+n);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(n){var t=this.elements,i=n.x,r=n.y,u=n.z,f=n.w,o=i+i,e=r+r,s=u+u;n=i*o;var h=i*e,i=i*s,c=r*e,r=r*s,u=u*s,o=f*o,e=f*e,f=f*s;return t[0]=1-(c+u),t[4]=h-f,t[8]=i+e,t[1]=h+f,t[5]=1-(n+u),t[9]=r-o,t[2]=i-e,t[6]=r+o,t[10]=1-(n+c),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var t,i,n;return function(r,u,f){void 0===t&&(t=new THREE.Vector3,i=new THREE.Vector3,n=new THREE.Vector3);var e=this.elements;return n.subVectors(r,u).normalize(),0===n.lengthSq()&&(n.z=1),t.crossVectors(f,n).normalize(),0===t.lengthSq()&&(n.z+=.0001,t.crossVectors(f,n).normalize()),i.crossVectors(n,t),e[0]=t.x,e[4]=i.x,e[8]=n.x,e[1]=t.y,e[5]=i.y,e[9]=n.y,e[2]=t.z,e[6]=i.z,e[10]=n.z,this}}(),multiply:function(n,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(n,t)):this.multiplyMatrices(this,n)},premultiply:function(n){return this.multiplyMatrices(n,this)},multiplyMatrices:function(n,t){var i=n.elements,r=t.elements,u=this.elements,f=i[0],e=i[4],o=i[8],s=i[12],h=i[1],c=i[5],l=i[9],a=i[13],v=i[2],y=i[6],p=i[10],w=i[14],b=i[3],k=i[7],d=i[11],i=i[15],g=r[0],nt=r[4],tt=r[8],it=r[12],rt=r[1],ut=r[5],ft=r[9],et=r[13],ot=r[2],st=r[6],ht=r[10],ct=r[14],lt=r[3],at=r[7],vt=r[11],r=r[15];return u[0]=f*g+e*rt+o*ot+s*lt,u[4]=f*nt+e*ut+o*st+s*at,u[8]=f*tt+e*ft+o*ht+s*vt,u[12]=f*it+e*et+o*ct+s*r,u[1]=h*g+c*rt+l*ot+a*lt,u[5]=h*nt+c*ut+l*st+a*at,u[9]=h*tt+c*ft+l*ht+a*vt,u[13]=h*it+c*et+l*ct+a*r,u[2]=v*g+y*rt+p*ot+w*lt,u[6]=v*nt+y*ut+p*st+w*at,u[10]=v*tt+y*ft+p*ht+w*vt,u[14]=v*it+y*et+p*ct+w*r,u[3]=b*g+k*rt+d*ot+i*lt,u[7]=b*nt+k*ut+d*st+i*at,u[11]=b*tt+k*ft+d*ht+i*vt,u[15]=b*it+k*et+d*ct+i*r,this},multiplyToArray:function(n,t,i){var r=this.elements;return this.multiplyMatrices(n,t),i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this},multiplyScalar:function(n){var t=this.elements;return t[0]*=n,t[4]*=n,t[8]*=n,t[12]*=n,t[1]*=n,t[5]*=n,t[9]*=n,t[13]*=n,t[2]*=n,t[6]*=n,t[10]*=n,t[14]*=n,t[3]*=n,t[7]*=n,t[11]*=n,t[15]*=n,this},applyToVector3Array:function(){var n;return function(t,i,r){void 0===n&&(n=new THREE.Vector3);void 0===i&&(i=0);void 0===r&&(r=t.length);for(var u=0;u<r;u+=3,i+=3)n.fromArray(t,i),n.applyMatrix4(this),n.toArray(t,i);return t}}(),applyToBuffer:function(){var n;return function(t,i,r){void 0===n&&(n=new THREE.Vector3);void 0===i&&(i=0);void 0===r&&(r=t.length/t.itemSize);for(var u=0;u<r;u++,i++)n.x=t.getX(i),n.y=t.getY(i),n.z=t.getZ(i),n.applyMatrix4(this),t.setXYZ(n.x,n.y,n.z);return t}}(),determinant:function(){var n=this.elements,t=n[0],i=n[4],r=n[8],u=n[12],f=n[1],e=n[5],o=n[9],s=n[13],h=n[2],c=n[6],l=n[10],a=n[14];return n[3]*(+u*o*c-r*s*c-u*e*l+i*s*l+r*e*a-i*o*a)+n[7]*(+t*o*a-t*s*l+u*f*l-r*f*a+r*s*h-u*o*h)+n[11]*(+t*s*c-t*e*a-u*f*c+i*f*a+u*e*h-i*s*h)+n[15]*(-r*e*h-t*o*c+t*e*l+r*f*c-i*f*l+i*o*h)},transpose:function(){var n=this.elements,t;return t=n[1],n[1]=n[4],n[4]=t,t=n[2],n[2]=n[8],n[8]=t,t=n[6],n[6]=n[9],n[9]=t,t=n[3],n[3]=n[12],n[12]=t,t=n[7],n[7]=n[13],n[13]=t,t=n[11],n[11]=n[14],n[14]=t,this},flattenToArrayOffset:function(n,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(n,t)},getPosition:function(){var n;return function(){return void 0===n&&(n=new THREE.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),n.setFromMatrixColumn(this,3)}}(),setPosition:function(n){var t=this.elements;return t[12]=n.x,t[13]=n.y,t[14]=n.z,this},getInverse:function(n,t){var d=this.elements,i=n.elements,r=i[0],u=i[1],f=i[2],e=i[3],s=i[4],h=i[5],c=i[6],l=i[7],a=i[8],v=i[9],y=i[10],p=i[11],w=i[12],b=i[13],k=i[14],i=i[15],g=v*k*l-b*y*l+b*c*p-h*k*p-v*c*i+h*y*i,nt=w*y*l-a*k*l-w*c*p+s*k*p+a*c*i-s*y*i,tt=a*b*l-w*v*l+w*h*p-s*b*p-a*h*i+s*v*i,it=w*v*c-a*b*c-w*h*y+s*b*y+a*h*k-s*v*k,o=r*g+u*nt+f*tt+e*it;if(0===o){if(t)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity()}return o=1/o,d[0]=g*o,d[1]=(b*y*e-v*k*e-b*f*p+u*k*p+v*f*i-u*y*i)*o,d[2]=(h*k*e-b*c*e+b*f*l-u*k*l-h*f*i+u*c*i)*o,d[3]=(v*c*e-h*y*e-v*f*l+u*y*l+h*f*p-u*c*p)*o,d[4]=nt*o,d[5]=(a*k*e-w*y*e+w*f*p-r*k*p-a*f*i+r*y*i)*o,d[6]=(w*c*e-s*k*e-w*f*l+r*k*l+s*f*i-r*c*i)*o,d[7]=(s*y*e-a*c*e+a*f*l-r*y*l-s*f*p+r*c*p)*o,d[8]=tt*o,d[9]=(w*v*e-a*b*e-w*u*p+r*b*p+a*u*i-r*v*i)*o,d[10]=(s*b*e-w*h*e+w*u*l-r*b*l-s*u*i+r*h*i)*o,d[11]=(a*h*e-s*v*e-a*u*l+r*v*l+s*u*p-r*h*p)*o,d[12]=it*o,d[13]=(a*b*f-w*v*f+w*u*y-r*b*y-a*u*k+r*v*k)*o,d[14]=(w*h*f-s*b*f-w*u*c+r*b*c+s*u*k-r*h*k)*o,d[15]=(s*v*f-a*h*f+a*u*c-r*v*c-s*u*y+r*h*y)*o,this},scale:function(n){var t=this.elements,i=n.x,r=n.y;return n=n.z,t[0]*=i,t[4]*=r,t[8]*=n,t[1]*=i,t[5]*=r,t[9]*=n,t[2]*=i,t[6]*=r,t[10]*=n,t[3]*=i,t[7]*=r,t[11]*=n,this},getMaxScaleOnAxis:function(){var n=this.elements;return Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1]+n[2]*n[2],n[4]*n[4]+n[5]*n[5]+n[6]*n[6],n[8]*n[8]+n[9]*n[9]+n[10]*n[10]))},makeTranslation:function(n,t,i){return this.set(1,0,0,n,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(n){var t=Math.cos(n);return n=Math.sin(n),this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(n){var t=Math.cos(n);return n=Math.sin(n),this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(n){var t=Math.cos(n);return n=Math.sin(n),this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(n,t){var e=Math.cos(t),r=Math.sin(t),s=1-e,o=n.x,u=n.y,i=n.z,f=s*o,h=s*u;return this.set(f*o+e,f*u-r*i,f*i+r*u,0,f*u+r*i,h*u+e,h*i-r*o,0,f*i-r*u,h*i+r*o,s*i*i+e,0,0,0,0,1),this},makeScale:function(n,t,i){return this.set(n,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},compose:function(n,t,i){return this.makeRotationFromQuaternion(t),this.scale(i),this.setPosition(n),this},decompose:function(){var t,n;return function(i,r,u){var f,o;void 0===t&&(t=new THREE.Vector3,n=new THREE.Matrix4);var f=this.elements,e=t.set(f[0],f[1],f[2]).length(),s=t.set(f[4],f[5],f[6]).length(),h=t.set(f[8],f[9],f[10]).length();return 0>this.determinant()&&(e=-e),i.x=f[12],i.y=f[13],i.z=f[14],n.elements.set(this.elements),i=1/e,f=1/s,o=1/h,n.elements[0]*=i,n.elements[1]*=i,n.elements[2]*=i,n.elements[4]*=f,n.elements[5]*=f,n.elements[6]*=f,n.elements[8]*=o,n.elements[9]*=o,n.elements[10]*=o,r.setFromRotationMatrix(n),u.x=e,u.y=s,u.z=h,this}}(),makeFrustum:function(n,t,i,r,u,f){var e=this.elements;return e[0]=2*u/(t-n),e[4]=0,e[8]=(t+n)/(t-n),e[12]=0,e[1]=0,e[5]=2*u/(r-i),e[9]=(r+i)/(r-i),e[13]=0,e[2]=0,e[6]=0,e[10]=-(f+u)/(f-u),e[14]=-2*f*u/(f-u),e[3]=0,e[7]=0,e[11]=-1,e[15]=0,this},makePerspective:function(n,t,i,r){n=i*Math.tan(THREE.Math.DEG2RAD*n*.5);var u=-n;return this.makeFrustum(u*t,n*t,u,n,i,r)},makeOrthographic:function(n,t,i,r,u,f){var e=this.elements,o=1/(t-n),s=1/(i-r),h=1/(f-u);return e[0]=2*o,e[4]=0,e[8]=0,e[12]=-((t+n)*o),e[1]=0,e[5]=2*s,e[9]=0,e[13]=-((i+r)*s),e[2]=0,e[6]=0,e[10]=-2*h,e[14]=-((f+u)*h),e[3]=0,e[7]=0,e[11]=0,e[15]=1,this},equals:function(n){var i=this.elements,t;for(n=n.elements,t=0;16>t;t++)if(i[t]!==n[t])return!1;return!0},fromArray:function(n){return this.elements.set(n),this},toArray:function(n,t){void 0===n&&(n=[]);void 0===t&&(t=0);var i=this.elements;return n[t]=i[0],n[t+1]=i[1],n[t+2]=i[2],n[t+3]=i[3],n[t+4]=i[4],n[t+5]=i[5],n[t+6]=i[6],n[t+7]=i[7],n[t+8]=i[8],n[t+9]=i[9],n[t+10]=i[10],n[t+11]=i[11],n[t+12]=i[12],n[t+13]=i[13],n[t+14]=i[14],n[t+15]=i[15],n}};THREE.Ray=function(n,t){this.origin=void 0!==n?n:new THREE.Vector3;this.direction=void 0!==t?t:new THREE.Vector3};THREE.Ray.prototype={constructor:THREE.Ray,set:function(n,t){return this.origin.copy(n),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this},at:function(n,t){return(t||new THREE.Vector3).copy(this.direction).multiplyScalar(n).add(this.origin)},lookAt:function(n){return this.direction.copy(n).sub(this.origin).normalize(),this},recast:function(){var n=new THREE.Vector3;return function(t){return this.origin.copy(this.at(t,n)),this}}(),closestPointToPoint:function(n,t){var i=t||new THREE.Vector3,r;return i.subVectors(n,this.origin),r=i.dot(this.direction),0>r?i.copy(this.origin):i.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(n){return Math.sqrt(this.distanceSqToPoint(n))},distanceSqToPoint:function(){var n=new THREE.Vector3;return function(t){var i=n.subVectors(t,this.origin).dot(this.direction);return 0>i?this.origin.distanceToSquared(t):(n.copy(this.direction).multiplyScalar(i).add(this.origin),n.distanceToSquared(t))}}(),distanceSqToSegment:function(){var i=new THREE.Vector3,n=new THREE.Vector3,t=new THREE.Vector3;return function(r,u,f,e){i.copy(r).add(u).multiplyScalar(.5);n.copy(u).sub(r).normalize();t.copy(this.origin).sub(i);var s=.5*r.distanceTo(u),o=-this.direction.dot(n),c=t.dot(this.direction),h=-t.dot(n),l=t.lengthSq(),v=Math.abs(1-o*o),a;return 0<v?(r=o*h-c,u=o*c-h,a=s*v,0<=r?u>=-a?u<=a?(s=1/v,r*=s,u*=s,o=r*(r+o*u+2*c)+u*(o*r+u+2*h)+l):(u=s,r=Math.max(0,-(o*u+c)),o=-r*r+u*(u+2*h)+l):(u=-s,r=Math.max(0,-(o*u+c)),o=-r*r+u*(u+2*h)+l):u<=-a?(r=Math.max(0,-(-o*s+c)),u=0<r?-s:Math.min(Math.max(-s,-h),s),o=-r*r+u*(u+2*h)+l):u<=a?(r=0,u=Math.min(Math.max(-s,-h),s),o=u*(u+2*h)+l):(r=Math.max(0,-(o*s+c)),u=0<r?s:Math.min(Math.max(-s,-h),s),o=-r*r+u*(u+2*h)+l)):(u=0<o?-s:s,r=Math.max(0,-(o*u+c)),o=-r*r+u*(u+2*h)+l),f&&f.copy(this.direction).multiplyScalar(r).add(this.origin),e&&e.copy(n).multiplyScalar(u).add(i),o}}(),intersectSphere:function(){var n=new THREE.Vector3;return function(t,i){n.subVectors(t.center,this.origin);var r=n.dot(this.direction),u=n.dot(n)-r*r,f=t.radius*t.radius;return u>f?null:(f=Math.sqrt(f-u),u=r-f,r+=f,0>u&&0>r?null:0>u?this.at(r,i):this.at(u,i))}}(),intersectsSphere:function(n){return this.distanceToPoint(n.center)<=n.radius},distanceToPlane:function(n){var t=n.normal.dot(this.direction);return 0===t?0===n.distanceToPoint(this.origin)?0:null:(n=-(this.origin.dot(n.normal)+n.constant)/t,0<=n?n:null)},intersectPlane:function(n,t){var i=this.distanceToPlane(n);return null===i?null:this.at(i,t)},intersectsPlane:function(n){var t=n.distanceToPoint(this.origin);return 0===t||0>n.normal.dot(this.direction)*t?!0:!1},intersectBox:function(n,t){var r,i,f,e,o,u;return(i=1/this.direction.x,e=1/this.direction.y,o=1/this.direction.z,u=this.origin,0<=i?(r=(n.min.x-u.x)*i,i*=n.max.x-u.x):(r=(n.max.x-u.x)*i,i*=n.min.x-u.x),0<=e?(f=(n.min.y-u.y)*e,e*=n.max.y-u.y):(f=(n.max.y-u.y)*e,e*=n.min.y-u.y),r>e||f>i)?null:((f>r||r!==r)&&(r=f),(e<i||i!==i)&&(i=e),0<=o?(f=(n.min.z-u.z)*o,o*=n.max.z-u.z):(f=(n.max.z-u.z)*o,o*=n.min.z-u.z),r>o||f>i)?null:((f>r||r!==r)&&(r=f),(o<i||i!==i)&&(i=o),0>i?null:this.at(0<=r?r:i,t))},intersectsBox:function(){var n=new THREE.Vector3;return function(t){return null!==this.intersectBox(t,n)}}(),intersectTriangle:function(){var n=new THREE.Vector3,i=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(u,f,e,o,s){if(i.subVectors(f,u),t.subVectors(e,u),r.crossVectors(i,t),f=this.direction.dot(r),0<f){if(o)return null;o=1}else if(0>f)o=-1,f=-f;else return null;return(n.subVectors(this.origin,u),u=o*this.direction.dot(t.crossVectors(n,t)),0>u)?null:(e=o*this.direction.dot(i.cross(n)),0>e||u+e>f)?null:(u=-o*n.dot(r),0>u?null:this.at(u/f,s))}}(),applyMatrix4:function(n){return this.direction.add(this.origin).applyMatrix4(n),this.origin.applyMatrix4(n),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}};THREE.Sphere=function(n,t){this.center=void 0!==n?n:new THREE.Vector3;this.radius=void 0!==t?t:0};THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(n,t){return this.center.copy(n),this.radius=t,this},setFromPoints:function(){var n=new THREE.Box3;return function(t,i){var r=this.center;void 0!==i?r.copy(i):n.setFromPoints(t).center(r);for(var u=0,f=0,e=t.length;f<e;f++)u=Math.max(u,r.distanceToSquared(t[f]));return this.radius=Math.sqrt(u),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.center.copy(n.center),this.radius=n.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(n){return n.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(n){return n.distanceTo(this.center)-this.radius},intersectsSphere:function(n){var t=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(n){return n.intersectsSphere(this)},intersectsPlane:function(n){return Math.abs(this.center.dot(n.normal)-n.constant)<=this.radius},clampPoint:function(n,t){var r=this.center.distanceToSquared(n),i=t||new THREE.Vector3;return i.copy(n),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(n){return n=n||new THREE.Box3,n.set(this.center,this.center),n.expandByScalar(this.radius),n},applyMatrix4:function(n){return this.center.applyMatrix4(n),this.radius*=n.getMaxScaleOnAxis(),this},translate:function(n){return this.center.add(n),this},equals:function(n){return n.center.equals(this.center)&&n.radius===this.radius}};THREE.Frustum=function(n,t,i,r,u,f){this.planes=[void 0!==n?n:new THREE.Plane,void 0!==t?t:new THREE.Plane,void 0!==i?i:new THREE.Plane,void 0!==r?r:new THREE.Plane,void 0!==u?u:new THREE.Plane,void 0!==f?f:new THREE.Plane]};THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(n,t,i,r,u,f){var e=this.planes;return e[0].copy(n),e[1].copy(t),e[2].copy(i),e[3].copy(r),e[4].copy(u),e[5].copy(f),this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){for(var i=this.planes,t=0;6>t;t++)i[t].copy(n.planes[t]);return this},setFromMatrix:function(n){var i=this.planes,t=n.elements;n=t[0];var e=t[1],o=t[2],r=t[3],s=t[4],h=t[5],c=t[6],u=t[7],l=t[8],a=t[9],v=t[10],f=t[11],y=t[12],p=t[13],w=t[14],t=t[15];return i[0].setComponents(r-n,u-s,f-l,t-y).normalize(),i[1].setComponents(r+n,u+s,f+l,t+y).normalize(),i[2].setComponents(r+e,u+h,f+a,t+p).normalize(),i[3].setComponents(r-e,u-h,f-a,t-p).normalize(),i[4].setComponents(r-o,u-c,f-v,t-w).normalize(),i[5].setComponents(r+o,u+c,f+v,t+w).normalize(),this},intersectsObject:function(){var n=new THREE.Sphere;return function(t){var i=t.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),n.copy(i.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(n)}}(),intersectsSprite:function(){var n=new THREE.Sphere;return function(t){return n.center.set(0,0,0),n.radius=.70710678118654757,n.applyMatrix4(t.matrixWorld),this.intersectsSphere(n)}}(),intersectsSphere:function(n){var i=this.planes,r=n.center,t;for(n=-n.radius,t=0;6>t;t++)if(i[t].distanceToPoint(r)<n)return!1;return!0},intersectsBox:function(){var n=new THREE.Vector3,t=new THREE.Vector3;return function(i){for(var e,r,f=this.planes,u=0;6>u;u++)if(r=f[u],n.x=0<r.normal.x?i.min.x:i.max.x,t.x=0<r.normal.x?i.max.x:i.min.x,n.y=0<r.normal.y?i.min.y:i.max.y,t.y=0<r.normal.y?i.max.y:i.min.y,n.z=0<r.normal.z?i.min.z:i.max.z,t.z=0<r.normal.z?i.max.z:i.min.z,e=r.distanceToPoint(n),r=r.distanceToPoint(t),0>e&&0>r)return!1;return!0}}(),containsPoint:function(n){for(var i=this.planes,t=0;6>t;t++)if(0>i[t].distanceToPoint(n))return!1;return!0}};THREE.Plane=function(n,t){this.normal=void 0!==n?n:new THREE.Vector3(1,0,0);this.constant=void 0!==t?t:0};THREE.Plane.prototype={constructor:THREE.Plane,set:function(n,t){return this.normal.copy(n),this.constant=t,this},setComponents:function(n,t,i,r){return this.normal.set(n,t,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(n,t){return this.normal.copy(n),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var n=new THREE.Vector3,t=new THREE.Vector3;return function(i,r,u){return r=n.subVectors(u,r).cross(t.subVectors(i,r)).normalize(),this.setFromNormalAndCoplanarPoint(r,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.normal.copy(n.normal),this.constant=n.constant,this},normalize:function(){var n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(n){return this.normal.dot(n)+this.constant},distanceToSphere:function(n){return this.distanceToPoint(n.center)-n.radius},projectPoint:function(n,t){return this.orthoPoint(n,t).sub(n).negate()},orthoPoint:function(n,t){var i=this.distanceToPoint(n);return(t||new THREE.Vector3).copy(this.normal).multiplyScalar(i)},intersectLine:function(){var n=new THREE.Vector3;return function(t,i){var u=i||new THREE.Vector3,f=t.delta(n),r=this.normal.dot(f);if(0===r){if(0===this.distanceToPoint(t.start))return u.copy(t.start)}else return r=-(t.start.dot(this.normal)+this.constant)/r,0>r||1<r?void 0:u.copy(f).multiplyScalar(r).add(t.start)}}(),intersectsLine:function(n){var t=this.distanceToPoint(n.start);return n=this.distanceToPoint(n.end),0>t&&0<n||0>n&&0<t},intersectsBox:function(n){return n.intersectsPlane(this)},intersectsSphere:function(n){return n.intersectsPlane(this)},coplanarPoint:function(n){return(n||new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var n=new THREE.Vector3,t=new THREE.Matrix3;return function(i,r){var f=this.coplanarPoint(n).applyMatrix4(i),u=r||t.getNormalMatrix(i),u=this.normal.applyMatrix3(u).normalize();return this.constant=-f.dot(u),this}}(),translate:function(n){return this.constant-=n.dot(this.normal),this},equals:function(n){return n.normal.equals(this.normal)&&n.constant===this.constant}};THREE.Spherical=function(n,t,i){return this.radius=void 0!==n?n:1,this.phi=void 0!==t?t:0,this.theta=void 0!==i?i:0,this};THREE.Spherical.prototype={constructor:THREE.Spherical,set:function(n,t,i){return this.radius=n,this.phi=t,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.radius.copy(n.radius),this.phi.copy(n.phi),this.theta.copy(n.theta),this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(n){return this.radius=n.length(),0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(n.x,n.z),this.phi=Math.acos(THREE.Math.clamp(n.y/this.radius,-1,1))),this}};THREE.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=Array(36),t=0,i;return function(){for(var u=0;36>u;u++)8===u||13===u||18===u||23===u?n[u]="-":14===u?n[u]="4":(2>=t&&(t=33554432+16777216*Math.random()|0),i=t&15,t>>=4,n[u]=r[19===u?i&3|8:i]);return n.join("")}}(),clamp:function(n,t,i){return Math.max(t,Math.min(i,n))},euclideanModulo:function(n,t){return(n%t+t)%t},mapLinear:function(n,t,i,r,u){return r+(n-t)*(u-r)/(i-t)},smoothstep:function(n,t,i){return n<=t?0:n>=i?1:(n=(n-t)/(i-t),n*n*(3-2*n))},smootherstep:function(n,t,i){return n<=t?0:n>=i?1:(n=(n-t)/(i-t),n*n*n*(n*(6*n-15)+10))},random16:function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},randInt:function(n,t){return n+Math.floor(Math.random()*(t-n+1))},randFloat:function(n,t){return n+Math.random()*(t-n)},randFloatSpread:function(n){return n*(.5-Math.random())},degToRad:function(n){return n*THREE.Math.DEG2RAD},radToDeg:function(n){return n*THREE.Math.RAD2DEG},isPowerOfTwo:function(n){return 0==(n&n-1)&&0!==n},nearestPowerOfTwo:function(n){return Math.pow(2,Math.round(Math.log(n)/Math.LN2))},nextPowerOfTwo:function(n){return n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n++,n}};THREE.Spline=function(n){function l(n,t,i,r,u,f,e){return n=.5*(i-n),r=.5*(r-t),(2*(t-i)+n+r)*e+(-3*(t-i)-2*n-r)*f+n*u+t}this.points=n;var i=[],f={x:0,y:0,z:0},a,t,r,u,e,o,s,h,c;this.initFromArray=function(n){this.points=[];for(var t=0;t<n.length;t++)this.points[t]={x:n[t][0],y:n[t][1],z:n[t][2]}};this.getPoint=function(n){return a=(this.points.length-1)*n,t=Math.floor(a),r=a-t,i[0]=0===t?t:t-1,i[1]=t,i[2]=t>this.points.length-2?this.points.length-1:t+1,i[3]=t>this.points.length-3?this.points.length-1:t+2,o=this.points[i[0]],s=this.points[i[1]],h=this.points[i[2]],c=this.points[i[3]],u=r*r,e=r*u,f.x=l(o.x,s.x,h.x,c.x,r,u,e),f.y=l(o.y,s.y,h.y,c.y,r,u,e),f.z=l(o.z,s.z,h.z,c.z,r,u,e),f};this.getControlPointsArray=function(){for(var t,r=this.points.length,i=[],n=0;n<r;n++)t=this.points[n],i[n]=[t.x,t.y,t.z];return i};this.getLength=function(n){var t,u,f,o=t=t=0,e=new THREE.Vector3,s=new THREE.Vector3,i=[],r=0;for(i[0]=0,n||(n=100),u=this.points.length*n,e.copy(this.points[0]),n=1;n<u;n++)t=n/u,f=this.getPoint(t),s.copy(f),r+=s.distanceTo(e),e.copy(f),t*=this.points.length-1,t=Math.floor(t),t!==o&&(i[t]=r,o=t);return i[i.length]=r,{chunks:i,total:r}};this.reparametrizeByArcLength=function(n){var t,i,r,f,h,e,u=[],o=new THREE.Vector3,s=this.getLength();for(u.push(o.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(i=s.chunks[t]-s.chunks[t-1],e=Math.ceil(n*i/s.total),f=(t-1)/(this.points.length-1),h=t/(this.points.length-1),i=1;i<e-1;i++)r=f+1/e*i*(h-f),r=this.getPoint(r),u.push(o.copy(r).clone());u.push(o.copy(this.points[t]).clone())}this.points=u}};THREE.Triangle=function(n,t,i){this.a=void 0!==n?n:new THREE.Vector3;this.b=void 0!==t?t:new THREE.Vector3;this.c=void 0!==i?i:new THREE.Vector3};THREE.Triangle.normal=function(){var n=new THREE.Vector3;return function(t,i,r,u){return u=u||new THREE.Vector3,u.subVectors(r,i),n.subVectors(t,i),u.cross(n),t=u.lengthSq(),0<t?u.multiplyScalar(1/Math.sqrt(t)):u.set(0,0,0)}}();THREE.Triangle.barycoordFromPoint=function(){var n=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3;return function(r,u,f,e,o){var s,h;return(n.subVectors(e,u),t.subVectors(f,u),i.subVectors(r,u),r=n.dot(n),u=n.dot(t),f=n.dot(i),s=t.dot(t),e=t.dot(i),h=r*s-u*u,o=o||new THREE.Vector3,0===h)?o.set(-2,-1,-1):(h=1/h,s=(s*f-u*e)*h,r=(r*e-u*f)*h,o.set(1-s-r,r,s))}}();THREE.Triangle.containsPoint=function(){var n=new THREE.Vector3;return function(t,i,r,u){return t=THREE.Triangle.barycoordFromPoint(t,i,r,u,n),0<=t.x&&0<=t.y&&1>=t.x+t.y}}();THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(n,t,i){return this.a.copy(n),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(n,t,i,r){return this.a.copy(n[t]),this.b.copy(n[i]),this.c.copy(n[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this},area:function(){var n=new THREE.Vector3,t=new THREE.Vector3;return function(){return n.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*n.cross(t).length()}}(),midpoint:function(n){return(n||new THREE.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(n){return THREE.Triangle.normal(this.a,this.b,this.c,n)},plane:function(n){return(n||new THREE.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(n,t){return THREE.Triangle.barycoordFromPoint(n,this.a,this.b,this.c,t)},containsPoint:function(n){return THREE.Triangle.containsPoint(n,this.a,this.b,this.c)},closestPointToPoint:function(){var i,n,t,r;return function(u,f){var e,s,o,h;if(void 0===i&&(i=new THREE.Plane,n=[new THREE.Line3,new THREE.Line3,new THREE.Line3],t=new THREE.Vector3,r=new THREE.Vector3),e=f||new THREE.Vector3,s=Infinity,i.setFromCoplanarPoints(this.a,this.b,this.c),i.projectPoint(u,t),!0===this.containsPoint(t))e.copy(t);else for(n[0].set(this.a,this.b),n[1].set(this.b,this.c),n[2].set(this.c,this.a),o=0;o<n.length;o++)n[o].closestPointToPoint(t,!0,r),h=t.distanceToSquared(r),h<s&&(s=h,e.copy(r));return e}}(),equals:function(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}};THREE.Interpolant=function(n,t,i,r){this.parameterPositions=n;this._cachedIndex=0;this.resultBuffer=void 0!==r?r:new t.constructor(i);this.sampleValues=t;this.valueSize=i};THREE.Interpolant.prototype={constructor:THREE.Interpolant,evaluate:function(n){var u=this.parameterPositions,t=this._cachedIndex,r=u[t],i=u[t-1],f;n:{t:{i:{r:if(!(n<r)){for(f=t+2;;){if(void 0===r){if(n<i)break r;return this._cachedIndex=t=u.length,this.afterEnd_(t-1,n,i)}if(t===f)break;if(i=r,r=u[++t],n<r)break t}r=u.length;break i}if(n>=i)break n;else{for(f=u[1],n<f&&(t=2,i=f),f=t-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,n,r);if(t===f)break;if(r=i,i=u[--t-1],n>=i)break t}r=t;t=0}}for(;t<r;)i=t+r>>>1,n<u[i]?r=i:t=i+1;if(r=u[t],i=u[t-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,n,r);if(void 0===r)return this._cachedIndex=t=u.length,this.afterEnd_(t-1,i,n)}this._cachedIndex=t;this.intervalChanged_(t,i,r)}return this.interpolate_(t,i,n,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(n){var i=this.resultBuffer,u=this.sampleValues,r=this.valueSize,t;for(n*=r,t=0;t!==r;++t)i[t]=u[n+t];return i},interpolate_:function(){throw Error("call to abstract method");},intervalChanged_:function(){}};Object.assign(THREE.Interpolant.prototype,{beforeStart_:THREE.Interpolant.prototype.copySampleValue_,afterEnd_:THREE.Interpolant.prototype.copySampleValue_});THREE.CubicInterpolant=function(n,t,i,r){THREE.Interpolant.call(this,n,t,i,r);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0};THREE.CubicInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.CubicInterpolant,DefaultSettings_:{endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding},intervalChanged_:function(n,t,i){var r=this.parameterPositions,u=n-2,f=n+1,e=r[u],o=r[f];if(void 0===e)switch(this.getSettings_().endingStart){case THREE.ZeroSlopeEnding:u=n;e=2*t-i;break;case THREE.WrapAroundEnding:u=r.length-2;e=t+r[u]-r[u+1];break;default:u=n;e=i}if(void 0===o)switch(this.getSettings_().endingEnd){case THREE.ZeroSlopeEnding:f=n;o=2*i-t;break;case THREE.WrapAroundEnding:f=1;o=i+r[1]-r[0];break;default:f=n-1;o=t}n=.5*(i-t);r=this.valueSize;this._weightPrev=n/(t-e);this._weightNext=n/(o-i);this._offsetPrev=u*r;this._offsetNext=f*r},interpolate_:function(n,t,i,r){var h=this.resultBuffer,o=this.sampleValues,s=this.valueSize;n*=s;var c=n-s,l=this._offsetPrev,a=this._offsetNext,u=this._weightPrev,e=this._weightNext,f=(i-t)/(r-t);for(i=f*f,r=i*f,t=-u*r+2*u*i-u*f,u=(1+u)*r+(-1.5-2*u)*i+(-.5+u)*f+1,f=(-1-e)*r+(1.5+e)*i+.5*f,e=e*r-e*i,i=0;i!==s;++i)h[i]=t*o[l+i]+u*o[c+i]+f*o[n+i]+e*o[a+i];return h}});THREE.DiscreteInterpolant=function(n,t,i,r){THREE.Interpolant.call(this,n,t,i,r)};THREE.DiscreteInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.DiscreteInterpolant,interpolate_:function(n){return this.copySampleValue_(n-1)}});THREE.LinearInterpolant=function(n,t,i,r){THREE.Interpolant.call(this,n,t,i,r)};THREE.LinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.LinearInterpolant,interpolate_:function(n,t,i,r){var f=this.resultBuffer,e=this.sampleValues,u=this.valueSize,o;for(n*=u,o=n-u,t=(i-t)/(r-t),i=1-t,r=0;r!==u;++r)f[r]=e[o+r]*i+e[n+r]*t;return f}});THREE.QuaternionLinearInterpolant=function(n,t,i,r){THREE.Interpolant.call(this,n,t,i,r)};THREE.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(THREE.Interpolant.prototype),{constructor:THREE.QuaternionLinearInterpolant,interpolate_:function(n,t,i,r){var f=this.resultBuffer,e=this.sampleValues,u=this.valueSize;for(n*=u,t=(i-t)/(r-t),i=n+u;n!==i;n+=4)THREE.Quaternion.slerpFlat(f,0,e,n-u,e,n,t);return f}});THREE.Clock=function(n){this.autoStart=void 0!==n?n:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.oldTime=this.startTime=(performance||Date).now();this.running=!0},stop:function(){this.getElapsedTime();this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var n=0,t;return this.autoStart&&!this.running&&this.start(),this.running&&(t=(performance||Date).now(),n=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=n),n}};THREE.EventDispatcher=function(){};Object.assign(THREE.EventDispatcher.prototype,{addEventListener:function(n,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[n]&&(i[n]=[]);-1===i[n].indexOf(t)&&i[n].push(t)},hasEventListener:function(n,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[n]&&-1!==i[n].indexOf(t)?!0:!1},removeEventListener:function(n,t){var i,r;void 0!==this._listeners&&(i=this._listeners[n],void 0!==i&&(r=i.indexOf(t),-1!==r&&i.splice(r,1)))},dispatchEvent:function(n){var i;if(void 0!==this._listeners&&(i=this._listeners[n.type],void 0!==i)){n.target=this;for(var r=[],t=0,u=i.length,t=0;t<u;t++)r[t]=i[t];for(t=0;t<u;t++)r[t].call(this,n)}}});THREE.Layers=function(){this.mask=1};THREE.Layers.prototype={constructor:THREE.Layers,set:function(n){this.mask=1<<n},enable:function(n){this.mask|=1<<n},toggle:function(n){this.mask^=1<<n},disable:function(n){this.mask&=~(1<<n)},test:function(n){return 0!=(this.mask&n.mask)}},function(n){function i(n,t){return n.distance-t.distance}function t(n,i,r,u){if(!1!==n.visible&&(n.raycast(i,r),!0===u)){n=n.children;u=0;for(var f=n.length;u<f;u++)t(n[u],i,r,!0)}}n.Raycaster=function(t,i,r,u){this.ray=new n.Ray(t,i);this.near=r||0;this.far=u||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})};n.Raycaster.prototype={constructor:n.Raycaster,linePrecision:1,set:function(n,t){this.ray.set(n,t)},setFromCamera:function(t,i){i instanceof n.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(i).sub(this.ray.origin).normalize()):i instanceof n.OrthographicCamera?(this.ray.origin.set(t.x,t.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(n,r){var u=[];return t(n,this,u,r),u.sort(i),u},intersectObjects:function(n,r){var u=[],f,e;if(!1===Array.isArray(n))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),u;for(f=0,e=n.length;f<e;f++)t(n[f],this,u,r);return u.sort(i),u}}}(THREE);THREE.Object3D=function(){Object.defineProperty(this,"id",{value:THREE.Object3DIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=THREE.Object3D.DefaultUp.clone();var i=new THREE.Vector3,n=new THREE.Euler,t=new THREE.Quaternion,r=new THREE.Vector3(1,1,1);n.onChange(function(){t.setFromEuler(n,!1)});t.onChange(function(){n.setFromQuaternion(t,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:i},rotation:{enumerable:!0,value:n},quaternion:{enumerable:!0,value:t},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new THREE.Matrix4},normalMatrix:{value:new THREE.Matrix3}});this.matrix=new THREE.Matrix4;this.matrixWorld=new THREE.Matrix4;this.matrixAutoUpdate=THREE.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new THREE.Layers;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0);THREE.Object3D.DefaultMatrixAutoUpdate=!0;Object.assign(THREE.Object3D.prototype,THREE.EventDispatcher.prototype,{applyMatrix:function(n){this.matrix.multiplyMatrices(n,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(n,t){this.quaternion.setFromAxisAngle(n,t)},setRotationFromEuler:function(n){this.quaternion.setFromEuler(n,!0)},setRotationFromMatrix:function(n){this.quaternion.setFromRotationMatrix(n)},setRotationFromQuaternion:function(n){this.quaternion.copy(n)},rotateOnAxis:function(){var n=new THREE.Quaternion;return function(t,i){return n.setFromAxisAngle(t,i),this.quaternion.multiply(n),this}}(),rotateX:function(){var n=new THREE.Vector3(1,0,0);return function(t){return this.rotateOnAxis(n,t)}}(),rotateY:function(){var n=new THREE.Vector3(0,1,0);return function(t){return this.rotateOnAxis(n,t)}}(),rotateZ:function(){var n=new THREE.Vector3(0,0,1);return function(t){return this.rotateOnAxis(n,t)}}(),translateOnAxis:function(){var n=new THREE.Vector3;return function(t,i){return n.copy(t).applyQuaternion(this.quaternion),this.position.add(n.multiplyScalar(i)),this}}(),translateX:function(){var n=new THREE.Vector3(1,0,0);return function(t){return this.translateOnAxis(n,t)}}(),translateY:function(){var n=new THREE.Vector3(0,1,0);return function(t){return this.translateOnAxis(n,t)}}(),translateZ:function(){var n=new THREE.Vector3(0,0,1);return function(t){return this.translateOnAxis(n,t)}}(),localToWorld:function(n){return n.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var n=new THREE.Matrix4;return function(t){return t.applyMatrix4(n.getInverse(this.matrixWorld))}}(),lookAt:function(){var n=new THREE.Matrix4;return function(t){n.lookAt(t,this.position,this.up);this.quaternion.setFromRotationMatrix(n)}}(),add:function(n){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return n===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",n),this):(n instanceof THREE.Object3D?(null!==n.parent&&n.parent.remove(n),n.parent=this,n.dispatchEvent({type:"added"}),this.children.push(n)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n),this)},remove:function(n){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);t=this.children.indexOf(n);-1!==t&&(n.parent=null,n.dispatchEvent({type:"removed"}),this.children.splice(t,1))},getObjectById:function(n){return this.getObjectByProperty("id",n)},getObjectByName:function(n){return this.getObjectByProperty("name",n)},getObjectByProperty:function(n,t){var i,u,r;if(this[n]===t)return this;for(i=0,u=this.children.length;i<u;i++)if(r=this.children[i].getObjectByProperty(n,t),void 0!==r)return r},getWorldPosition:function(n){return n=n||new THREE.Vector3,this.updateMatrixWorld(!0),n.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var n=new THREE.Vector3,t=new THREE.Vector3;return function(i){return i=i||new THREE.Quaternion,this.updateMatrixWorld(!0),this.matrixWorld.decompose(n,i,t),i}}(),getWorldRotation:function(){var n=new THREE.Quaternion;return function(t){return t=t||new THREE.Euler,this.getWorldQuaternion(n),t.setFromQuaternion(n,this.rotation.order,!1)}}(),getWorldScale:function(){var n=new THREE.Vector3,t=new THREE.Quaternion;return function(i){return i=i||new THREE.Vector3,this.updateMatrixWorld(!0),this.matrixWorld.decompose(n,t,i),i}}(),getWorldDirection:function(){var n=new THREE.Quaternion;return function(t){return t=t||new THREE.Vector3,this.getWorldQuaternion(n),t.set(0,0,1).applyQuaternion(n)}}(),raycast:function(){},traverse:function(n){n(this);for(var i=this.children,t=0,r=i.length;t<r;t++)i[t].traverse(n)},traverseVisible:function(n){if(!1!==this.visible){n(this);for(var i=this.children,t=0,r=i.length;t<r;t++)i[t].traverseVisible(n)}},traverseAncestors:function(n){var t=this.parent;null!==t&&(n(t),t.traverseAncestors(n))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(n){!0===this.matrixAutoUpdate&&this.updateMatrix();(!0===this.matrixWorldNeedsUpdate||!0===n)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,n=!0);for(var t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(n)},toJSON:function(n){function u(n){var i=[],r,t;for(r in n)t=n[r],delete t.metadata,i.push(t);return i}var f=void 0===n||""===n,i={},t,r;if(f&&(n={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"}),t={},t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),"{}"!==JSON.stringify(this.userData)&&(t.userData=this.userData),!0===this.castShadow&&(t.castShadow=!0),!0===this.receiveShadow&&(t.receiveShadow=!0),!1===this.visible&&(t.visible=!1),t.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===n.geometries[this.geometry.uuid]&&(n.geometries[this.geometry.uuid]=this.geometry.toJSON(n)),t.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===n.materials[this.material.uuid]&&(n.materials[this.material.uuid]=this.material.toJSON(n)),t.material=this.material.uuid),0<this.children.length)for(t.children=[],r=0;r<this.children.length;r++)t.children.push(this.children[r].toJSON(n).object);if(f){var f=u(n.geometries),r=u(n.materials),e=u(n.textures);n=u(n.images);0<f.length&&(i.geometries=f);0<r.length&&(i.materials=r);0<e.length&&(i.textures=e);0<n.length&&(i.images=n)}return i.object=t,i},clone:function(n){return(new this.constructor).copy(this,n)},copy:function(n,t){if(void 0===t&&(t=!0),this.name=n.name,this.up.copy(n.up),this.position.copy(n.position),this.quaternion.copy(n.quaternion),this.scale.copy(n.scale),this.matrix.copy(n.matrix),this.matrixWorld.copy(n.matrixWorld),this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrixWorldNeedsUpdate=n.matrixWorldNeedsUpdate,this.visible=n.visible,this.castShadow=n.castShadow,this.receiveShadow=n.receiveShadow,this.frustumCulled=n.frustumCulled,this.renderOrder=n.renderOrder,this.userData=JSON.parse(JSON.stringify(n.userData)),!0===t)for(var i=0;i<n.children.length;i++)this.add(n.children[i].clone());return this}});THREE.Object3DIdCount=0;THREE.Face3=function(n,t,i,r,u,f){this.a=n;this.b=t;this.c=i;this.normal=r instanceof THREE.Vector3?r:new THREE.Vector3;this.vertexNormals=Array.isArray(r)?r:[];this.color=u instanceof THREE.Color?u:new THREE.Color;this.vertexColors=Array.isArray(u)?u:[];this.materialIndex=void 0!==f?f:0};THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(n){this.a=n.a;this.b=n.b;this.c=n.c;this.normal.copy(n.normal);this.color.copy(n.color);this.materialIndex=n.materialIndex;for(var t=0,i=n.vertexNormals.length;t<i;t++)this.vertexNormals[t]=n.vertexNormals[t].clone();for(t=0,i=n.vertexColors.length;t<i;t++)this.vertexColors[t]=n.vertexColors[t].clone();return this}};THREE.BufferAttribute=function(n,t,i){this.uuid=THREE.Math.generateUUID();this.array=n;this.itemSize=t;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=!0===i};THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(n){!0===n&&this.version++},setDynamic:function(n){return this.dynamic=n,this},copy:function(n){return this.array=new n.array.constructor(n.array),this.itemSize=n.itemSize,this.dynamic=n.dynamic,this},copyAt:function(n,t,i){n*=this.itemSize;i*=t.itemSize;for(var r=0,u=this.itemSize;r<u;r++)this.array[n+r]=t.array[i+r];return this},copyArray:function(n){return this.array.set(n),this},copyColorsArray:function(n){for(var t,r=this.array,u=0,i=0,f=n.length;i<f;i++)t=n[i],void 0===t&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),t=new THREE.Color),r[u++]=t.r,r[u++]=t.g,r[u++]=t.b;return this},copyIndicesArray:function(n){for(var t,i=this.array,r=0,u=0,f=n.length;u<f;u++)t=n[u],i[r++]=t.a,i[r++]=t.b,i[r++]=t.c;return this},copyVector2sArray:function(n){for(var t,r=this.array,u=0,i=0,f=n.length;i<f;i++)t=n[i],void 0===t&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),t=new THREE.Vector2),r[u++]=t.x,r[u++]=t.y;return this},copyVector3sArray:function(n){for(var t,r=this.array,u=0,i=0,f=n.length;i<f;i++)t=n[i],void 0===t&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),t=new THREE.Vector3),r[u++]=t.x,r[u++]=t.y,r[u++]=t.z;return this},copyVector4sArray:function(n){for(var t,i=this.array,r=0,u=0,f=n.length;u<f;u++)t=n[u],void 0===t&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",u),t=new THREE.Vector4),i[r++]=t.x,i[r++]=t.y,i[r++]=t.z,i[r++]=t.w;return this},set:function(n,t){return void 0===t&&(t=0),this.array.set(n,t),this},getX:function(n){return this.array[n*this.itemSize]},setX:function(n,t){return this.array[n*this.itemSize]=t,this},getY:function(n){return this.array[n*this.itemSize+1]},setY:function(n,t){return this.array[n*this.itemSize+1]=t,this},getZ:function(n){return this.array[n*this.itemSize+2]},setZ:function(n,t){return this.array[n*this.itemSize+2]=t,this},getW:function(n){return this.array[n*this.itemSize+3]},setW:function(n,t){return this.array[n*this.itemSize+3]=t,this},setXY:function(n,t,i){return n*=this.itemSize,this.array[n+0]=t,this.array[n+1]=i,this},setXYZ:function(n,t,i,r){return n*=this.itemSize,this.array[n+0]=t,this.array[n+1]=i,this.array[n+2]=r,this},setXYZW:function(n,t,i,r,u){return n*=this.itemSize,this.array[n+0]=t,this.array[n+1]=i,this.array[n+2]=r,this.array[n+3]=u,this},clone:function(){return(new this.constructor).copy(this)}};THREE.Int8Attribute=function(n,t){return new THREE.BufferAttribute(new Int8Array(n),t)};THREE.Uint8Attribute=function(n,t){return new THREE.BufferAttribute(new Uint8Array(n),t)};THREE.Uint8ClampedAttribute=function(n,t){return new THREE.BufferAttribute(new Uint8ClampedArray(n),t)};THREE.Int16Attribute=function(n,t){return new THREE.BufferAttribute(new Int16Array(n),t)};THREE.Uint16Attribute=function(n,t){return new THREE.BufferAttribute(new Uint16Array(n),t)};THREE.Int32Attribute=function(n,t){return new THREE.BufferAttribute(new Int32Array(n),t)};THREE.Uint32Attribute=function(n,t){return new THREE.BufferAttribute(new Uint32Array(n),t)};THREE.Float32Attribute=function(n,t){return new THREE.BufferAttribute(new Float32Array(n),t)};THREE.Float64Attribute=function(n,t){return new THREE.BufferAttribute(new Float64Array(n),t)};THREE.DynamicBufferAttribute=function(n,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new THREE.BufferAttribute(n,t).setDynamic(!0)};THREE.InstancedBufferAttribute=function(n,t,i){THREE.BufferAttribute.call(this,n,t);this.meshPerAttribute=i||1};THREE.InstancedBufferAttribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.InstancedBufferAttribute.prototype.constructor=THREE.InstancedBufferAttribute;THREE.InstancedBufferAttribute.prototype.copy=function(n){return THREE.BufferAttribute.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this};THREE.InterleavedBuffer=function(n,t){this.uuid=THREE.Math.generateUUID();this.array=n;this.stride=t;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0};THREE.InterleavedBuffer.prototype={constructor:THREE.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(n){!0===n&&this.version++},setDynamic:function(n){return this.dynamic=n,this},copy:function(n){return this.array=new n.array.constructor(n.array),this.stride=n.stride,this.dynamic=n.dynamic,this},copyAt:function(n,t,i){n*=this.stride;i*=t.stride;for(var r=0,u=this.stride;r<u;r++)this.array[n+r]=t.array[i+r];return this},set:function(n,t){return void 0===t&&(t=0),this.array.set(n,t),this},clone:function(){return(new this.constructor).copy(this)}};THREE.InstancedInterleavedBuffer=function(n,t,i){THREE.InterleavedBuffer.call(this,n,t);this.meshPerAttribute=i||1};THREE.InstancedInterleavedBuffer.prototype=Object.create(THREE.InterleavedBuffer.prototype);THREE.InstancedInterleavedBuffer.prototype.constructor=THREE.InstancedInterleavedBuffer;THREE.InstancedInterleavedBuffer.prototype.copy=function(n){return THREE.InterleavedBuffer.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this};THREE.InterleavedBufferAttribute=function(n,t,i,r){this.uuid=THREE.Math.generateUUID();this.data=n;this.itemSize=t;this.offset=i;this.normalized=!0===r};THREE.InterleavedBufferAttribute.prototype={constructor:THREE.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.count},get array(){return this.data.array},setX:function(n,t){return this.data.array[n*this.data.stride+this.offset]=t,this},setY:function(n,t){return this.data.array[n*this.data.stride+this.offset+1]=t,this},setZ:function(n,t){return this.data.array[n*this.data.stride+this.offset+2]=t,this},setW:function(n,t){return this.data.array[n*this.data.stride+this.offset+3]=t,this},getX:function(n){return this.data.array[n*this.data.stride+this.offset]},getY:function(n){return this.data.array[n*this.data.stride+this.offset+1]},getZ:function(n){return this.data.array[n*this.data.stride+this.offset+2]},getW:function(n){return this.data.array[n*this.data.stride+this.offset+3]},setXY:function(n,t,i){return n=n*this.data.stride+this.offset,this.data.array[n+0]=t,this.data.array[n+1]=i,this},setXYZ:function(n,t,i,r){return n=n*this.data.stride+this.offset,this.data.array[n+0]=t,this.data.array[n+1]=i,this.data.array[n+2]=r,this},setXYZW:function(n,t,i,r,u){return n=n*this.data.stride+this.offset,this.data.array[n+0]=t,this.data.array[n+1]=i,this.data.array[n+2]=r,this.data.array[n+3]=u,this}};THREE.Geometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1};Object.assign(THREE.Geometry.prototype,THREE.EventDispatcher.prototype,{applyMatrix:function(n){for(var i,f,u=(new THREE.Matrix3).getNormalMatrix(n),t=0,r=this.vertices.length;t<r;t++)this.vertices[t].applyMatrix4(n);for(t=0,r=this.faces.length;t<r;t++)for(n=this.faces[t],n.normal.applyMatrix3(u).normalize(),i=0,f=n.vertexNormals.length;i<f;i++)n.vertexNormals[i].applyMatrix3(u).normalize();return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(){var n;return function(t){return void 0===n&&(n=new THREE.Matrix4),n.makeRotationX(t),this.applyMatrix(n),this}}(),rotateY:function(){var n;return function(t){return void 0===n&&(n=new THREE.Matrix4),n.makeRotationY(t),this.applyMatrix(n),this}}(),rotateZ:function(){var n;return function(t){return void 0===n&&(n=new THREE.Matrix4),n.makeRotationZ(t),this.applyMatrix(n),this}}(),translate:function(){var n;return function(t,i,r){return void 0===n&&(n=new THREE.Matrix4),n.makeTranslation(t,i,r),this.applyMatrix(n),this}}(),scale:function(){var n;return function(t,i,r){return void 0===n&&(n=new THREE.Matrix4),n.makeScale(t,i,r),this.applyMatrix(n),this}}(),lookAt:function(){var n;return function(t){void 0===n&&(n=new THREE.Object3D);n.lookAt(t);n.updateMatrix();this.applyMatrix(n.matrix)}}(),fromBufferGeometry:function(n){function v(n,t,i,r){var f=void 0!==e?[c[n].clone(),c[t].clone(),c[i].clone()]:[],v=void 0!==o?[u.colors[n].clone(),u.colors[t].clone(),u.colors[i].clone()]:[];r=new THREE.Face3(n,t,i,f,v,r);u.faces.push(r);void 0!==h&&u.faceVertexUvs[0].push([l[n].clone(),l[t].clone(),l[i].clone()]);void 0!==s&&u.faceVertexUvs[1].push([a[n].clone(),a[t].clone(),a[i].clone()])}var u=this,f=null!==n.index?n.index.array:void 0,t=n.attributes,r=t.position.array,e=void 0!==t.normal?t.normal.array:void 0,o=void 0!==t.color?t.color.array:void 0,h=void 0!==t.uv?t.uv.array:void 0,s=void 0!==t.uv2?t.uv2.array:void 0;void 0!==s&&(this.faceVertexUvs[1]=[]);for(var c=[],l=[],a=[],i=t=0;t<r.length;t+=3,i+=2)u.vertices.push(new THREE.Vector3(r[t],r[t+1],r[t+2])),void 0!==e&&c.push(new THREE.Vector3(e[t],e[t+1],e[t+2])),void 0!==o&&u.colors.push(new THREE.Color(o[t],o[t+1],o[t+2])),void 0!==h&&l.push(new THREE.Vector2(h[i],h[i+1])),void 0!==s&&a.push(new THREE.Vector2(s[i],s[i+1]));if(void 0!==f)if(r=n.groups,0<r.length)for(t=0;t<r.length;t++)for(var y=r[t],p=y.start,w=y.count,i=p,p=p+w;i<p;i+=3)v(f[i],f[i+1],f[i+2],y.materialIndex);else for(t=0;t<f.length;t+=3)v(f[t],f[t+1],f[t+2]);else for(t=0;t<r.length/3;t+=3)v(t,t+1,t+2);return this.computeFaceNormals(),null!==n.boundingBox&&(this.boundingBox=n.boundingBox.clone()),null!==n.boundingSphere&&(this.boundingSphere=n.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var n=this.boundingBox.center().negate();return this.translate(n.x,n.y,n.z),n},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,n=this.boundingSphere.radius,n=0===n?1:1/n,i=new THREE.Matrix4;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var n=new THREE.Vector3,r=new THREE.Vector3,i=0,f=this.faces.length;i<f;i++){var t=this.faces[i],e=this.vertices[t.a],u=this.vertices[t.b];n.subVectors(this.vertices[t.c],u);r.subVectors(e,u);n.cross(r);n.normalize();t.normal.copy(n)}},computeVertexNormals:function(n){var r,t,i,u,e,s,f,o;for(void 0===n&&(n=!0),i=Array(this.vertices.length),r=0,t=this.vertices.length;r<t;r++)i[r]=new THREE.Vector3;if(n)for(f=new THREE.Vector3,o=new THREE.Vector3,n=0,r=this.faces.length;n<r;n++)t=this.faces[n],u=this.vertices[t.a],e=this.vertices[t.b],s=this.vertices[t.c],f.subVectors(s,e),o.subVectors(u,e),f.cross(o),i[t.a].add(f),i[t.b].add(f),i[t.c].add(f);else for(n=0,r=this.faces.length;n<r;n++)t=this.faces[n],i[t.a].add(t.normal),i[t.b].add(t.normal),i[t.c].add(t.normal);for(r=0,t=this.vertices.length;r<t;r++)i[r].normalize();for(n=0,r=this.faces.length;n<r;n++)t=this.faces[n],u=t.vertexNormals,3===u.length?(u[0].copy(i[t.a]),u[1].copy(i[t.b]),u[2].copy(i[t.c])):(u[0]=i[t.a].clone(),u[1]=i[t.b].clone(),u[2]=i[t.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var t,o,n,f,e,s,u,i=0,r=this.faces.length;i<r;i++)for(n=this.faces[i],n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),t=0,o=n.vertexNormals.length;t<o;t++)n.__originalVertexNormals[t]?n.__originalVertexNormals[t].copy(n.vertexNormals[t]):n.__originalVertexNormals[t]=n.vertexNormals[t].clone();for(f=new THREE.Geometry,f.faces=this.faces,t=0,o=this.morphTargets.length;t<o;t++){if(!this.morphNormals[t])for(this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[],n=this.morphNormals[t].faceNormals,e=this.morphNormals[t].vertexNormals,i=0,r=this.faces.length;i<r;i++)s=new THREE.Vector3,u={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},n.push(s),e.push(u);for(e=this.morphNormals[t],f.vertices=this.morphTargets[t].vertices,f.computeFaceNormals(),f.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],s=e.faceNormals[i],u=e.vertexNormals[i],s.copy(n.normal),u.a.copy(n.vertexNormals[0]),u.b.copy(n.vertexNormals[1]),u.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)n=this.faces[i],n.normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var i=0,t=this.vertices,n=0,r=t.length;n<r;n++)0<n&&(i+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=i},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);this.boundingSphere.setFromPoints(this.vertices)},merge:function(n,t,i){var r,s,f;if(!1==n instanceof THREE.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",n);else{var e,c=this.vertices.length,o=this.vertices,u=n.vertices,y=this.faces,l=n.faces,p=this.faceVertexUvs[0];for(n=n.faceVertexUvs[0],void 0===i&&(i=0),void 0!==t&&(e=(new THREE.Matrix3).getNormalMatrix(t)),r=0,s=u.length;r<s;r++)f=u[r].clone(),void 0!==t&&f.applyMatrix4(t),o.push(f);for(r=0,s=l.length;r<s;r++){var u=l[r],h,a=u.vertexNormals,v=u.vertexColors,f=new THREE.Face3(u.a+c,u.b+c,u.c+c);for(f.normal.copy(u.normal),void 0!==e&&f.normal.applyMatrix3(e).normalize(),t=0,o=a.length;t<o;t++)h=a[t].clone(),void 0!==e&&h.applyMatrix3(e).normalize(),f.vertexNormals.push(h);for(f.color.copy(u.color),t=0,o=v.length;t<o;t++)h=v[t],f.vertexColors.push(h.clone());f.materialIndex=u.materialIndex+i;y.push(f)}for(r=0,s=n.length;r<s;r++)if(i=n[r],e=[],void 0!==i){for(t=0,o=i.length;t<o;t++)e.push(i[t].clone());p.push(e)}}},mergeMesh:function(n){!1==n instanceof THREE.Mesh?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",n):(n.matrixAutoUpdate&&n.updateMatrix(),this.merge(n.geometry,n.matrix))},mergeVertices:function(){for(var u={},e=[],r=[],i,n=Math.pow(10,4),t=0,f=this.vertices.length;t<f;t++)i=this.vertices[t],i=Math.round(i.x*n)+"_"+Math.round(i.y*n)+"_"+Math.round(i.z*n),void 0===u[i]?(u[i]=t,e.push(this.vertices[t]),r[t]=e.length-1):r[t]=r[u[i]];for(u=[],t=0,f=this.faces.length;t<f;t++)for(n=this.faces[t],n.a=r[n.a],n.b=r[n.b],n.c=r[n.c],n=[n.a,n.b,n.c],i=0;3>i;i++)if(n[i]===n[(i+1)%3]){u.push(t);break}for(t=u.length-1;0<=t;t--)for(n=u[t],this.faces.splice(n,1),r=0,f=this.faceVertexUvs.length;r<f;r++)this.faceVertexUvs[r].splice(n,1);return t=this.vertices.length-e.length,this.vertices=e,t},sortFacesByMaterialIndex:function(){for(var f,e,t,i,o,r=this.faces,u=r.length,n=0;n<u;n++)r[n]._id=n;for(r.sort(function(n,t){return n.materialIndex-t.materialIndex}),f=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f&&f.length===u&&(t=[]),e&&e.length===u&&(i=[]),n=0;n<u;n++)o=r[n]._id,t&&t.push(f[o]),i&&i.push(e[o]);t&&(this.faceVertexUvs[0]=t);i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function f(n,t,i){return i?n|1<<t:n&~(1<<t)}function h(n){var t=n.x.toString()+n.y.toString()+n.z.toString();return void 0!==l[t]?l[t]:(l[t]=b.length/3,b.push(n.x,n.y,n.z),l[t])}function c(n){var t=n.r.toString()+n.g.toString()+n.b.toString();return void 0!==v[t]?v[t]:(v[t]=a.length,a.push(n.getHex()),v[t])}function w(n){var t=n.x.toString()+n.y.toString();return void 0!==p[t]?p[t]:(p[t]=y.length/2,y.push(n.x,n.y),p[t])}var r={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}},e,t,i;if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){e=this.parameters;for(t in e)void 0!==e[t]&&(r[t]=e[t]);return r}for(e=[],t=0;t<this.vertices.length;t++)i=this.vertices[t],e.push(i.x,i.y,i.z);var i=[],b=[],l={},a=[],v={},y=[],p={};for(t=0;t<this.faces.length;t++){var n=this.faces[t],o=void 0!==this.faceVertexUvs[0][t],s=0<n.normal.length(),k=0<n.vertexNormals.length,d=1!==n.color.r||1!==n.color.g||1!==n.color.b,g=0<n.vertexColors.length,u=0,u=f(u,0,0),u=f(u,1,!0),u=f(u,2,!1),u=f(u,3,o),u=f(u,4,s),u=f(u,5,k),u=f(u,6,d),u=f(u,7,g);i.push(u);i.push(n.a,n.b,n.c);i.push(n.materialIndex);o&&(o=this.faceVertexUvs[0][t],i.push(w(o[0]),w(o[1]),w(o[2])));s&&i.push(h(n.normal));k&&(s=n.vertexNormals,i.push(h(s[0]),h(s[1]),h(s[2])));d&&i.push(c(n.color));g&&(n=n.vertexColors,i.push(c(n[0]),c(n[1]),c(n[2])))}return r.data={},r.data.vertices=e,r.data.normals=b,0<a.length&&(r.data.colors=a),0<y.length&&(r.data.uvs=[y]),r.data.faces=i,r},clone:function(){return(new THREE.Geometry).copy(this)},copy:function(n){var u,e;this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];for(var i=n.vertices,t=0,r=i.length;t<r;t++)this.vertices.push(i[t].clone());for(i=n.faces,t=0,r=i.length;t<r;t++)this.faces.push(i[t].clone());for(t=0,r=n.faceVertexUvs.length;t<r;t++)for(i=n.faceVertexUvs[t],void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),u=0,e=i.length;u<e;u++){for(var o=i[u],s=[],f=0,h=o.length;f<h;f++)s.push(o[f].clone());this.faceVertexUvs[t].push(s)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});THREE.GeometryIdCount=0;THREE.DirectGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="DirectGeometry";this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};Object.assign(THREE.DirectGeometry.prototype,THREE.EventDispatcher.prototype,{computeBoundingBox:THREE.Geometry.prototype.computeBoundingBox,computeBoundingSphere:THREE.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(n){var t,r=[],u,i,f;for(n=n.faces,i=0;i<n.length;i++)f=n[i],f.materialIndex!==u&&(u=f.materialIndex,void 0!==t&&(t.count=3*i-t.start,r.push(t)),t={start:3*i,materialIndex:u});void 0!==t&&(t.count=3*i-t.start,r.push(t));this.groups=r},fromGeometry:function(n){var y=n.faces,e=n.vertices,f=n.faceVertexUvs,w=f[0]&&0<f[0].length,b=f[1]&&0<f[1].length,p=n.morphTargets,a=p.length,o,r,v,s,h,i,t,u;if(0<a){for(o=[],r=0;r<a;r++)o[r]=[];this.morphTargets.position=o}if(v=n.morphNormals,s=v.length,0<s){for(h=[],r=0;r<s;r++)h[r]=[];this.morphTargets.normal=h}for(var c=n.skinIndices,l=n.skinWeights,k=c.length===e.length,d=l.length===e.length,r=0;r<y.length;r++){for(i=y[r],this.vertices.push(e[i.a],e[i.b],e[i.c]),t=i.vertexNormals,3===t.length?this.normals.push(t[0],t[1],t[2]):(t=i.normal,this.normals.push(t,t,t)),t=i.vertexColors,3===t.length?this.colors.push(t[0],t[1],t[2]):(t=i.color,this.colors.push(t,t,t)),!0===w&&(t=f[0][r],void 0!==t?this.uvs.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",r),this.uvs.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2))),!0===b&&(t=f[1][r],void 0!==t?this.uvs2.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",r),this.uvs2.push(new THREE.Vector2,new THREE.Vector2,new THREE.Vector2))),t=0;t<a;t++)u=p[t].vertices,o[t].push(u[i.a],u[i.b],u[i.c]);for(t=0;t<s;t++)u=v[t].vertexNormals[r],h[t].push(u.a,u.b,u.c);k&&this.skinIndices.push(c[i.a],c[i.b],c[i.c]);d&&this.skinWeights.push(l[i.a],l[i.b],l[i.c])}return this.computeGroups(n),this.verticesNeedUpdate=n.verticesNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});THREE.BufferGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}};Object.assign(THREE.BufferGeometry.prototype,THREE.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(n){this.index=n},addAttribute:function(n,t,i){if(!1==t instanceof THREE.BufferAttribute&&!1==t instanceof THREE.InterleavedBufferAttribute)console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(n,new THREE.BufferAttribute(t,i));else if("index"===n)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t);else return this.attributes[n]=t,this},getAttribute:function(n){return this.attributes[n]},removeAttribute:function(n){return delete this.attributes[n],this},addGroup:function(n,t,i){this.groups.push({start:n,count:t,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(n,t){this.drawRange.start=n;this.drawRange.count=t},applyMatrix:function(n){var t=this.attributes.position;return void 0!==t&&(n.applyToVector3Array(t.array),t.needsUpdate=!0),t=this.attributes.normal,void 0!==t&&((new THREE.Matrix3).getNormalMatrix(n).applyToVector3Array(t.array),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var n;return function(t){return void 0===n&&(n=new THREE.Matrix4),n.makeRotationX(t),this.applyMatrix(n),this}}(),rotateY:function(){var n;return function(t){return void 0===n&&(n=new THREE.Matrix4),n.makeRotationY(t),this.applyMatrix(n),this}}(),rotateZ:function(){var n;return function(t){return void 0===n&&(n=new THREE.Matrix4),n.makeRotationZ(t),this.applyMatrix(n),this}}(),translate:function(){var n;return function(t,i,r){return void 0===n&&(n=new THREE.Matrix4),n.makeTranslation(t,i,r),this.applyMatrix(n),this}}(),scale:function(){var n;return function(t,i,r){return void 0===n&&(n=new THREE.Matrix4),n.makeScale(t,i,r),this.applyMatrix(n),this}}(),lookAt:function(){var n;return function(t){void 0===n&&(n=new THREE.Object3D);n.lookAt(t);n.updateMatrix();this.applyMatrix(n.matrix)}}(),center:function(){this.computeBoundingBox();var n=this.boundingBox.center().negate();return this.translate(n.x,n.y,n.z),n},setFromObject:function(n){var t=n.geometry,i;return n instanceof THREE.Points||n instanceof THREE.Line?(n=new THREE.Float32Attribute(3*t.vertices.length,3),i=new THREE.Float32Attribute(3*t.colors.length,3),this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length&&(n=new THREE.Float32Attribute(t.lineDistances.length,1),this.addAttribute("lineDistance",n.copyArray(t.lineDistances))),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())):n instanceof THREE.Mesh&&t instanceof THREE.Geometry&&this.fromGeometry(t),this},updateFromObject:function(n){var t=n.geometry,i;if(n instanceof THREE.Mesh){if(i=t.__directGeometry,void 0===i||!0===t.elementsNeedUpdate)return this.fromGeometry(t);i.verticesNeedUpdate=t.verticesNeedUpdate||t.elementsNeedUpdate;i.normalsNeedUpdate=t.normalsNeedUpdate||t.elementsNeedUpdate;i.colorsNeedUpdate=t.colorsNeedUpdate||t.elementsNeedUpdate;i.uvsNeedUpdate=t.uvsNeedUpdate||t.elementsNeedUpdate;i.groupsNeedUpdate=t.groupsNeedUpdate||t.elementsNeedUpdate;t.elementsNeedUpdate=!1;t.verticesNeedUpdate=!1;t.normalsNeedUpdate=!1;t.colorsNeedUpdate=!1;t.uvsNeedUpdate=!1;t.groupsNeedUpdate=!1;t=i}return!0===t.verticesNeedUpdate&&(i=this.attributes.position,void 0!==i&&(i.copyVector3sArray(t.vertices),i.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(i=this.attributes.normal,void 0!==i&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(i=this.attributes.color,void 0!==i&&(i.copyColorsArray(t.colors),i.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(i=this.attributes.uv,void 0!==i&&(i.copyVector2sArray(t.uvs),i.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(i=this.attributes.lineDistance,void 0!==i&&(i.copyArray(t.lineDistances),i.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(n.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(n){return n.__directGeometry=(new THREE.DirectGeometry).fromGeometry(n),this.fromDirectGeometry(n.__directGeometry)},fromDirectGeometry:function(n){var t=new Float32Array(3*n.vertices.length),i,u,e;this.addAttribute("position",new THREE.BufferAttribute(t,3).copyVector3sArray(n.vertices));0<n.normals.length&&(t=new Float32Array(3*n.normals.length),this.addAttribute("normal",new THREE.BufferAttribute(t,3).copyVector3sArray(n.normals)));0<n.colors.length&&(t=new Float32Array(3*n.colors.length),this.addAttribute("color",new THREE.BufferAttribute(t,3).copyColorsArray(n.colors)));0<n.uvs.length&&(t=new Float32Array(2*n.uvs.length),this.addAttribute("uv",new THREE.BufferAttribute(t,2).copyVector2sArray(n.uvs)));0<n.uvs2.length&&(t=new Float32Array(2*n.uvs2.length),this.addAttribute("uv2",new THREE.BufferAttribute(t,2).copyVector2sArray(n.uvs2)));0<n.indices.length&&(t=new(65535<n.vertices.length?Uint32Array:Uint16Array)(3*n.indices.length),this.setIndex(new THREE.BufferAttribute(t,1).copyIndicesArray(n.indices)));this.groups=n.groups;for(i in n.morphTargets){for(var t=[],f=n.morphTargets[i],r=0,o=f.length;r<o;r++)u=f[r],e=new THREE.Float32Attribute(3*u.length,3),t.push(e.copyVector3sArray(u));this.morphAttributes[i]=t}return 0<n.skinIndices.length&&(i=new THREE.Float32Attribute(4*n.skinIndices.length,4),this.addAttribute("skinIndex",i.copyVector4sArray(n.skinIndices))),0<n.skinWeights.length&&(i=new THREE.Float32Attribute(4*n.skinWeights.length,4),this.addAttribute("skinWeight",i.copyVector4sArray(n.skinWeights))),null!==n.boundingSphere&&(this.boundingSphere=n.boundingSphere.clone()),null!==n.boundingBox&&(this.boundingBox=n.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var n=this.attributes.position.array;void 0!==n?this.boundingBox.setFromArray(n):this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var n=new THREE.Box3,t=new THREE.Vector3;return function(){var i,r;if(null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),i=this.attributes.position,i){i=i.array;r=this.boundingSphere.center;n.setFromArray(i);n.center(r);for(var u=0,f=0,e=i.length;f<e;f+=3)t.fromArray(i,f),u=Math.max(u,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(u);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var u=this.index,o=this.attributes,p=this.groups,r,y,w;if(o.position){if(r=o.position.array,void 0===o.normal)this.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(r.length),3));else for(var i=o.normal.array,n=0,f=i.length;n<f;n++)i[n]=0;var i=o.normal.array,e,h,c,l=new THREE.Vector3,s=new THREE.Vector3,a=new THREE.Vector3,t=new THREE.Vector3,v=new THREE.Vector3;if(u)for(u=u.array,0===p.length&&this.addGroup(0,u.length),y=0,w=p.length;y<w;++y)for(n=p[y],f=n.start,e=n.count,n=f,f+=e;n<f;n+=3)e=3*u[n+0],h=3*u[n+1],c=3*u[n+2],l.fromArray(r,e),s.fromArray(r,h),a.fromArray(r,c),t.subVectors(a,s),v.subVectors(l,s),t.cross(v),i[e]+=t.x,i[e+1]+=t.y,i[e+2]+=t.z,i[h]+=t.x,i[h+1]+=t.y,i[h+2]+=t.z,i[c]+=t.x,i[c+1]+=t.y,i[c+2]+=t.z;else for(n=0,f=r.length;n<f;n+=9)l.fromArray(r,n),s.fromArray(r,n+3),a.fromArray(r,n+6),t.subVectors(a,s),v.subVectors(l,s),t.cross(v),i[n]=t.x,i[n+1]=t.y,i[n+2]=t.z,i[n+3]=t.x,i[n+4]=t.y,i[n+5]=t.z,i[n+6]=t.x,i[n+7]=t.y,i[n+8]=t.z;this.normalizeNormals();o.normal.needsUpdate=!0}},merge:function(n,t){var u,i;if(!1==n instanceof THREE.BufferGeometry)console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",n);else{void 0===t&&(t=0);u=this.attributes;for(i in u)if(void 0!==n.attributes[i])for(var o=u[i].array,r=n.attributes[i],e=r.array,f=0,r=r.itemSize*t;f<e.length;f++,r++)o[r]=e[f];return this}},normalizeNormals:function(){for(var t=this.attributes.normal.array,i,r,u,n=0,f=t.length;n<f;n+=3)i=t[n],r=t[n+1],u=t[n+2],i=1/Math.sqrt(i*i+r*r+u*u),t[n]*=i,t[n+1]*=i,t[n+2]*=i},toNonIndexed:function(){var h,r;if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var u=new THREE.BufferGeometry,t=this.index.array,f=this.attributes;for(var e in f){for(var n=f[e],o=n.array,n=n.itemSize,s=new o.constructor(t.length*n),h=0,c=0,i=0,l=t.length;i<l;i++)for(h=t[i]*n,r=0;r<n;r++)s[c++]=o[h++];u.addAttribute(e,new THREE.BufferAttribute(s,n))}return u},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}},n,r,u,i;if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){i=this.parameters;for(n in i)void 0!==i[n]&&(t[n]=i[n]);return t}t.data={attributes:{}};r=this.index;null!==r&&(i=Array.prototype.slice.call(r.array),t.data.index={type:r.array.constructor.name,array:i});r=this.attributes;for(n in r)u=r[n],i=Array.prototype.slice.call(u.array),t.data.attributes[n]={itemSize:u.itemSize,type:u.array.constructor.name,array:i,normalized:u.normalized};return n=this.groups,0<n.length&&(t.data.groups=JSON.parse(JSON.stringify(n))),n=this.boundingSphere,null!==n&&(t.data.boundingSphere={center:n.center.toArray(),radius:n.radius}),t},clone:function(){return(new THREE.BufferGeometry).copy(this)},copy:function(n){var t=n.index,i,r;null!==t&&this.setIndex(t.clone());t=n.attributes;for(i in t)this.addAttribute(i,t[i].clone());for(n=n.groups,i=0,t=n.length;i<t;i++)r=n[i],this.addGroup(r.start,r.count,r.materialIndex);return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});THREE.BufferGeometry.MaxIndex=65535;THREE.InstancedBufferGeometry=function(){THREE.BufferGeometry.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0};THREE.InstancedBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.InstancedBufferGeometry.prototype.constructor=THREE.InstancedBufferGeometry;THREE.InstancedBufferGeometry.prototype.addGroup=function(n,t,i){this.groups.push({start:n,count:t,instances:i})};THREE.InstancedBufferGeometry.prototype.copy=function(n){var t=n.index,i,r;null!==t&&this.setIndex(t.clone());t=n.attributes;for(i in t)this.addAttribute(i,t[i].clone());for(n=n.groups,i=0,t=n.length;i<t;i++)r=n[i],this.addGroup(r.start,r.count,r.instances);return this};THREE.Uniform=function(n,t){"string"==typeof n&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),n=t);this.value=n;this.dynamic=!1};THREE.Uniform.prototype={constructor:THREE.Uniform,onUpdate:function(n){return this.dynamic=!0,this.onUpdateCallback=n,this}};THREE.AnimationAction=function(){throw Error("THREE.AnimationAction: Use mixer.clipAction for construction.");};THREE.AnimationAction._new=function(n,t,i){var u,r,f;for(this._mixer=n,this._clip=t,this._localRoot=i||null,n=t.tracks,t=n.length,i=Array(t),u={endingStart:THREE.ZeroCurvatureEnding,endingEnd:THREE.ZeroCurvatureEnding},r=0;r!==t;++r)f=n[r].createInterpolant(null),i[r]=f,f.settings=u;this._interpolantSettings=u;this._interpolants=i;this._propertyBindings=Array(t);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=THREE.LoopRepeat;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};THREE.AnimationAction._new.prototype={constructor:THREE.AnimationAction._new,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(n){return this._startTime=n,this},setLoop:function(n,t){return this.loop=n,this.repetitions=t,this},setEffectiveWeight:function(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(n){return this._scheduleFading(n,0,1)},fadeOut:function(n){return this._scheduleFading(n,1,0)},crossFadeFrom:function(n,t,i){if(n.fadeOut(t),this.fadeIn(t),i){i=this._clip.duration;var r=n._clip.duration,u=i/r;n.warp(1,r/i,t);this.warp(u,1,t)}return this},crossFadeTo:function(n,t,i){return n.crossFadeFrom(this,t,i)},stopFading:function(){var n=this._weightInterpolant;return null!==n&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},setEffectiveTimeScale:function(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(n){return this.timeScale=this._clip.duration/n,this.stopWarping()},syncWith:function(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()},halt:function(n){return this.warp(this._effectiveTimeScale,0,n)},warp:function(n,t,i){var u=this._mixer,f=u.time,r=this._timeScaleInterpolant,e=this.timeScale;return null===r&&(this._timeScaleInterpolant=r=u._lendControlInterpolant()),u=r.parameterPositions,r=r.sampleValues,u[0]=f,u[1]=f+i,r[0]=n/e,r[1]=t/e,this},stopWarping:function(){var n=this._timeScaleInterpolant;return null!==n&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(n,t,i,r){var f=this._startTime;if(null!==f){if(t=(n-f)*i,0>t||0===i)return;this._startTime=null;t*=i}if(t*=this._updateTimeScale(n),i=this._updateTime(t),n=this._updateWeight(n),0<n){t=this._interpolants;for(var f=this._propertyBindings,u=0,e=t.length;u!==e;++u)t[u].evaluate(i),f[u].accumulate(r,n)}},_updateWeight:function(n){var t=0,i,r;return this.enabled&&(t=this.weight,i=this._weightInterpolant,null!==i&&(r=i.evaluate(n)[0],t=t*r,n>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1)))),this._effectiveWeight=t},_updateTimeScale:function(n){var t=0,i,r;return this.paused||(t=this.timeScale,i=this._timeScaleInterpolant,null!==i&&(r=i.evaluate(n)[0],t=t*r,n>i.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))),this._effectiveTimeScale=t},_updateTime:function(n){var t=this.time+n;if(0===n)return t;var r=this._clip.duration,i=this.loop,u=this._loopCount;if(i===THREE.LoopOnce)n:{if(-1===u&&(this.loopCount=0,this._setEndings(!0,!0,!1)),t>=r)t=r;else if(0>t)t=0;else break n;this.clampWhenFinished?this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>n?-1:1})}else{if(i=i===THREE.LoopPingPong,-1===u&&(0<=n?(u=0,this._setEndings(!0,0===this.repetitions,i)):this._setEndings(0===this.repetitions,!0,i)),t>=r||0>t){var f=Math.floor(t/r),t=t-r*f,u=u+Math.abs(f),e=this.repetitions-u;0>e?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<n?r:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<n?1:-1})):(0===e?(n=0>n,this._setEndings(n,!n,i)):this._setEndings(!1,!1,i),this._loopCount=u,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:f}))}if(i&&1==(u&1))return this.time=t,r-t}return this.time=t},_setEndings:function(n,t,i){var r=this._interpolantSettings;i?(r.endingStart=THREE.ZeroSlopeEnding,r.endingEnd=THREE.ZeroSlopeEnding):(r.endingStart=n?this.zeroSlopeAtStart?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding:THREE.WrapAroundEnding,r.endingEnd=t?this.zeroSlopeAtEnd?THREE.ZeroSlopeEnding:THREE.ZeroCurvatureEnding:THREE.WrapAroundEnding)},_scheduleFading:function(n,t,i){var u=this._mixer,f=u.time,r=this._weightInterpolant;return null===r&&(this._weightInterpolant=r=u._lendControlInterpolant()),u=r.parameterPositions,r=r.sampleValues,u[0]=f,r[0]=t,u[1]=f+n,r[1]=i,this}};THREE.AnimationClip=function(n,t,i){this.name=n;this.tracks=i;this.duration=void 0!==t?t:-1;this.uuid=THREE.Math.generateUUID();0>this.duration&&this.resetDuration();this.trim();this.optimize()};THREE.AnimationClip.prototype={constructor:THREE.AnimationClip,resetDuration:function(){for(var i,n=0,t=0,r=this.tracks.length;t!==r;++t)i=this.tracks[t],n=Math.max(n,i.times[i.times.length-1]);this.duration=n},trim:function(){for(var n=0;n<this.tracks.length;n++)this.tracks[n].trim(0,this.duration);return this},optimize:function(){for(var n=0;n<this.tracks.length;n++)this.tracks[n].optimize();return this}};Object.assign(THREE.AnimationClip,{parse:function(n){for(var i=[],r=n.tracks,u=1/(n.fps||1),t=0,f=r.length;t!==f;++t)i.push(THREE.KeyframeTrack.parse(r[t]).scale(u));return new THREE.AnimationClip(n.name,n.duration,i)},toJSON:function(n){var i=[],r=n.tracks,t,u;for(n={name:n.name,duration:n.duration,tracks:i},t=0,u=r.length;t!==u;++t)i.push(THREE.KeyframeTrack.toJSON(r[t]));return n},CreateFromMorphTargetSequence:function(n,t,i,r){for(var u,e,o=t.length,s=[],f=0;f<o;f++){u=[];e=[];u.push((f+o-1)%o,f,(f+1)%o);e.push(0,1,0);var h=THREE.AnimationUtils.getKeyframeOrder(u),u=THREE.AnimationUtils.sortedArray(u,1,h),e=THREE.AnimationUtils.sortedArray(e,1,h);r||0!==u[0]||(u.push(o),e.push(e[0]));s.push(new THREE.NumberKeyframeTrack(".morphTargetInfluences["+t[f].name+"]",u,e).scale(1/i))}return new THREE.AnimationClip(n,-1,s)},findByName:function(n,t){var r=n,i;for(Array.isArray(n)||(r=n.geometry&&n.geometry.animations||n.animations),i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null},CreateClipsFromMorphTargetSequences:function(n,t,i){for(var o,r,u,f={},e=0,s=n.length;e<s;e++)o=n[e],r=o.name.match(/^([\w-]*?)([\d]+)$/),r&&1<r.length&&(u=r[1],(r=f[u])||(f[u]=r=[]),r.push(o));n=[];for(u in f)n.push(THREE.AnimationClip.CreateFromMorphTargetSequence(u,f[u],t,i));return n},parseAnimation:function(n,t,i){var s,r,e,u,o,h,c;if(!n)return console.error("  no animation in JSONLoader data"),null;i=function(n,t,i,r,u){if(0!==i.length){var f=[],e=[];THREE.AnimationUtils.flattenJSON(i,f,e,r);0!==f.length&&u.push(new n(t,f,e))}};var f=[],v=n.name||"default",e=n.length||-1,y=n.fps||30;for(n=n.hierarchy||[],s=0;s<n.length;s++)if(r=n[s].keys,r&&0!==r.length)if(r[0].morphTargets){for(e={},u=0;u<r.length;u++)if(r[u].morphTargets)for(o=0;o<r[u].morphTargets.length;o++)e[r[u].morphTargets[o]]=-1;for(h in e){for(var l=[],a=[],o=0;o!==r[u].morphTargets.length;++o)c=r[u],l.push(c.time),a.push(c.morphTarget===h?1:0);f.push(new THREE.NumberKeyframeTrack(".morphTargetInfluence["+h+"]",l,a))}e=e.length*(y||1)}else u=".bones["+t[s].name+"]",i(THREE.VectorKeyframeTrack,u+".position",r,"pos",f),i(THREE.QuaternionKeyframeTrack,u+".quaternion",r,"rot",f),i(THREE.VectorKeyframeTrack,u+".scale",r,"scl",f);return 0===f.length?null:new THREE.AnimationClip(v,e,f)}});THREE.AnimationMixer=function(n){this._root=n;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1};Object.assign(THREE.AnimationMixer.prototype,THREE.EventDispatcher.prototype,{clipAction:function(n,t){var u=t||this._root,e=u.uuid,i="string"==typeof n?THREE.AnimationClip.findByName(u,n):n,u=null!==i?i.uuid:n,f=this._actionsByClip[u],r=null;if(void 0!==f){if(r=f.actionByRoot[e],void 0!==r)return r;r=f.knownActions[0];null===i&&(i=r._clip)}return null===i?null:(i=new THREE.AnimationMixer._Action(this,i,t),this._bindAction(i,r),this._addInactiveAction(i,u,e),i)},existingAction:function(n,t){var i=t||this._root,r=i.uuid,i="string"==typeof n?THREE.AnimationClip.findByName(i,n):n,i=this._actionsByClip[i?i.uuid:n];return void 0!==i?i.actionByRoot[r]||null:null},stopAllAction:function(){for(var t=this._actions,i=this._nActiveActions,r=this._bindings,u=this._nActiveBindings,n=this._nActiveBindings=this._nActiveActions=0;n!==i;++n)t[n].reset();for(n=0;n!==u;++n)r[n].useCount=0;return this},update:function(n){var r;n*=this.timeScale;for(var i=this._actions,f=this._nActiveActions,e=this.time+=n,o=Math.sign(n),u=this._accuIndex^=1,t=0;t!==f;++t)r=i[t],r.enabled&&r._update(e,n,o,u);for(n=this._bindings,i=this._nActiveBindings,t=0;t!==i;++t)n[t].apply(u);return this},getRoot:function(){return this._root},uncacheClip:function(n){var r=this._actions,u,i,t,e,o;if(n=n.uuid,u=this._actionsByClip,i=u[n],void 0!==i){for(var i=i.knownActions,f=0,s=i.length;f!==s;++f)t=i[f],this._deactivateAction(t),e=t._cacheIndex,o=r[r.length-1],t._cacheIndex=null,t._byClipCacheIndex=null,o._cacheIndex=e,r[e]=o,r.pop(),this._removeInactiveBindingsForAction(t);delete u[n]}},uncacheRoot:function(n){var r,t,i,u;n=n.uuid;r=this._actionsByClip;for(t in r)i=r[t].actionByRoot[n],void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i));if(t=this._bindingsByRootAndName[n],void 0!==t)for(u in t)n=t[u],n.restoreOriginalState(),this._removeInactiveBinding(n)},uncacheAction:function(n,t){var i=this.existingAction(n,t);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}});THREE.AnimationMixer._Action=THREE.AnimationAction._new;Object.assign(THREE.AnimationMixer.prototype,{_bindAction:function(n,t){var s=n._localRoot||this._root,h=n._clip.tracks,l=h.length,c=n._propertyBindings,a=n._interpolants,u=s.uuid,r=this._bindingsByRootAndName,f=r[u];for(void 0===f&&(f={},r[u]=f),r=0;r!==l;++r){var o=h[r],e=o.name,i=f[e];if(void 0===i){if(i=c[r],void 0!==i){null===i._cacheIndex&&(++i.referenceCount,this._addInactiveBinding(i,u,e));continue}i=new THREE.PropertyMixer(THREE.PropertyBinding.create(s,e,t&&t._propertyBindings[r].binding.parsedPath),o.ValueTypeName,o.getValueSize());++i.referenceCount;this._addInactiveBinding(i,u,e)}c[r]=i;a[r].resultBuffer=i.buffer}},_activateAction:function(n){var u;if(!this._isActiveAction(n)){if(null===n._cacheIndex){var i=(n._localRoot||this._root).uuid,t=n._clip.uuid,r=this._actionsByClip[t];this._bindAction(n,r&&r.knownActions[0]);this._addInactiveAction(n,t,i)}for(i=n._propertyBindings,t=0,r=i.length;t!==r;++t)u=i[t],0==u.useCount++&&(this._lendBinding(u),u.saveOriginalState());this._lendAction(n)}},_deactivateAction:function(n){var t;if(this._isActiveAction(n)){for(var r=n._propertyBindings,i=0,u=r.length;i!==u;++i)t=r[i],0==--t.useCount&&(t.restoreOriginalState(),this._takeBackBinding(t));this._takeBackAction(n)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var n=this;this.stats={actions:{get total(){return n._actions.length},get inUse(){return n._nActiveActions}},bindings:{get total(){return n._bindings.length},get inUse(){return n._nActiveBindings}},controlInterpolants:{get total(){return n._controlInterpolants.length},get inUse(){return n._nActiveControlInterpolants}}}},_isActiveAction:function(n){return n=n._cacheIndex,null!==n&&n<this._nActiveActions},_addInactiveAction:function(n,t,i){var u=this._actions,f=this._actionsByClip,r=f[t];void 0===r?(r={knownActions:[n],actionByRoot:{}},n._byClipCacheIndex=0,f[t]=r):(t=r.knownActions,n._byClipCacheIndex=t.length,t.push(n));n._cacheIndex=u.length;u.push(n);r.actionByRoot[i]=n},_removeInactiveAction:function(n){var t=this._actions,r=t[t.length-1],u=n._cacheIndex;r._cacheIndex=u;t[u]=r;t.pop();n._cacheIndex=null;var r=n._clip.uuid,u=this._actionsByClip,f=u[r],i=f.knownActions,e=i[i.length-1],o=n._byClipCacheIndex;e._byClipCacheIndex=o;i[o]=e;i.pop();n._byClipCacheIndex=null;delete f.actionByRoot[(t._localRoot||this._root).uuid];0===i.length&&delete u[r];this._removeInactiveBindingsForAction(n)},_removeInactiveBindingsForAction:function(n){var t,r,i;for(n=n._propertyBindings,t=0,r=n.length;t!==r;++t)i=n[t],0==--i.referenceCount&&this._removeInactiveBinding(i)},_lendAction:function(n){var t=this._actions,r=n._cacheIndex,i=this._nActiveActions++,u=t[i];n._cacheIndex=i;t[i]=n;u._cacheIndex=r;t[r]=u},_takeBackAction:function(n){var t=this._actions,r=n._cacheIndex,i=--this._nActiveActions,u=t[i];n._cacheIndex=i;t[i]=n;u._cacheIndex=r;t[r]=u},_addInactiveBinding:function(n,t,i){var u=this._bindingsByRootAndName,r=u[t],f=this._bindings;void 0===r&&(r={},u[t]=r);r[i]=n;n._cacheIndex=f.length;f.push(n)},_removeInactiveBinding:function(n){var t=this._bindings,i=n.binding,r=i.rootNode.uuid,i=i.path,u=this._bindingsByRootAndName,f=u[r],e=t[t.length-1],o;n=n._cacheIndex;e._cacheIndex=n;t[n]=e;t.pop();delete f[i];n:{for(o in f)break n;delete u[r]}},_lendBinding:function(n){var t=this._bindings,r=n._cacheIndex,i=this._nActiveBindings++,u=t[i];n._cacheIndex=i;t[i]=n;u._cacheIndex=r;t[r]=u},_takeBackBinding:function(n){var t=this._bindings,r=n._cacheIndex,i=--this._nActiveBindings,u=t[i];n._cacheIndex=i;t[i]=n;u._cacheIndex=r;t[r]=u},_lendControlInterpolant:function(){var i=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=i[t];return void 0===n&&(n=new THREE.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,i[t]=n),n},_takeBackControlInterpolant:function(n){var t=this._controlInterpolants,r=n.__cacheIndex,i=--this._nActiveControlInterpolants,u=t[i];n.__cacheIndex=i;t[i]=n;u.__cacheIndex=r;t[r]=u},_controlInterpolantsResultBuffer:new Float32Array(1)});THREE.AnimationObjectGroup=function(){var i,n,r,t;for(this.uuid=THREE.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0,i={},this._indicesByUUID=i,n=0,r=arguments.length;n!==r;++n)i[arguments[n].uuid]=n;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}};THREE.AnimationObjectGroup.prototype={constructor:THREE.AnimationObjectGroup,add:function(){for(var n,r,e,s,i=this._objects,p=i.length,h=this.nCachedObjects_,o=this._indicesByUUID,a=this._paths,v=this._parsedPaths,c=this._bindings,y=c.length,l=0,w=arguments.length;l!==w;++l){var u=arguments[l],n=u.uuid,t=o[n];if(void 0===t)for(t=p++,o[n]=t,i.push(u),n=0,r=y;n!==r;++n)c[n].push(new THREE.PropertyBinding(u,a[n],v[n]));else if(t<h){var b=i[t],f=--h,r=i[f];for(o[r.uuid]=t,i[t]=r,o[n]=f,i[f]=u,n=0,r=y;n!==r;++n)e=c[n],s=e[t],e[t]=e[f],void 0===s&&(s=new THREE.PropertyBinding(u,a[n],v[n])),e[f]=s}else i[t]!==b&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=h},remove:function(){for(var r,n,c,f=this._objects,e=this.nCachedObjects_,o=this._indicesByUUID,h=this._bindings,l=h.length,s=0,a=arguments.length;s!==a;++s){var t=arguments[s],u=t.uuid,i=o[u];if(void 0!==i&&i>=e)for(r=e++,n=f[r],o[n.uuid]=i,f[i]=n,o[u]=r,f[r]=t,t=0,u=l;t!==u;++t)n=h[t],c=n[i],n[i]=n[r],n[r]=c}this.nCachedObjects_=e},uncache:function(){for(var f,r,t,v,i=this._objects,l=i.length,s=this.nCachedObjects_,e=this._indicesByUUID,h=this._bindings,a=h.length,c=0,y=arguments.length;c!==y;++c)if(f=arguments[c].uuid,r=e[f],void 0!==r)if(delete e[f],r<s){var f=--s,n=i[f],o=--l,u=i[o];for(e[n.uuid]=r,i[r]=n,e[u.uuid]=f,i[f]=u,i.pop(),n=0,u=a;n!==u;++n)t=h[n],v=t[o],t[r]=t[f],t[f]=v,t.pop()}else for(o=--l,u=i[o],e[u.uuid]=r,i[r]=u,i.pop(),n=0,u=a;n!==u;++n)t=h[n],t[r]=t[o],t.pop();this.nCachedObjects_=s},subscribe_:function(n,t){var i=this._bindingsIndicesByPath,r=i[n],u=this._bindings;if(void 0!==r)return u[r];var o=this._paths,s=this._parsedPaths,f=this._objects,h=this.nCachedObjects_,e=Array(f.length),r=u.length;for(i[n]=r,o.push(n),s.push(t),u.push(e),i=h,r=f.length;i!==r;++i)e[i]=new THREE.PropertyBinding(f[i],n,t);return e},unsubscribe_:function(n){var e=this._bindingsIndicesByPath,t=e[n];if(void 0!==t){var u=this._paths,f=this._parsedPaths,i=this._bindings,r=i.length-1,o=i[r];e[n[r]]=t;i[t]=o;i.pop();f[t]=f[r];f.pop();u[t]=u[r];u.pop()}}};THREE.AnimationUtils={arraySlice:function(n,t,i){return THREE.AnimationUtils.isTypedArray(n)?new n.constructor(n.subarray(t,i)):n.slice(t,i)},convertArray:function(n,t,i){return!n||!i&&n.constructor===t?n:"number"==typeof t.BYTES_PER_ELEMENT?new t(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){for(var r=n.length,i=Array(r),t=0;t!==r;++t)i[t]=t;return i.sort(function(t,i){return n[t]-n[i]}),i},sortedArray:function(n,t,i){for(var s,r,u=n.length,f=new n.constructor(u),e=0,o=0;o!==u;++e)for(s=i[e]*t,r=0;r!==t;++r)f[o++]=n[s+r];return f},flattenJSON:function(n,t,i,r){for(var f,e=1,u=n[0];void 0!==u&&void 0===u[r];)u=n[e++];if(void 0!==u&&(f=u[r],void 0!==f))if(Array.isArray(f)){do f=u[r],void 0!==f&&(t.push(u.time),i.push.apply(i,f)),u=n[e++];while(void 0!==u)}else if(void 0!==f.toArray){do f=u[r],void 0!==f&&(t.push(u.time),f.toArray(i,i.length)),u=n[e++];while(void 0!==u)}else do f=u[r],void 0!==f&&(t.push(u.time),i.push(f)),u=n[e++];while(void 0!==u)}};THREE.KeyframeTrack=function(n,t,i,r){if(void 0===n)throw Error("track name is undefined");if(void 0===t||0===t.length)throw Error("no keyframes in track named "+n);this.name=n;this.times=THREE.AnimationUtils.convertArray(t,this.TimeBufferType);this.values=THREE.AnimationUtils.convertArray(i,this.ValueBufferType);this.setInterpolation(r||this.DefaultInterpolation);this.validate();this.optimize()};THREE.KeyframeTrack.prototype={constructor:THREE.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(n){return new THREE.DiscreteInterpolant(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodLinear:function(n){return new THREE.LinearInterpolant(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:function(n){return new THREE.CubicInterpolant(this.times,this.values,this.getValueSize(),n)},setInterpolation:function(n){var t;switch(n){case THREE.InterpolateDiscrete:t=this.InterpolantFactoryMethodDiscrete;break;case THREE.InterpolateLinear:t=this.InterpolantFactoryMethodLinear;break;case THREE.InterpolateSmooth:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){if(t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,void 0===this.createInterpolant)if(n!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(t);console.warn(t)}else this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return THREE.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return THREE.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return THREE.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(n){if(0!==n)for(var i=this.times,t=0,r=i.length;t!==r;++t)i[t]+=n;return this},scale:function(n){if(1!==n)for(var i=this.times,t=0,r=i.length;t!==r;++t)i[t]*=n;return this},trim:function(n,t){for(var f=this.times,u=f.length,r=0,i=u-1;r!==u&&f[r]<n;)++r;for(;-1!==i&&f[i]>t;)--i;return++i,(0!==r||i!==u)&&(r>=i&&(i=Math.max(i,1),r=i-1),u=this.getValueSize(),this.times=THREE.AnimationUtils.arraySlice(f,r,i),this.values=THREE.AnimationUtils.arraySlice(this.values,r*u,i*u)),this},validate:function(){var i=!0,r=this.getValueSize(),f,n,t;0!=r-Math.floor(r)&&(console.error("invalid value size in track",this),i=!1);var e=this.times,r=this.values,u=e.length;for(0===u&&(console.error("track is empty",this),i=!1),f=null,n=0;n!==u;n++){if(t=e[n],"number"==typeof t&&isNaN(t)){console.error("time is not a valid number",this,n,t);i=!1;break}if(null!==f&&f>t){console.error("out of order keys",this,n,t,f);i=!1;break}f=t}if(void 0!==r&&THREE.AnimationUtils.isTypedArray(r))for(n=0,e=r.length;n!==e;++n)if(u=r[n],isNaN(u)){console.error("value is not a valid number",this,n,u);i=!1;break}return i},optimize:function(){for(var e,n,s,r=this.times,f=this.values,i=this.getValueSize(),u=1,t=1,h=r.length-1;t<=h;++t){if(e=!1,n=r[t],n!==r[t+1]&&(1!==t||n!==n[0]))for(var o=t*i,c=o-i,l=o+i,n=0;n!==i;++n)if(s=f[o+n],s!==f[c+n]||s!==f[l+n]){e=!0;break}if(e){if(t!==u)for(r[u]=r[t],e=t*i,o=u*i,n=0;n!==i;++n)f[o+n]=f[e+n];++u}}return u!==r.length&&(this.times=THREE.AnimationUtils.arraySlice(r,0,u),this.values=THREE.AnimationUtils.arraySlice(f,0,u*i)),this}};Object.assign(THREE.KeyframeTrack,{parse:function(n){var t,i,r;if(void 0===n.type)throw Error("track type undefined, can not parse");return t=THREE.KeyframeTrack._getTrackTypeForValueTypeName(n.type),void 0===n.times&&(i=[],r=[],THREE.AnimationUtils.flattenJSON(n.keys,i,r,"value"),n.times=i,n.values=r),void 0!==t.parse?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)},toJSON:function(n){var t=n.constructor,i;return void 0!==t.toJSON?t=t.toJSON(n):(t={name:n.name,times:THREE.AnimationUtils.convertArray(n.times,Array),values:THREE.AnimationUtils.convertArray(n.values,Array)},i=n.getInterpolation(),i!==n.DefaultInterpolation&&(t.interpolation=i)),t.type=n.ValueTypeName,t},_getTrackTypeForValueTypeName:function(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return THREE.NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return THREE.VectorKeyframeTrack;case"color":return THREE.ColorKeyframeTrack;case"quaternion":return THREE.QuaternionKeyframeTrack;case"bool":case"boolean":return THREE.BooleanKeyframeTrack;case"string":return THREE.StringKeyframeTrack}throw Error("Unsupported typeName: "+n);}});THREE.PropertyBinding=function(n,t,i){this.path=t;this.parsedPath=i||THREE.PropertyBinding.parseTrackName(t);this.node=THREE.PropertyBinding.findNode(n,this.parsedPath.nodeName)||n;this.rootNode=n};THREE.PropertyBinding.prototype={constructor:THREE.PropertyBinding,getValue:function(n,t){this.bind();this.getValue(n,t)},setValue:function(n,t){this.bind();this.setValue(n,t)},bind:function(){var n=this.node,r=this.parsedPath,t=r.objectName,u=r.propertyName,f=r.propertyIndex,i;if(n||(this.node=n=THREE.PropertyBinding.findNode(this.rootNode,r.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,n){if(t){i=r.objectIndex;switch(t){case"materials":if(!n.material){console.error("  can not bind to material as node does not have a material",this);return}if(!n.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}n=n.material.materials;break;case"bones":if(!n.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}for(n=n.skeleton.bones,t=0;t<n.length;t++)if(n[t].name===i){i=t;break}break;default:if(void 0===n[t]){console.error("  can not bind to objectName of node, undefined",this);return}n=n[t]}if(void 0!==i){if(void 0===n[i]){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,n);return}n=n[i]}}if(i=n[u],void 0===i)console.error("  trying to update property for track: "+r.nodeName+"."+u+" but it wasn't found.",n);else{if(r=this.Versioning.None,void 0!==n.needsUpdate?(r=this.Versioning.NeedsUpdate,this.targetObject=n):void 0!==n.matrixWorldNeedsUpdate&&(r=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=n),t=this.BindingType.Direct,void 0!==f){if("morphTargetInfluences"===u){if(!n.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);return}if(!n.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(t=0;t<this.node.geometry.morphTargets.length;t++)if(n.geometry.morphTargets[t].name===f){f=t;break}}t=this.BindingType.ArrayElement;this.resolvedProperty=i;this.propertyIndex=f}else void 0!==i.fromArray&&void 0!==i.toArray?(t=this.BindingType.HasFromToArray,this.resolvedProperty=i):void 0!==i.length?(t=this.BindingType.EntireArray,this.resolvedProperty=i):this.propertyName=u;this.getValue=this.GetterByBindingType[t];this.setValue=this.SetterByBindingTypeAndVersioning[t][r]}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};Object.assign(THREE.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:THREE.PropertyBinding.prototype.getValue,_setValue_unbound:THREE.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(n,t){n[t]=this.node[this.propertyName]},function(n,t){for(var r=this.resolvedProperty,i=0,u=r.length;i!==u;++i)n[t++]=r[i]},function(n,t){n[t]=this.resolvedProperty[this.propertyIndex]},function(n,t){this.resolvedProperty.toArray(n,t)}],SetterByBindingTypeAndVersioning:[[function(n,t){this.node[this.propertyName]=n[t]},function(n,t){this.node[this.propertyName]=n[t];this.targetObject.needsUpdate=!0},function(n,t){this.node[this.propertyName]=n[t];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,t){for(var r=this.resolvedProperty,i=0,u=r.length;i!==u;++i)r[i]=n[t++]},function(n,t){for(var r=this.resolvedProperty,i=0,u=r.length;i!==u;++i)r[i]=n[t++];this.targetObject.needsUpdate=!0},function(n,t){for(var r=this.resolvedProperty,i=0,u=r.length;i!==u;++i)r[i]=n[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,t){this.resolvedProperty[this.propertyIndex]=n[t]},function(n,t){this.resolvedProperty[this.propertyIndex]=n[t];this.targetObject.needsUpdate=!0},function(n,t){this.resolvedProperty[this.propertyIndex]=n[t];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,t){this.resolvedProperty.fromArray(n,t)},function(n,t){this.resolvedProperty.fromArray(n,t);this.targetObject.needsUpdate=!0},function(n,t){this.resolvedProperty.fromArray(n,t);this.targetObject.matrixWorldNeedsUpdate=!0}]]});THREE.PropertyBinding.Composite=function(n,t,i){i=i||THREE.PropertyBinding.parseTrackName(t);this._targetGroup=n;this._bindings=n.subscribe_(t,i)};THREE.PropertyBinding.Composite.prototype={constructor:THREE.PropertyBinding.Composite,getValue:function(n,t){this.bind();var i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(n,t)},setValue:function(n,t){for(var r=this._bindings,i=this._targetGroup.nCachedObjects_,u=r.length;i!==u;++i)r[i].setValue(n,t)},bind:function(){for(var t=this._bindings,n=this._targetGroup.nCachedObjects_,i=t.length;n!==i;++n)t[n].bind()},unbind:function(){for(var t=this._bindings,n=this._targetGroup.nCachedObjects_,i=t.length;n!==i;++n)t[n].unbind()}};THREE.PropertyBinding.create=function(n,t,i){return n instanceof THREE.AnimationObjectGroup?new THREE.PropertyBinding.Composite(n,t,i):new THREE.PropertyBinding(n,t,i)};THREE.PropertyBinding.parseTrackName=function(n){var t=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,i=t.exec(n);if(!i)throw Error("cannot parse trackName at all: "+n);if(i.index===t.lastIndex&&t.lastIndex++,t={nodeName:i[3],objectName:i[5],objectIndex:i[7],propertyName:i[9],propertyIndex:i[11]},null===t.propertyName||0===t.propertyName.length)throw Error("can not parse propertyName from trackName: "+n);return t};THREE.PropertyBinding.findNode=function(n,t){var i,r;return!t||""===t||"root"===t||"."===t||-1===t||t===n.name||t===n.uuid?n:n.skeleton&&(i=function(n){for(var r,i=0;i<n.bones.length;i++)if(r=n.bones[i],r.name===t)return r;return null}(n.skeleton),i)?i:n.children&&(r=function(n){for(var i,u=0;u<n.length;u++)if(i=n[u],i.name===t||i.uuid===t||(i=r(i.children)))return i;return null},i=r(n.children))?i:null};THREE.PropertyMixer=function(n,t,i){this.binding=n;this.valueSize=i;n=Float64Array;switch(t){case"quaternion":t=this._slerp;break;case"string":case"bool":n=Array;t=this._select;break;default:t=this._lerp}this.buffer=new n(4*i);this._mixBufferRegion=t;this.referenceCount=this.useCount=this.cumulativeWeight=0};THREE.PropertyMixer.prototype={constructor:THREE.PropertyMixer,accumulate:function(n,t){var u=this.buffer,r=this.valueSize,f=n*r+r,i=this.cumulativeWeight;if(0===i){for(i=0;i!==r;++i)u[f+i]=u[i];i=t}else i+=t,this._mixBufferRegion(u,f,0,t/i,r);this.cumulativeWeight=i},apply:function(n){var t=this.valueSize,r=this.buffer,u,i,f;for(n=n*t+t,i=this.cumulativeWeight,u=this.binding,this.cumulativeWeight=0,1>i&&this._mixBufferRegion(r,n,3*t,1-i,t),i=t,f=t+t;i!==f;++i)if(r[i]!==r[i+t]){u.setValue(r,n);break}},saveOriginalState:function(){var t=this.buffer,i=this.valueSize,r=3*i,n;for(this.binding.getValue(t,r),n=i;n!==r;++n)t[n]=t[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(n,t,i,r,u){if(.5<=r)for(r=0;r!==u;++r)n[t+r]=n[i+r]},_slerp:function(n,t,i,r){THREE.Quaternion.slerpFlat(n,t,n,t,n,i,r)},_lerp:function(n,t,i,r,u){for(var e,o=1-r,f=0;f!==u;++f)e=t+f,n[e]=n[e]*o+n[i+f]*r}};THREE.BooleanKeyframeTrack=function(n,t,i){THREE.KeyframeTrack.call(this,n,t,i)};THREE.BooleanKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});THREE.ColorKeyframeTrack=function(n,t,i,r){THREE.KeyframeTrack.call(this,n,t,i,r)};THREE.ColorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.ColorKeyframeTrack,ValueTypeName:"color"});THREE.NumberKeyframeTrack=function(n,t,i,r){THREE.KeyframeTrack.call(this,n,t,i,r)};THREE.NumberKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.NumberKeyframeTrack,ValueTypeName:"number"});THREE.QuaternionKeyframeTrack=function(n,t,i,r){THREE.KeyframeTrack.call(this,n,t,i,r)};THREE.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:THREE.InterpolateLinear,InterpolantFactoryMethodLinear:function(n){return new THREE.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:void 0});THREE.StringKeyframeTrack=function(n,t,i,r){THREE.KeyframeTrack.call(this,n,t,i,r)};THREE.StringKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:THREE.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});THREE.VectorKeyframeTrack=function(n,t,i,r){THREE.KeyframeTrack.call(this,n,t,i,r)};THREE.VectorKeyframeTrack.prototype=Object.assign(Object.create(THREE.KeyframeTrack.prototype),{constructor:THREE.VectorKeyframeTrack,ValueTypeName:"vector"});THREE.Audio=function(n){THREE.Object3D.call(this);this.type="Audio";this.context=n.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(n.getInput());this.autoplay=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]};THREE.Audio.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Audio,getOutput:function(){return this.gain},setNodeSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=n,this.connect(),this},setBuffer:function(n){return this.source.buffer=n,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else{var n=this.context.createBufferSource();return n.buffer=this.source.buffer,n.loop=this.source.loop,n.onended=this.source.onended,n.start(0,this.startTime),n.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=n,this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=0,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var n=1,t=this.filters.length;n<t;n++)this.filters[n-1].connect(this.filters[n]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var n=1,t=this.filters.length;n<t;n++)this.filters[n-1].disconnect(this.filters[n]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(n){return n||(n=[]),!0===this.isPlaying?(this.disconnect(),this.filters=n,this.connect()):this.filters=n,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(n){return this.setFilters(n?[n]:[])},setPlaybackRate:function(n){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=n,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(n){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):this.source.loop=n},getVolume:function(){return this.gain.gain.value},setVolume:function(n){return this.gain.gain.value=n,this}});THREE.AudioAnalyser=function(n,t){this.analyser=n.context.createAnalyser();this.analyser.fftSize=void 0!==t?t:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);n.getOutput().connect(this.analyser)};Object.assign(THREE.AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var i=0,n=this.getFrequencyData(),t=0;t<n.length;t++)i+=n[t];return i/n.length}});Object.defineProperty(THREE,"AudioContext",{get:function(){var n;return function(){return void 0===n&&(n=new(window.AudioContext||window.webkitAudioContext)),n}}()});THREE.PositionalAudio=function(n){THREE.Audio.call(this,n);this.panner=this.context.createPanner();this.panner.connect(this.gain)};THREE.PositionalAudio.prototype=Object.assign(Object.create(THREE.Audio.prototype),{constructor:THREE.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(n){this.panner.refDistance=n},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(n){this.panner.rolloffFactor=n},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(n){this.panner.distanceModel=n},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(n){this.panner.maxDistance=n},updateMatrixWorld:function(){var n=new THREE.Vector3;return function(t){THREE.Object3D.prototype.updateMatrixWorld.call(this,t);n.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(n.x,n.y,n.z)}}()});THREE.AudioListener=function(){THREE.Object3D.call(this);this.type="AudioListener";this.context=THREE.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null};THREE.AudioListener.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(n){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=n;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(n){this.gain.gain.value=n},updateMatrixWorld:function(){var n=new THREE.Vector3,i=new THREE.Quaternion,r=new THREE.Vector3,t=new THREE.Vector3;return function(u){THREE.Object3D.prototype.updateMatrixWorld.call(this,u);u=this.context.listener;var f=this.up;this.matrixWorld.decompose(n,i,r);t.set(0,0,-1).applyQuaternion(i);u.setPosition(n.x,n.y,n.z);u.setOrientation(t.x,t.y,t.z,f.x,f.y,f.z)}}()});THREE.Camera=function(){THREE.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new THREE.Matrix4;this.projectionMatrix=new THREE.Matrix4};THREE.Camera.prototype=Object.create(THREE.Object3D.prototype);THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.getWorldDirection=function(){var n=new THREE.Quaternion;return function(t){return t=t||new THREE.Vector3,this.getWorldQuaternion(n),t.set(0,0,-1).applyQuaternion(n)}}();THREE.Camera.prototype.lookAt=function(){var n=new THREE.Matrix4;return function(t){n.lookAt(this.position,t,this.up);this.quaternion.setFromRotationMatrix(n)}}();THREE.Camera.prototype.clone=function(){return(new this.constructor).copy(this)};THREE.Camera.prototype.copy=function(n){return THREE.Object3D.prototype.copy.call(this,n),this.matrixWorldInverse.copy(n.matrixWorldInverse),this.projectionMatrix.copy(n.projectionMatrix),this};THREE.CubeCamera=function(n,t,i){var r,u,f,e,o,s;THREE.Object3D.call(this);this.type="CubeCamera";r=new THREE.PerspectiveCamera(90,1,n,t);r.up.set(0,-1,0);r.lookAt(new THREE.Vector3(1,0,0));this.add(r);u=new THREE.PerspectiveCamera(90,1,n,t);u.up.set(0,-1,0);u.lookAt(new THREE.Vector3(-1,0,0));this.add(u);f=new THREE.PerspectiveCamera(90,1,n,t);f.up.set(0,0,1);f.lookAt(new THREE.Vector3(0,1,0));this.add(f);e=new THREE.PerspectiveCamera(90,1,n,t);e.up.set(0,0,-1);e.lookAt(new THREE.Vector3(0,-1,0));this.add(e);o=new THREE.PerspectiveCamera(90,1,n,t);o.up.set(0,-1,0);o.lookAt(new THREE.Vector3(0,0,1));this.add(o);s=new THREE.PerspectiveCamera(90,1,n,t);s.up.set(0,-1,0);s.lookAt(new THREE.Vector3(0,0,-1));this.add(s);this.renderTarget=new THREE.WebGLRenderTargetCube(i,i,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});this.updateCubeMap=function(n,t){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1;i.activeCubeFace=0;n.render(t,r,i);i.activeCubeFace=1;n.render(t,u,i);i.activeCubeFace=2;n.render(t,f,i);i.activeCubeFace=3;n.render(t,e,i);i.activeCubeFace=4;n.render(t,o,i);i.texture.generateMipmaps=h;i.activeCubeFace=5;n.render(t,s,i);n.setRenderTarget(null)}};THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype);THREE.CubeCamera.prototype.constructor=THREE.CubeCamera;THREE.OrthographicCamera=function(n,t,i,r,u,f){THREE.Camera.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=n;this.right=t;this.top=i;this.bottom=r;this.near=void 0!==u?u:.1;this.far=void 0!==f?f:2e3;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=Object.assign(Object.create(THREE.Camera.prototype),{constructor:THREE.OrthographicCamera,copy:function(n){return THREE.Camera.prototype.copy.call(this,n),this.left=n.left,this.right=n.right,this.top=n.top,this.bottom=n.bottom,this.near=n.near,this.far=n.far,this.zoom=n.zoom,this.view=null===n.view?null:Object.assign({},n.view),this},setViewOffset:function(n,t,i,r,u,f){this.view={fullWidth:n,fullHeight:t,offsetX:i,offsetY:r,width:u,height:f};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var n=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,u=i-n,i=i+n,n=r+t,t=r-t;if(null!==this.view)var i=this.zoom/(this.view.width/this.view.fullWidth),t=this.zoom/(this.view.height/this.view.fullHeight),f=(this.right-this.left)/this.view.width,r=(this.top-this.bottom)/this.view.height,u=u+this.view.offsetX/i*f,i=u+this.view.width/i*f,n=n-this.view.offsetY/t*r,t=n-this.view.height/t*r;this.projectionMatrix.makeOrthographic(u,i,n,t,this.near,this.far)},toJSON:function(n){return n=THREE.Object3D.prototype.toJSON.call(this,n),n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,null!==this.view&&(n.object.view=Object.assign({},this.view)),n}});THREE.PerspectiveCamera=function(n,t,i,r){THREE.Camera.call(this);this.type="PerspectiveCamera";this.fov=void 0!==n?n:50;this.zoom=1;this.near=void 0!==i?i:.1;this.far=void 0!==r?r:2e3;this.focus=10;this.aspect=void 0!==t?t:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=Object.assign(Object.create(THREE.Camera.prototype),{constructor:THREE.PerspectiveCamera,copy:function(n){return THREE.Camera.prototype.copy.call(this,n),this.fov=n.fov,this.zoom=n.zoom,this.near=n.near,this.far=n.far,this.focus=n.focus,this.aspect=n.aspect,this.view=null===n.view?null:Object.assign({},n.view),this.filmGauge=n.filmGauge,this.filmOffset=n.filmOffset,this},setFocalLength:function(n){n=.5*this.getFilmHeight()/n;this.fov=2*THREE.Math.RAD2DEG*Math.atan(n);this.updateProjectionMatrix()},getFocalLength:function(){var n=Math.tan(.5*THREE.Math.DEG2RAD*this.fov);return.5*this.getFilmHeight()/n},getEffectiveFOV:function(){return 2*THREE.Math.RAD2DEG*Math.atan(Math.tan(.5*THREE.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(n,t,i,r,u,f){this.aspect=n/t;this.view={fullWidth:n,fullHeight:t,offsetX:i,offsetY:r,width:u,height:f};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var f=this.near,t=f*Math.tan(.5*THREE.Math.DEG2RAD*this.fov)/this.zoom,i=2*t,r=this.aspect*i,u=-.5*r,n=this.view;if(null!==n)var e=n.fullWidth,o=n.fullHeight,u=u+n.offsetX*r/e,t=t-n.offsetY*i/o,r=n.width/e*r,i=n.height/o*i;n=this.filmOffset;0!==n&&(u+=f*n/this.getFilmWidth());this.projectionMatrix.makeFrustum(u,u+r,t-i,t,f,this.far)},toJSON:function(n){return n=THREE.Object3D.prototype.toJSON.call(this,n),n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,null!==this.view&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}});THREE.StereoCamera=function(){this.type="StereoCamera";this.aspect=1;this.cameraL=new THREE.PerspectiveCamera;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new THREE.PerspectiveCamera;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1};Object.assign(THREE.StereoCamera.prototype,{update:function(){var i,r,n,t,u,f=new THREE.Matrix4,e=new THREE.Matrix4;return function(o){if(i!==o.focus||r!==o.fov||n!==o.aspect*this.aspect||t!==o.near||u!==o.far){i=o.focus;r=o.fov;n=o.aspect*this.aspect;t=o.near;u=o.far;var c=o.projectionMatrix.clone(),l=.032*t/i,a=t*Math.tan(THREE.Math.DEG2RAD*r*.5),s,h;e.elements[12]=-.032;f.elements[12]=.032;s=-a*n+l;h=a*n+l;c.elements[0]=2*t/(h-s);c.elements[8]=(h+s)/(h-s);this.cameraL.projectionMatrix.copy(c);s=-a*n-l;h=a*n-l;c.elements[0]=2*t/(h-s);c.elements[8]=(h+s)/(h-s);this.cameraR.projectionMatrix.copy(c)}this.cameraL.matrixWorld.copy(o.matrixWorld).multiply(e);this.cameraR.matrixWorld.copy(o.matrixWorld).multiply(f)}}()});THREE.Light=function(n,t){THREE.Object3D.call(this);this.type="Light";this.color=new THREE.Color(n);this.intensity=void 0!==t?t:1;this.receiveShadow=void 0};THREE.Light.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Light,copy:function(n){return THREE.Object3D.prototype.copy.call(this,n),this.color.copy(n.color),this.intensity=n.intensity,this},toJSON:function(n){return n=THREE.Object3D.prototype.toJSON.call(this,n),n.object.color=this.color.getHex(),n.object.intensity=this.intensity,void 0!==this.groundColor&&(n.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(n.object.distance=this.distance),void 0!==this.angle&&(n.object.angle=this.angle),void 0!==this.decay&&(n.object.decay=this.decay),void 0!==this.penumbra&&(n.object.penumbra=this.penumbra),n}});THREE.LightShadow=function(n){this.camera=n;this.bias=0;this.radius=1;this.mapSize=new THREE.Vector2(512,512);this.map=null;this.matrix=new THREE.Matrix4};Object.assign(THREE.LightShadow.prototype,{copy:function(n){return this.camera=n.camera.clone(),this.bias=n.bias,this.radius=n.radius,this.mapSize.copy(n.mapSize),this},clone:function(){return(new this.constructor).copy(this)}});THREE.AmbientLight=function(n,t){THREE.Light.call(this,n,t);this.type="AmbientLight";this.castShadow=void 0};THREE.AmbientLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.AmbientLight});THREE.DirectionalLight=function(n,t){THREE.Light.call(this,n,t);this.type="DirectionalLight";this.position.copy(THREE.Object3D.DefaultUp);this.updateMatrix();this.target=new THREE.Object3D;this.shadow=new THREE.DirectionalLightShadow};THREE.DirectionalLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.DirectionalLight,copy:function(n){return THREE.Light.prototype.copy.call(this,n),this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}});THREE.DirectionalLightShadow=function(){THREE.LightShadow.call(this,new THREE.OrthographicCamera(-5,5,5,-5,.5,500))};THREE.DirectionalLightShadow.prototype=Object.assign(Object.create(THREE.LightShadow.prototype),{constructor:THREE.DirectionalLightShadow});THREE.HemisphereLight=function(n,t,i){THREE.Light.call(this,n,i);this.type="HemisphereLight";this.castShadow=void 0;this.position.copy(THREE.Object3D.DefaultUp);this.updateMatrix();this.groundColor=new THREE.Color(t)};THREE.HemisphereLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.HemisphereLight,copy:function(n){return THREE.Light.prototype.copy.call(this,n),this.groundColor.copy(n.groundColor),this}});THREE.PointLight=function(n,t,i,r){THREE.Light.call(this,n,t);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(n){this.intensity=n/(4*Math.PI)}});this.distance=void 0!==i?i:0;this.decay=void 0!==r?r:1;this.shadow=new THREE.LightShadow(new THREE.PerspectiveCamera(90,1,.5,500))};THREE.PointLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.PointLight,copy:function(n){return THREE.Light.prototype.copy.call(this,n),this.distance=n.distance,this.decay=n.decay,this.shadow=n.shadow.clone(),this}});THREE.SpotLight=function(n,t,i,r,u,f){THREE.Light.call(this,n,t);this.type="SpotLight";this.position.copy(THREE.Object3D.DefaultUp);this.updateMatrix();this.target=new THREE.Object3D;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(n){this.intensity=n/Math.PI}});this.distance=void 0!==i?i:0;this.angle=void 0!==r?r:Math.PI/3;this.penumbra=void 0!==u?u:0;this.decay=void 0!==f?f:1;this.shadow=new THREE.SpotLightShadow};THREE.SpotLight.prototype=Object.assign(Object.create(THREE.Light.prototype),{constructor:THREE.SpotLight,copy:function(n){return THREE.Light.prototype.copy.call(this,n),this.distance=n.distance,this.angle=n.angle,this.penumbra=n.penumbra,this.decay=n.decay,this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}});THREE.SpotLightShadow=function(){THREE.LightShadow.call(this,new THREE.PerspectiveCamera(50,1,.5,500))};THREE.SpotLightShadow.prototype=Object.assign(Object.create(THREE.LightShadow.prototype),{constructor:THREE.SpotLightShadow,update:function(n){var i=2*THREE.Math.RAD2DEG*n.angle,r=this.mapSize.width/this.mapSize.height,t;n=n.distance||500;t=this.camera;(i!==t.fov||r!==t.aspect||n!==t.far)&&(t.fov=i,t.aspect=r,t.far=n,t.updateProjectionMatrix())}});THREE.AudioLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager};Object.assign(THREE.AudioLoader.prototype,{load:function(n,t,i,r){var u=new THREE.XHRLoader(this.manager);u.setResponseType("arraybuffer");u.load(n,function(n){THREE.AudioContext.decodeAudioData(n,function(n){t(n)})},i,r)}});THREE.Cache={enabled:!1,files:{},add:function(n,t){!1!==this.enabled&&(this.files[n]=t)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};THREE.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,extractUrlBase:function(n){return(n=n.split("/"),1===n.length)?"./":(n.pop(),n.join("/")+"/")},initMaterials:function(n,t,i){for(var u=[],r=0;r<n.length;++r)u[r]=this.createMaterial(n[r],t,i);return u},createMaterial:function(){var n,t,i;return function(r,u,f){function s(n,i,r,e,o){n=u+n;var s=THREE.Loader.Handlers.get(n);return null!==s?n=s.load(n):(t.setCrossOrigin(f),n=t.load(n)),void 0!==i&&(n.repeat.fromArray(i),1!==i[0]&&(n.wrapS=THREE.RepeatWrapping),1!==i[1]&&(n.wrapT=THREE.RepeatWrapping)),void 0!==r&&n.offset.fromArray(r),void 0!==e&&("repeat"===e[0]&&(n.wrapS=THREE.RepeatWrapping),"mirror"===e[0]&&(n.wrapS=THREE.MirroredRepeatWrapping),"repeat"===e[1]&&(n.wrapT=THREE.RepeatWrapping),"mirror"===e[1]&&(n.wrapT=THREE.MirroredRepeatWrapping)),void 0!==o&&(n.anisotropy=o),i=THREE.Math.generateUUID(),c[i]=n,i}var c,e,h,o;void 0===n&&(n=new THREE.Color);void 0===t&&(t=new THREE.TextureLoader);void 0===i&&(i=new THREE.MaterialLoader);c={};e={uuid:THREE.Math.generateUUID(),type:"MeshLambertMaterial"};for(h in r){o=r[h];switch(h){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":e.name=o;break;case"blending":e.blending=THREE[o];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",h,"is no longer supported.");break;case"colorDiffuse":e.color=n.fromArray(o).getHex();break;case"colorSpecular":e.specular=n.fromArray(o).getHex();break;case"colorEmissive":e.emissive=n.fromArray(o).getHex();break;case"specularCoef":e.shininess=o;break;case"shading":"basic"===o.toLowerCase()&&(e.type="MeshBasicMaterial");"phong"===o.toLowerCase()&&(e.type="MeshPhongMaterial");"standard"===o.toLowerCase()&&(e.type="MeshStandardMaterial");break;case"mapDiffuse":e.map=s(o,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":e.emissiveMap=s(o,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":e.lightMap=s(o,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":e.aoMap=s(o,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":e.bumpMap=s(o,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":e.bumpScale=o;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":e.normalMap=s(o,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":e.normalScale=[o,o];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":e.specularMap=s(o,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":e.metalnessMap=s(o,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":e.roughnessMap=s(o,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":e.alphaMap=s(o,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":e.side=THREE.BackSide;break;case"doubleSided":e.side=THREE.DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");e.opacity=o;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":e[h]=o;break;case"vertexColors":!0===o&&(e.vertexColors=THREE.VertexColors);"face"===o&&(e.vertexColors=THREE.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",h,o)}}return"MeshBasicMaterial"===e.type&&delete e.emissive,"MeshPhongMaterial"!==e.type&&delete e.specular,1>e.opacity&&(e.transparent=!0),i.setTextures(c),i.parse(e)}}()};THREE.Loader.Handlers={handlers:[],add:function(n,t){this.handlers.push(n,t)},get:function(n){for(var r,i=this.handlers,t=0,u=i.length;t<u;t+=2)if(r=i[t+1],i[t].test(n))return r;return null}};THREE.XHRLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager};Object.assign(THREE.XHRLoader.prototype,{load:function(n,t,i,r){var f,e,u;return(void 0!==this.path&&(n=this.path+n),f=this,e=THREE.Cache.get(n),void 0!==e)?(f.manager.itemStart(n),setTimeout(function(){t&&t(e);f.manager.itemEnd(n)},0),e):(u=new XMLHttpRequest,u.overrideMimeType("text/plain"),u.open("GET",n,!0),u.addEventListener("load",function(i){var u=i.target.response;THREE.Cache.add(n,u);200===this.status?(t&&t(u),f.manager.itemEnd(n)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),t&&t(u),f.manager.itemEnd(n)):(r&&r(i),f.manager.itemError(n))},!1),void 0!==i&&u.addEventListener("progress",function(n){i(n)},!1),u.addEventListener("error",function(t){r&&r(t);f.manager.itemError(n)},!1),void 0!==this.responseType&&(u.responseType=this.responseType),void 0!==this.withCredentials&&(u.withCredentials=this.withCredentials),u.send(null),f.manager.itemStart(n),u)},setPath:function(n){return this.path=n,this},setResponseType:function(n){return this.responseType=n,this},setWithCredentials:function(n){return this.withCredentials=n,this}});THREE.FontLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager};Object.assign(THREE.FontLoader.prototype,{load:function(n,t,i,r){var u=this;new THREE.XHRLoader(this.manager).load(n,function(n){var i;try{i=JSON.parse(n)}catch(r){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.");i=JSON.parse(n.substring(65,n.length-2))}n=u.parse(i);t&&t(n)},i,r)},parse:function(n){return new THREE.Font(n)}});THREE.ImageLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager};Object.assign(THREE.ImageLoader.prototype,{load:function(n,t,i,r){var e=this,u=document.createElementNS("http://www.w3.org/1999/xhtml","img"),f;return u.onload=function(){URL.revokeObjectURL(u.src);t&&t(u);e.manager.itemEnd(n)},0===n.indexOf("data:")?u.src=n:(f=new THREE.XHRLoader,f.setPath(this.path),f.setResponseType("blob"),f.load(n,function(n){u.src=URL.createObjectURL(n)},i,r)),e.manager.itemStart(n),u},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this}});THREE.JSONLoader=function(n){"boolean"==typeof n&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),n=void 0);this.manager=void 0!==n?n:THREE.DefaultLoadingManager;this.withCredentials=!1};Object.assign(THREE.JSONLoader.prototype,{load:function(n,t,i,r){var f=this,e=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:THREE.Loader.prototype.extractUrlBase(n),u=new THREE.XHRLoader(this.manager);u.setWithCredentials(this.withCredentials);u.load(n,function(i){i=JSON.parse(i);var r=i.metadata;if(void 0!==r&&(r=r.type,void 0!==r)){if("object"===r.toLowerCase()){console.error("THREE.JSONLoader: "+n+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===r.toLowerCase()){console.error("THREE.JSONLoader: "+n+" should be loaded with THREE.SceneLoader instead.");return}}i=f.parse(i,e);t(i.geometry,i.materials)},i,r)},setTexturePath:function(n){this.texturePath=n},parse:function(n,t){var i=new THREE.Geometry,r=void 0!==n.scale?1/n.scale:1;return(function(t){var r,y,h,u,b,o,s,l,f,p,a,w,v,e=n.faces;o=n.vertices;var c=n.normals,k=n.colors,d=0;if(void 0!==n.uvs){for(r=0;r<n.uvs.length;r++)n.uvs[r].length&&d++;for(r=0;r<d;r++)i.faceVertexUvs[r]=[]}for(u=0,b=o.length;u<b;)r=new THREE.Vector3,r.x=o[u++]*t,r.y=o[u++]*t,r.z=o[u++]*t,i.vertices.push(r);for(u=0,b=e.length;u<b;)if(t=e[u++],f=t&1,h=t&2,r=t&8,s=t&16,p=t&32,o=t&64,t&=128,f){if(f=new THREE.Face3,f.a=e[u],f.b=e[u+1],f.c=e[u+3],a=new THREE.Face3,a.a=e[u+1],a.b=e[u+2],a.c=e[u+3],u+=4,h&&(h=e[u++],f.materialIndex=h,a.materialIndex=h),h=i.faces.length,r)for(r=0;r<d;r++)for(w=n.uvs[r],i.faceVertexUvs[r][h]=[],i.faceVertexUvs[r][h+1]=[],y=0;4>y;y++)l=e[u++],v=w[2*l],l=w[2*l+1],v=new THREE.Vector2(v,l),2!==y&&i.faceVertexUvs[r][h].push(v),0!==y&&i.faceVertexUvs[r][h+1].push(v);if(s&&(s=3*e[u++],f.normal.set(c[s++],c[s++],c[s]),a.normal.copy(f.normal)),p)for(r=0;4>r;r++)s=3*e[u++],p=new THREE.Vector3(c[s++],c[s++],c[s]),2!==r&&f.vertexNormals.push(p),0!==r&&a.vertexNormals.push(p);if(o&&(o=e[u++],o=k[o],f.color.setHex(o),a.color.setHex(o)),t)for(r=0;4>r;r++)o=e[u++],o=k[o],2!==r&&f.vertexColors.push(new THREE.Color(o)),0!==r&&a.vertexColors.push(new THREE.Color(o));i.faces.push(f);i.faces.push(a)}else{if(f=new THREE.Face3,f.a=e[u++],f.b=e[u++],f.c=e[u++],h&&(h=e[u++],f.materialIndex=h),h=i.faces.length,r)for(r=0;r<d;r++)for(w=n.uvs[r],i.faceVertexUvs[r][h]=[],y=0;3>y;y++)l=e[u++],v=w[2*l],l=w[2*l+1],v=new THREE.Vector2(v,l),i.faceVertexUvs[r][h].push(v);if(s&&(s=3*e[u++],f.normal.set(c[s++],c[s++],c[s])),p)for(r=0;3>r;r++)s=3*e[u++],p=new THREE.Vector3(c[s++],c[s++],c[s]),f.vertexNormals.push(p);if(o&&(o=e[u++],f.color.setHex(k[o])),t)for(r=0;3>r;r++)o=e[u++],f.vertexColors.push(new THREE.Color(k[o]));i.faces.push(f)}}(r),function(){var r=void 0!==n.influencesPerVertex?n.influencesPerVertex:2,t,u;if(n.skinWeights)for(t=0,u=n.skinWeights.length;t<u;t+=r)i.skinWeights.push(new THREE.Vector4(n.skinWeights[t],1<r?n.skinWeights[t+1]:0,2<r?n.skinWeights[t+2]:0,3<r?n.skinWeights[t+3]:0));if(n.skinIndices)for(t=0,u=n.skinIndices.length;t<u;t+=r)i.skinIndices.push(new THREE.Vector4(n.skinIndices[t],1<r?n.skinIndices[t+1]:0,2<r?n.skinIndices[t+2]:0,3<r?n.skinIndices[t+3]:0));i.bones=n.bones;i.bones&&0<i.bones.length&&(i.skinWeights.length!==i.skinIndices.length||i.skinIndices.length!==i.vertices.length)&&console.warn("When skinning, number of vertices ("+i.vertices.length+"), skinIndices ("+i.skinIndices.length+"), and skinWeights ("+i.skinWeights.length+") should match.")}(),function(t){var r,e,f;if(void 0!==n.morphTargets)for(r=0,e=n.morphTargets.length;r<e;r++){i.morphTargets[r]={};i.morphTargets[r].name=n.morphTargets[r].name;i.morphTargets[r].vertices=[];for(var s=i.morphTargets[r].vertices,o=n.morphTargets[r].vertices,u=0,h=o.length;u<h;u+=3)f=new THREE.Vector3,f.x=o[u]*t,f.y=o[u+1]*t,f.z=o[u+2]*t,s.push(f)}if(void 0!==n.morphColors&&0<n.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),t=i.faces,s=n.morphColors[0].colors,r=0,e=t.length;r<e;r++)t[r].color.fromArray(s,3*r)}(r),function(){var r=[],t=[],u,f;for(void 0!==n.animation&&t.push(n.animation),void 0!==n.animations&&(n.animations.length?t=t.concat(n.animations):t.push(n.animations)),u=0;u<t.length;u++)f=THREE.AnimationClip.parseAnimation(t[u],i.bones),f&&r.push(f);i.morphTargets&&(t=THREE.AnimationClip.CreateClipsFromMorphTargetSequences(i.morphTargets,10),r=r.concat(t));0<r.length&&(i.animations=r)}(),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===n.materials||0===n.materials.length)?{geometry:i}:(r=THREE.Loader.prototype.initMaterials(n.materials,t,this.crossOrigin),{geometry:i,materials:r})}});THREE.LoadingManager=function(n,t,i){var r=this,e=!1,u=0,f=0;this.onStart=void 0;this.onLoad=n;this.onProgress=t;this.onError=i;this.itemStart=function(n){if(f++,!1===e&&void 0!==r.onStart)r.onStart(n,u,f);e=!0};this.itemEnd=function(n){if(u++,void 0!==r.onProgress)r.onProgress(n,u,f);u===f&&(e=!1,void 0!==r.onLoad)&&r.onLoad()};this.itemError=function(n){if(void 0!==r.onError)r.onError(n)}};THREE.DefaultLoadingManager=new THREE.LoadingManager;THREE.BufferGeometryLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager};Object.assign(THREE.BufferGeometryLoader.prototype,{load:function(n,t,i,r){var u=this;new THREE.XHRLoader(u.manager).load(n,function(n){t(u.parse(JSON.parse(n)))},i,r)},parse:function(n){var f=new THREE.BufferGeometry,t=n.data.index,i={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array},r,u,e;void 0!==t&&(t=new i[t.type](t.array),f.setIndex(new THREE.BufferAttribute(t,1)));r=n.data.attributes;for(u in r)e=r[u],t=new i[e.type](e.array),f.addAttribute(u,new THREE.BufferAttribute(t,e.itemSize,e.normalized));if(i=n.data.groups||n.data.drawcalls||n.data.offsets,void 0!==i)for(u=0,t=i.length;u!==t;++u)r=i[u],f.addGroup(r.start,r.count,r.materialIndex);return n=n.data.boundingSphere,void 0!==n&&(i=new THREE.Vector3,void 0!==n.center&&i.fromArray(n.center),f.boundingSphere=new THREE.Sphere(i,n.radius)),f}});THREE.MaterialLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager;this.textures={}};Object.assign(THREE.MaterialLoader.prototype,{load:function(n,t,i,r){var u=this;new THREE.XHRLoader(u.manager).load(n,function(n){t(u.parse(JSON.parse(n)))},i,r)},setTextures:function(n){this.textures=n},getTexture:function(n){var t=this.textures;return void 0===t[n]&&console.warn("THREE.MaterialLoader: Undefined texture",n),t[n]},parse:function(n){var t=new THREE[n.type],i,r;if(void 0!==n.uuid&&(t.uuid=n.uuid),void 0!==n.name&&(t.name=n.name),void 0!==n.color&&t.color.setHex(n.color),void 0!==n.roughness&&(t.roughness=n.roughness),void 0!==n.metalness&&(t.metalness=n.metalness),void 0!==n.emissive&&t.emissive.setHex(n.emissive),void 0!==n.specular&&t.specular.setHex(n.specular),void 0!==n.shininess&&(t.shininess=n.shininess),void 0!==n.uniforms&&(t.uniforms=n.uniforms),void 0!==n.vertexShader&&(t.vertexShader=n.vertexShader),void 0!==n.fragmentShader&&(t.fragmentShader=n.fragmentShader),void 0!==n.vertexColors&&(t.vertexColors=n.vertexColors),void 0!==n.shading&&(t.shading=n.shading),void 0!==n.blending&&(t.blending=n.blending),void 0!==n.side&&(t.side=n.side),void 0!==n.opacity&&(t.opacity=n.opacity),void 0!==n.transparent&&(t.transparent=n.transparent),void 0!==n.alphaTest&&(t.alphaTest=n.alphaTest),void 0!==n.depthTest&&(t.depthTest=n.depthTest),void 0!==n.depthWrite&&(t.depthWrite=n.depthWrite),void 0!==n.colorWrite&&(t.colorWrite=n.colorWrite),void 0!==n.wireframe&&(t.wireframe=n.wireframe),void 0!==n.wireframeLinewidth&&(t.wireframeLinewidth=n.wireframeLinewidth),void 0!==n.size&&(t.size=n.size),void 0!==n.sizeAttenuation&&(t.sizeAttenuation=n.sizeAttenuation),void 0!==n.map&&(t.map=this.getTexture(n.map)),void 0!==n.alphaMap&&(t.alphaMap=this.getTexture(n.alphaMap),t.transparent=!0),void 0!==n.bumpMap&&(t.bumpMap=this.getTexture(n.bumpMap)),void 0!==n.bumpScale&&(t.bumpScale=n.bumpScale),void 0!==n.normalMap&&(t.normalMap=this.getTexture(n.normalMap)),void 0!==n.normalScale&&(i=n.normalScale,!1===Array.isArray(i)&&(i=[i,i]),t.normalScale=(new THREE.Vector2).fromArray(i)),void 0!==n.displacementMap&&(t.displacementMap=this.getTexture(n.displacementMap)),void 0!==n.displacementScale&&(t.displacementScale=n.displacementScale),void 0!==n.displacementBias&&(t.displacementBias=n.displacementBias),void 0!==n.roughnessMap&&(t.roughnessMap=this.getTexture(n.roughnessMap)),void 0!==n.metalnessMap&&(t.metalnessMap=this.getTexture(n.metalnessMap)),void 0!==n.emissiveMap&&(t.emissiveMap=this.getTexture(n.emissiveMap)),void 0!==n.emissiveIntensity&&(t.emissiveIntensity=n.emissiveIntensity),void 0!==n.specularMap&&(t.specularMap=this.getTexture(n.specularMap)),void 0!==n.envMap&&(t.envMap=this.getTexture(n.envMap),t.combine=THREE.MultiplyOperation),void 0!==n.reflectivity&&(t.reflectivity=n.reflectivity),void 0!==n.lightMap&&(t.lightMap=this.getTexture(n.lightMap)),void 0!==n.lightMapIntensity&&(t.lightMapIntensity=n.lightMapIntensity),void 0!==n.aoMap&&(t.aoMap=this.getTexture(n.aoMap)),void 0!==n.aoMapIntensity&&(t.aoMapIntensity=n.aoMapIntensity),void 0!==n.materials)for(i=0,r=n.materials.length;i<r;i++)t.materials.push(this.parse(n.materials[i]));return t}});THREE.ObjectLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager;this.texturePath=""};Object.assign(THREE.ObjectLoader.prototype,{load:function(n,t,i,r){""===this.texturePath&&(this.texturePath=n.substring(0,n.lastIndexOf("/")+1));var u=this;new THREE.XHRLoader(u.manager).load(n,function(n){u.parse(JSON.parse(n),t)},i,r)},setTexturePath:function(n){this.texturePath=n},setCrossOrigin:function(n){this.crossOrigin=n},parse:function(n,t){var u=this.parseGeometries(n.geometries),r=this.parseImages(n.images,function(){void 0!==t&&t(i)}),r=this.parseTextures(n.textures,r),r=this.parseMaterials(n.materials,r),i=this.parseObject(n.object,u,r);return n.animations&&(i.animations=this.parseAnimations(n.animations)),void 0!==n.images&&0!==n.images.length||void 0===t||t(i),i},parseGeometries:function(n){var u={},i,t;if(void 0!==n)for(var f=new THREE.JSONLoader,e=new THREE.BufferGeometryLoader,r=0,o=n.length;r<o;r++){t=n[r];switch(t.type){case"PlaneGeometry":case"PlaneBufferGeometry":i=new THREE[t.type](t.width,t.height,t.widthSegments,t.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":i=new THREE[t.type](t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":i=new THREE[t.type](t.radius,t.segments,t.thetaStart,t.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":i=new THREE[t.type](t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":i=new THREE[t.type](t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":i=new THREE[t.type](t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":i=new THREE[t.type](t.radius,t.detail);break;case"RingGeometry":case"RingBufferGeometry":i=new THREE[t.type](t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":i=new THREE[t.type](t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":i=new THREE[t.type](t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q);break;case"LatheGeometry":case"LatheBufferGeometry":i=new THREE[t.type](t.points,t.segments,t.phiStart,t.phiLength);break;case"BufferGeometry":i=e.parse(t);break;case"Geometry":i=f.parse(t.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+t.type+'"');continue}i.uuid=t.uuid;void 0!==t.name&&(i.name=t.name);u[t.uuid]=i}return u},parseMaterials:function(n,t){var f={},r,i,e,u;if(void 0!==n)for(r=new THREE.MaterialLoader,r.setTextures(t),i=0,e=n.length;i<e;i++)u=r.parse(n[i]),f[u.uuid]=u;return f},parseAnimations:function(n){for(var r,i=[],t=0;t<n.length;t++)r=THREE.AnimationClip.parse(n[t]),i.push(r);return i},parseImages:function(n,t){function h(n){return u.manager.itemStart(n),f.load(n,function(){u.manager.itemEnd(n)})}var u=this,e={},f,i,o,r,s;if(void 0!==n&&0<n.length)for(i=new THREE.LoadingManager(t),f=new THREE.ImageLoader(i),f.setCrossOrigin(this.crossOrigin),i=0,o=n.length;i<o;i++)r=n[i],s=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r.url)?r.url:u.texturePath+r.url,e[r.uuid]=h(s);return e},parseTextures:function(n,t){function u(n){return"number"==typeof n?n:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",n),THREE[n])}var e={},f,o,i,r;if(void 0!==n)for(f=0,o=n.length;f<o;f++)i=n[f],void 0===i.image&&console.warn('THREE.ObjectLoader: No "image" specified for',i.uuid),void 0===t[i.image]&&console.warn("THREE.ObjectLoader: Undefined image",i.image),r=new THREE.Texture(t[i.image]),r.needsUpdate=!0,r.uuid=i.uuid,void 0!==i.name&&(r.name=i.name),void 0!==i.mapping&&(r.mapping=u(i.mapping)),void 0!==i.offset&&r.offset.fromArray(i.offset),void 0!==i.repeat&&r.repeat.fromArray(i.repeat),void 0!==i.wrap&&(r.wrapS=u(i.wrap[0]),r.wrapT=u(i.wrap[1])),void 0!==i.minFilter&&(r.minFilter=u(i.minFilter)),void 0!==i.magFilter&&(r.magFilter=u(i.magFilter)),void 0!==i.anisotropy&&(r.anisotropy=i.anisotropy),void 0!==i.flipY&&(r.flipY=i.flipY),e[i.uuid]=r;return e},parseObject:function(){var n=new THREE.Matrix4;return function(t,i,r){function s(n){return void 0===i[n]&&console.warn("THREE.ObjectLoader: Undefined geometry",n),i[n]}function o(n){if(void 0!==n)return void 0===r[n]&&console.warn("THREE.ObjectLoader: Undefined material",n),r[n]}var u,f,e,h;switch(t.type){case"Scene":u=new THREE.Scene;break;case"PerspectiveCamera":u=new THREE.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);void 0!==t.focus&&(u.focus=t.focus);void 0!==t.zoom&&(u.zoom=t.zoom);void 0!==t.filmGauge&&(u.filmGauge=t.filmGauge);void 0!==t.filmOffset&&(u.filmOffset=t.filmOffset);void 0!==t.view&&(u.view=Object.assign({},t.view));break;case"OrthographicCamera":u=new THREE.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":u=new THREE.AmbientLight(t.color,t.intensity);break;case"DirectionalLight":u=new THREE.DirectionalLight(t.color,t.intensity);break;case"PointLight":u=new THREE.PointLight(t.color,t.intensity,t.distance,t.decay);break;case"SpotLight":u=new THREE.SpotLight(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":u=new THREE.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":u=s(t.geometry);f=o(t.material);u=u.bones&&0<u.bones.length?new THREE.SkinnedMesh(u,f):new THREE.Mesh(u,f);break;case"LOD":u=new THREE.LOD;break;case"Line":u=new THREE.Line(s(t.geometry),o(t.material),t.mode);break;case"PointCloud":case"Points":u=new THREE.Points(s(t.geometry),o(t.material));break;case"Sprite":u=new THREE.Sprite(o(t.material));break;case"Group":u=new THREE.Group;break;default:u=new THREE.Object3D}if(u.uuid=t.uuid,void 0!==t.name&&(u.name=t.name),void 0!==t.matrix?(n.fromArray(t.matrix),n.decompose(u.position,u.quaternion,u.scale)):(void 0!==t.position&&u.position.fromArray(t.position),void 0!==t.rotation&&u.rotation.fromArray(t.rotation),void 0!==t.scale&&u.scale.fromArray(t.scale)),void 0!==t.castShadow&&(u.castShadow=t.castShadow),void 0!==t.receiveShadow&&(u.receiveShadow=t.receiveShadow),void 0!==t.visible&&(u.visible=t.visible),void 0!==t.userData&&(u.userData=t.userData),void 0!==t.children)for(e in t.children)u.add(this.parseObject(t.children[e],i,r));if("LOD"===t.type)for(t=t.levels,f=0;f<t.length;f++)h=t[f],e=u.getObjectByProperty("uuid",h.object),void 0!==e&&u.addLevel(e,h.distance);return u}}()});THREE.TextureLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager};Object.assign(THREE.TextureLoader.prototype,{load:function(n,t,i,r){var u=new THREE.Texture,f=new THREE.ImageLoader(this.manager);return f.setCrossOrigin(this.crossOrigin),f.setPath(this.path),f.load(n,function(i){var r=0<n.search(/\.(jpg|jpeg)$/)||0===n.search(/^data\:image\/jpeg/);u.format=r?THREE.RGBFormat:THREE.RGBAFormat;u.image=i;u.needsUpdate=!0;void 0!==t&&t(u)},i,r),u},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this}});THREE.CubeTextureLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager};Object.assign(THREE.CubeTextureLoader.prototype,{load:function(n,t,i,r){function o(i){f.load(n[i],function(n){u.images[i]=n;e++;6===e&&(u.needsUpdate=!0,t&&t(u))},void 0,r)}var u=new THREE.CubeTexture,f=new THREE.ImageLoader(this.manager),e;for(f.setCrossOrigin(this.crossOrigin),f.setPath(this.path),e=0,i=0;i<n.length;++i)o(i);return u},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this}});THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager;this._parser=null};Object.assign(THREE.BinaryTextureLoader.prototype,{load:function(n,t,i,r){var e=this,u=new THREE.DataTexture,f=new THREE.XHRLoader(this.manager);return f.setResponseType("arraybuffer"),f.load(n,function(n){(n=e._parser(n))&&(void 0!==n.image?u.image=n.image:void 0!==n.data&&(u.image.width=n.width,u.image.height=n.height,u.image.data=n.data),u.wrapS=void 0!==n.wrapS?n.wrapS:THREE.ClampToEdgeWrapping,u.wrapT=void 0!==n.wrapT?n.wrapT:THREE.ClampToEdgeWrapping,u.magFilter=void 0!==n.magFilter?n.magFilter:THREE.LinearFilter,u.minFilter=void 0!==n.minFilter?n.minFilter:THREE.LinearMipMapLinearFilter,u.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(u.format=n.format),void 0!==n.type&&(u.type=n.type),void 0!==n.mipmaps&&(u.mipmaps=n.mipmaps),1===n.mipmapCount&&(u.minFilter=THREE.LinearFilter),u.needsUpdate=!0,t&&t(u,n))},i,r),u}});THREE.CompressedTextureLoader=function(n){this.manager=void 0!==n?n:THREE.DefaultLoadingManager;this._parser=null};Object.assign(THREE.CompressedTextureLoader.prototype,{load:function(n,t,i,r){function c(o){e.load(n[o],function(n){n=s._parser(n,!0);f[o]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps};h+=1;6===h&&(1===n.mipmapCount&&(u.minFilter=THREE.LinearFilter),u.format=n.format,u.needsUpdate=!0,t&&t(u))},i,r)}var s=this,f=[],u=new THREE.CompressedTexture,e;if(u.image=f,e=new THREE.XHRLoader(this.manager),e.setPath(this.path),e.setResponseType("arraybuffer"),Array.isArray(n))for(var h=0,o=0,l=n.length;o<l;++o)c(o);else e.load(n,function(n){var e,i,r;if(n=s._parser(n,!0),n.isCubemap)for(e=n.mipmaps.length/n.mipmapCount,i=0;i<e;i++)for(f[i]={mipmaps:[]},r=0;r<n.mipmapCount;r++)f[i].mipmaps.push(n.mipmaps[i*n.mipmapCount+r]),f[i].format=n.format,f[i].width=n.width,f[i].height=n.height;else u.image.width=n.width,u.image.height=n.height,u.mipmaps=n.mipmaps;1===n.mipmapCount&&(u.minFilter=THREE.LinearFilter);u.format=n.format;u.needsUpdate=!0;t&&t(u)},i,r);return u},setPath:function(n){return this.path=n,this}});THREE.Material=function(){Object.defineProperty(this,"id",{value:THREE.MaterialIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=THREE.NormalBlending;this.side=THREE.FrontSide;this.shading=THREE.SmoothShading;this.vertexColors=THREE.NoColors;this.opacity=1;this.transparent=!1;this.blendSrc=THREE.SrcAlphaFactor;this.blendDst=THREE.OneMinusSrcAlphaFactor;this.blendEquation=THREE.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=THREE.LessEqualDepth;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.premultipliedAlpha=!1;this.overdraw=0;this._needsUpdate=this.visible=!0};THREE.Material.prototype={constructor:THREE.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(n){!0===n&&this.update();this._needsUpdate=n},setValues:function(n){var t,i,r;if(void 0!==n)for(t in n)i=n[t],void 0===i?console.warn("THREE.Material: '"+t+"' parameter is undefined."):(r=this[t],void 0===r?console.warn("THREE."+this.type+": '"+t+"' is not a property of this material."):r instanceof THREE.Color?r.set(i):r instanceof THREE.Vector3&&i instanceof THREE.Vector3?r.copy(i):this[t]="overdraw"===t?Number(i):i)},toJSON:function(n){function r(n){var i=[],r,t;for(r in n)t=n[r],delete t.metadata,i.push(t);return i}var i=void 0===n,t;return i&&(n={textures:{},images:{}}),t={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}},t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),this.color instanceof THREE.Color&&(t.color=this.color.getHex()),void 0!==this.roughness&&(t.roughness=this.roughness),void 0!==this.metalness&&(t.metalness=this.metalness),this.emissive instanceof THREE.Color&&(t.emissive=this.emissive.getHex()),this.specular instanceof THREE.Color&&(t.specular=this.specular.getHex()),void 0!==this.shininess&&(t.shininess=this.shininess),this.map instanceof THREE.Texture&&(t.map=this.map.toJSON(n).uuid),this.alphaMap instanceof THREE.Texture&&(t.alphaMap=this.alphaMap.toJSON(n).uuid),this.lightMap instanceof THREE.Texture&&(t.lightMap=this.lightMap.toJSON(n).uuid),this.bumpMap instanceof THREE.Texture&&(t.bumpMap=this.bumpMap.toJSON(n).uuid,t.bumpScale=this.bumpScale),this.normalMap instanceof THREE.Texture&&(t.normalMap=this.normalMap.toJSON(n).uuid,t.normalScale=this.normalScale.toArray()),this.displacementMap instanceof THREE.Texture&&(t.displacementMap=this.displacementMap.toJSON(n).uuid,t.displacementScale=this.displacementScale,t.displacementBias=this.displacementBias),this.roughnessMap instanceof THREE.Texture&&(t.roughnessMap=this.roughnessMap.toJSON(n).uuid),this.metalnessMap instanceof THREE.Texture&&(t.metalnessMap=this.metalnessMap.toJSON(n).uuid),this.emissiveMap instanceof THREE.Texture&&(t.emissiveMap=this.emissiveMap.toJSON(n).uuid),this.specularMap instanceof THREE.Texture&&(t.specularMap=this.specularMap.toJSON(n).uuid),this.envMap instanceof THREE.Texture&&(t.envMap=this.envMap.toJSON(n).uuid,t.reflectivity=this.reflectivity),void 0!==this.size&&(t.size=this.size),void 0!==this.sizeAttenuation&&(t.sizeAttenuation=this.sizeAttenuation),this.blending!==THREE.NormalBlending&&(t.blending=this.blending),this.shading!==THREE.SmoothShading&&(t.shading=this.shading),this.side!==THREE.FrontSide&&(t.side=this.side),this.vertexColors!==THREE.NoColors&&(t.vertexColors=this.vertexColors),1>this.opacity&&(t.opacity=this.opacity),!0===this.transparent&&(t.transparent=this.transparent),0<this.alphaTest&&(t.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(t.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(t.wireframe=this.wireframe),1<this.wireframeLinewidth&&(t.wireframeLinewidth=this.wireframeLinewidth),i&&(i=r(n.textures),n=r(n.images),0<i.length&&(t.textures=i),0<n.length&&(t.images=n)),t},clone:function(){return(new this.constructor).copy(this)},copy:function(n){var i;if(this.name=n.name,this.fog=n.fog,this.lights=n.lights,this.blending=n.blending,this.side=n.side,this.shading=n.shading,this.vertexColors=n.vertexColors,this.opacity=n.opacity,this.transparent=n.transparent,this.blendSrc=n.blendSrc,this.blendDst=n.blendDst,this.blendEquation=n.blendEquation,this.blendSrcAlpha=n.blendSrcAlpha,this.blendDstAlpha=n.blendDstAlpha,this.blendEquationAlpha=n.blendEquationAlpha,this.depthFunc=n.depthFunc,this.depthTest=n.depthTest,this.depthWrite=n.depthWrite,this.colorWrite=n.colorWrite,this.precision=n.precision,this.polygonOffset=n.polygonOffset,this.polygonOffsetFactor=n.polygonOffsetFactor,this.polygonOffsetUnits=n.polygonOffsetUnits,this.alphaTest=n.alphaTest,this.premultipliedAlpha=n.premultipliedAlpha,this.overdraw=n.overdraw,this.visible=n.visible,this.clipShadows=n.clipShadows,n=n.clippingPlanes,i=null,null!==n)for(var r=n.length,i=Array(r),t=0;t!==r;++t)i[t]=n[t].clone();return this.clippingPlanes=i,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};Object.assign(THREE.Material.prototype,THREE.EventDispatcher.prototype);THREE.MaterialIdCount=0;THREE.LineBasicMaterial=function(n){THREE.Material.call(this);this.type="LineBasicMaterial";this.color=new THREE.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;this.setValues(n)};THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;THREE.LineBasicMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.color.copy(n.color),this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this};THREE.LineDashedMaterial=function(n){THREE.Material.call(this);this.type="LineDashedMaterial";this.color=new THREE.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;this.setValues(n)};THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial;THREE.LineDashedMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.color.copy(n.color),this.linewidth=n.linewidth,this.scale=n.scale,this.dashSize=n.dashSize,this.gapSize=n.gapSize,this};THREE.MeshBasicMaterial=function(n){THREE.Material.call(this);this.type="MeshBasicMaterial";this.color=new THREE.Color(16777215);this.aoMap=this.map=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;this.setValues(n)};THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;THREE.MeshBasicMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this};THREE.MeshDepthMaterial=function(n){THREE.Material.call(this);this.type="MeshDepthMaterial";this.depthPacking=THREE.BasicDepthPacking;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.setValues(n)};THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;THREE.MeshDepthMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.depthPacking=n.depthPacking,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this};THREE.MeshLambertMaterial=function(n){THREE.Material.call(this);this.type="MeshLambertMaterial";this.color=new THREE.Color(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new THREE.Color(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(n)};THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;THREE.MeshLambertMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this};THREE.MeshNormalMaterial=function(n){THREE.Material.call(this,n);this.type="MeshNormalMaterial";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=this.lights=this.fog=!1;this.setValues(n)};THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshNormalMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this};THREE.MeshPhongMaterial=function(n){THREE.Material.call(this);this.type="MeshPhongMaterial";this.color=new THREE.Color(16777215);this.specular=new THREE.Color(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new THREE.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(n)};THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;THREE.MeshPhongMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this};THREE.MeshStandardMaterial=function(n){THREE.Material.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new THREE.Color(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new THREE.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(n)};THREE.MeshStandardMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshStandardMaterial.prototype.constructor=THREE.MeshStandardMaterial;THREE.MeshStandardMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapIntensity=n.envMapIntensity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this};THREE.MeshPhysicalMaterial=function(n){THREE.MeshStandardMaterial.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoatRoughness=this.clearCoat=0;this.setValues(n)};THREE.MeshPhysicalMaterial.prototype=Object.create(THREE.MeshStandardMaterial.prototype);THREE.MeshPhysicalMaterial.prototype.constructor=THREE.MeshPhysicalMaterial;THREE.MeshPhysicalMaterial.prototype.copy=function(n){return THREE.MeshStandardMaterial.prototype.copy.call(this,n),this.defines={PHYSICAL:""},this.reflectivity=n.reflectivity,this.clearCoat=n.clearCoat,this.clearCoatRoughness=n.clearCoatRoughness,this};THREE.MultiMaterial=function(n){this.uuid=THREE.Math.generateUUID();this.type="MultiMaterial";this.materials=n instanceof Array?n:[];this.visible=!0};THREE.MultiMaterial.prototype={constructor:THREE.MultiMaterial,toJSON:function(n){for(var r,t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},u=this.materials,i=0,f=u.length;i<f;i++)r=u[i].toJSON(n),delete r.metadata,t.materials.push(r);return t.visible=this.visible,t},clone:function(){for(var n=new this.constructor,t=0;t<this.materials.length;t++)n.materials.push(this.materials[t].clone());return n.visible=this.visible,n}};THREE.PointsMaterial=function(n){THREE.Material.call(this);this.type="PointsMaterial";this.color=new THREE.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;this.setValues(n)};THREE.PointsMaterial.prototype=Object.create(THREE.Material.prototype);THREE.PointsMaterial.prototype.constructor=THREE.PointsMaterial;THREE.PointsMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this};THREE.ShaderMaterial=function(n){THREE.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==n&&(void 0!==n.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(n))};THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype);THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;THREE.ShaderMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=THREE.UniformsUtils.clone(n.uniforms),this.defines=n.defines,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.lights=n.lights,this.clipping=n.clipping,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this.extensions=n.extensions,this};THREE.ShaderMaterial.prototype.toJSON=function(n){return n=THREE.Material.prototype.toJSON.call(this,n),n.uniforms=this.uniforms,n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n};THREE.RawShaderMaterial=function(n){THREE.ShaderMaterial.call(this,n);this.type="RawShaderMaterial"};THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype);THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial;THREE.SpriteMaterial=function(n){THREE.Material.call(this);this.type="SpriteMaterial";this.color=new THREE.Color(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;this.setValues(n)};THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial;THREE.SpriteMaterial.prototype.copy=function(n){return THREE.Material.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.rotation=n.rotation,this};THREE.ShadowMaterial=function(){THREE.ShaderMaterial.call(this,{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:THREE.ShaderChunk.shadow_vert,fragmentShader:THREE.ShaderChunk.shadow_frag});this.transparent=this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(n){this.uniforms.opacity.value=n}}})};THREE.ShadowMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype);THREE.ShadowMaterial.prototype.constructor=THREE.ShadowMaterial;THREE.Texture=function(n,t,i,r,u,f,e,o,s,h){Object.defineProperty(this,"id",{value:THREE.TextureIdCount++});this.uuid=THREE.Math.generateUUID();this.sourceFile=this.name="";this.image=void 0!==n?n:THREE.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==t?t:THREE.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==i?i:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==r?r:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==u?u:THREE.LinearFilter;this.minFilter=void 0!==f?f:THREE.LinearMipMapLinearFilter;this.anisotropy=void 0!==s?s:1;this.format=void 0!==e?e:THREE.RGBAFormat;this.type=void 0!==o?o:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==h?h:THREE.LinearEncoding;this.version=0;this.onUpdate=null};THREE.Texture.DEFAULT_IMAGE=void 0;THREE.Texture.DEFAULT_MAPPING=THREE.UVMapping;THREE.Texture.prototype={constructor:THREE.Texture,set needsUpdate(n){!0===n&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.image=n.image,this.mipmaps=n.mipmaps.slice(0),this.mapping=n.mapping,this.wrapS=n.wrapS,this.wrapT=n.wrapT,this.magFilter=n.magFilter,this.minFilter=n.minFilter,this.anisotropy=n.anisotropy,this.format=n.format,this.type=n.type,this.offset.copy(n.offset),this.repeat.copy(n.repeat),this.generateMipmaps=n.generateMipmaps,this.premultiplyAlpha=n.premultiplyAlpha,this.flipY=n.flipY,this.unpackAlignment=n.unpackAlignment,this.encoding=n.encoding,this},toJSON:function(n){var r,t;if(void 0!==n.textures[this.uuid])return n.textures[this.uuid];if(r={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY},void 0!==this.image){if(t=this.image,void 0===t.uuid&&(t.uuid=THREE.Math.generateUUID()),void 0===n.images[t.uuid]){var u=n.images,f=t.uuid,e=t.uuid,i;void 0!==t.toDataURL?i=t:(i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0,t.width,t.height));i=2048<i.width||2048<i.height?i.toDataURL("image/jpeg",.6):i.toDataURL("image/png");u[f]={uuid:e,url:i}}r.image=t.uuid}return n.textures[this.uuid]=r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(n){if(this.mapping===THREE.UVMapping){if(n.multiply(this.repeat),n.add(this.offset),0>n.x||1<n.x)switch(this.wrapS){case THREE.RepeatWrapping:n.x-=Math.floor(n.x);break;case THREE.ClampToEdgeWrapping:n.x=0>n.x?0:1;break;case THREE.MirroredRepeatWrapping:1===Math.abs(Math.floor(n.x)%2)?n.x=Math.ceil(n.x)-n.x:n.x-=Math.floor(n.x)}if(0>n.y||1<n.y)switch(this.wrapT){case THREE.RepeatWrapping:n.y-=Math.floor(n.y);break;case THREE.ClampToEdgeWrapping:n.y=0>n.y?0:1;break;case THREE.MirroredRepeatWrapping:1===Math.abs(Math.floor(n.y)%2)?n.y=Math.ceil(n.y)-n.y:n.y-=Math.floor(n.y)}this.flipY&&(n.y=1-n.y)}}};Object.assign(THREE.Texture.prototype,THREE.EventDispatcher.prototype);THREE.TextureIdCount=0;THREE.DepthTexture=function(n,t,i,r,u,f,e,o,s){THREE.Texture.call(this,null,r,u,f,e,o,THREE.DepthFormat,i,s);this.image={width:n,height:t};this.type=void 0!==i?i:THREE.UnsignedShortType;this.magFilter=void 0!==e?e:THREE.NearestFilter;this.minFilter=void 0!==o?o:THREE.NearestFilter;this.generateMipmaps=this.flipY=!1};THREE.DepthTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DepthTexture.prototype.constructor=THREE.DepthTexture;THREE.CanvasTexture=function(n,t,i,r,u,f,e,o,s){THREE.Texture.call(this,n,t,i,r,u,f,e,o,s);this.needsUpdate=!0};THREE.CanvasTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CanvasTexture.prototype.constructor=THREE.CanvasTexture;THREE.CubeTexture=function(n,t,i,r,u,f,e,o,s,h){n=void 0!==n?n:[];t=void 0!==t?t:THREE.CubeReflectionMapping;THREE.Texture.call(this,n,t,i,r,u,f,e,o,s,h);this.flipY=!1};THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CubeTexture.prototype.constructor=THREE.CubeTexture;Object.defineProperty(THREE.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(n){this.image=n}});THREE.CompressedTexture=function(n,t,i,r,u,f,e,o,s,h,c,l){THREE.Texture.call(this,null,f,e,o,s,h,r,u,c,l);this.image={width:t,height:i};this.mipmaps=n;this.generateMipmaps=this.flipY=!1};THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture;THREE.DataTexture=function(n,t,i,r,u,f,e,o,s,h,c,l){THREE.Texture.call(this,null,f,e,o,s,h,r,u,c,l);this.image={data:n,width:t,height:i};this.magFilter=void 0!==s?s:THREE.NearestFilter;this.minFilter=void 0!==h?h:THREE.NearestFilter;this.generateMipmaps=this.flipY=!1};THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DataTexture.prototype.constructor=THREE.DataTexture;THREE.VideoTexture=function(n,t,i,r,u,f,e,o,s){function h(){requestAnimationFrame(h);n.readyState>=n.HAVE_CURRENT_DATA&&(c.needsUpdate=!0)}THREE.Texture.call(this,n,t,i,r,u,f,e,o,s);this.generateMipmaps=!1;var c=this;h()};THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype);THREE.VideoTexture.prototype.constructor=THREE.VideoTexture;THREE.Group=function(){THREE.Object3D.call(this);this.type="Group"};THREE.Group.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Group});THREE.Points=function(n,t){THREE.Object3D.call(this);this.type="Points";this.geometry=void 0!==n?n:new THREE.BufferGeometry;this.material=void 0!==t?t:new THREE.PointsMaterial({color:16777215*Math.random()})};THREE.Points.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Points,raycast:function(){var i=new THREE.Matrix4,n=new THREE.Ray,t=new THREE.Sphere;return function(r,u){function h(t,i){var o=n.distanceSqToPoint(t),f,e;o<v&&(f=n.closestPointToPoint(t),f.applyMatrix4(c),e=r.ray.origin.distanceTo(f),e<r.near||e>r.far||u.push({distance:e,distanceToRay:Math.sqrt(o),point:f.clone(),index:i,face:null,object:a}))}var a=this,e=this.geometry,c=this.matrixWorld,o=r.params.Points.threshold,f,l;if(null===e.boundingSphere&&e.computeBoundingSphere(),t.copy(e.boundingSphere),t.applyMatrix4(c),!1!==r.ray.intersectsSphere(t)){i.getInverse(c);n.copy(r.ray).applyMatrix4(i);var o=o/((this.scale.x+this.scale.y+this.scale.z)/3),v=o*o,o=new THREE.Vector3;if(e instanceof THREE.BufferGeometry)if(f=e.index,e=e.attributes.position.array,null!==f)for(var s=f.array,f=0,y=s.length;f<y;f++)l=s[f],o.fromArray(e,3*l),h(o,l);else for(f=0,s=e.length/3;f<s;f++)o.fromArray(e,3*f),h(o,f);else for(o=e.vertices,f=0,s=o.length;f<s;f++)h(o[f],f)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});THREE.Line=function(n,t,i){if(1===i)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new THREE.LineSegments(n,t);THREE.Object3D.call(this);this.type="Line";this.geometry=void 0!==n?n:new THREE.BufferGeometry;this.material=void 0!==t?t:new THREE.LineBasicMaterial({color:16777215*Math.random()})};THREE.Line.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Line,raycast:function(){var i=new THREE.Matrix4,n=new THREE.Ray,t=new THREE.Sphere;return function(r,u){var v=r.linePrecision,v=v*v,f=this.geometry,s=this.matrixWorld,l,a,e;if(null===f.boundingSphere&&f.computeBoundingSphere(),t.copy(f.boundingSphere),t.applyMatrix4(s),!1!==r.ray.intersectsSphere(t)){i.getInverse(s);n.copy(r.ray).applyMatrix4(i);var h=new THREE.Vector3,c=new THREE.Vector3,s=new THREE.Vector3,o=new THREE.Vector3,y=this instanceof THREE.LineSegments?2:1;if(f instanceof THREE.BufferGeometry)if(l=f.index,a=f.attributes.position.array,null!==l)for(var l=l.array,f=0,p=l.length-1;f<p;f+=y)e=l[f+1],h.fromArray(a,3*l[f]),c.fromArray(a,3*e),e=n.distanceSqToSegment(h,c,o,s),e>v||(o.applyMatrix4(this.matrixWorld),e=r.ray.origin.distanceTo(o),e<r.near||e>r.far||u.push({distance:e,point:s.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}));else for(f=0,p=a.length/3-1;f<p;f+=y)h.fromArray(a,3*f),c.fromArray(a,3*f+3),e=n.distanceSqToSegment(h,c,o,s),e>v||(o.applyMatrix4(this.matrixWorld),e=r.ray.origin.distanceTo(o),e<r.near||e>r.far||u.push({distance:e,point:s.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}));else if(f instanceof THREE.Geometry)for(h=f.vertices,c=h.length,f=0;f<c-1;f+=y)e=n.distanceSqToSegment(h[f],h[f+1],o,s),e>v||(o.applyMatrix4(this.matrixWorld),e=r.ray.origin.distanceTo(o),e<r.near||e>r.far||u.push({distance:e,point:s.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});THREE.LineSegments=function(n,t){THREE.Line.call(this,n,t);this.type="LineSegments"};THREE.LineSegments.prototype=Object.assign(Object.create(THREE.Line.prototype),{constructor:THREE.LineSegments});THREE.Mesh=function(n,t){THREE.Object3D.call(this);this.type="Mesh";this.geometry=void 0!==n?n:new THREE.BufferGeometry;this.material=void 0!==t?t:new THREE.MeshBasicMaterial({color:16777215*Math.random()});this.drawMode=THREE.TrianglesDrawMode;this.updateMorphTargets()};THREE.Mesh.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Mesh,setDrawMode:function(n){this.drawMode=n},copy:function(n){return THREE.Object3D.prototype.copy.call(this,n),this.drawMode=n.drawMode,this},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var n=0,t=this.geometry.morphTargets.length;n<t;n++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[n].name]=n}},getMorphTargetIndexByName:function(n){return void 0!==this.morphTargetDictionary[n]?this.morphTargetDictionary[n]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+n+" does not exist. Returning 0."),0)},raycast:function(){function l(n,t,i,r,u,f,e){return THREE.Triangle.barycoordFromPoint(n,t,i,r,o),u.multiplyScalar(o.x),f.multiplyScalar(o.y),e.multiplyScalar(o.z),u.add(f).add(e),u.clone()}function a(n,t,i,r,u,f,e){var o=n.material;return null===(o.side===THREE.BackSide?i.intersectTriangle(f,u,r,!0,e):i.intersectTriangle(r,u,f,o.side!==THREE.DoubleSide,e))?null:(h.copy(e),h.applyMatrix4(n.matrixWorld),i=t.ray.origin.distanceTo(h),i<t.near||i>t.far?null:{distance:i,point:h.clone(),object:n})}function v(r,o,h,c,v,y,p,w){return n.fromArray(c,3*y),t.fromArray(c,3*p),i.fromArray(c,3*w),(r=a(r,o,h,n,t,i,s))&&(v&&(u.fromArray(v,2*y),f.fromArray(v,2*p),e.fromArray(v,2*w),r.uv=l(s,n,t,i,u,f,e)),r.face=new THREE.Face3(y,p,w,THREE.Triangle.normal(n,t,i)),r.faceIndex=y),r}var y=new THREE.Matrix4,r=new THREE.Ray,c=new THREE.Sphere,n=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3,p=new THREE.Vector3,w=new THREE.Vector3,b=new THREE.Vector3,u=new THREE.Vector2,f=new THREE.Vector2,e=new THREE.Vector2,o=new THREE.Vector3,s=new THREE.Vector3,h=new THREE.Vector3;return function(o,h){var d=this.geometry,g=this.material,tt=this.matrixWorld,ft,k,ht,yt,rt,ct,lt,pt,at,vt;if(void 0!==g&&(null===d.boundingSphere&&d.computeBoundingSphere(),c.copy(d.boundingSphere),c.applyMatrix4(tt),!1!==o.ray.intersectsSphere(c)&&(y.getInverse(tt),r.copy(o.ray).applyMatrix4(y),null===d.boundingBox||!1!==r.intersectsBox(d.boundingBox))))if(d instanceof THREE.BufferGeometry){var ut,nt,g=d.index,tt=d.attributes,d=tt.position.array;if(void 0!==tt.uv&&(ft=tt.uv.array),null!==g)for(var tt=g.array,it=0,et=tt.length;it<et;it+=3)(g=tt[it],ut=tt[it+1],nt=tt[it+2],k=v(this,o,r,d,ft,g,ut,nt))&&(k.faceIndex=Math.floor(it/3),h.push(k));else for(it=0,et=d.length;it<et;it+=9)(g=it/3,ut=g+1,nt=g+2,k=v(this,o,r,d,ft,g,ut,nt))&&(k.index=g,h.push(k))}else if(d instanceof THREE.Geometry){var ot,st,tt=g instanceof THREE.MultiMaterial,it=!0===tt?g.materials:null,et=d.vertices;for(ut=d.faces,nt=d.faceVertexUvs[0],0<nt.length&&(ft=nt),ht=0,yt=ut.length;ht<yt;ht++)if(rt=ut[ht],k=!0===tt?it[rt.materialIndex]:g,void 0!==k){if(nt=et[rt.a],ot=et[rt.b],st=et[rt.c],!0===k.morphTargets){for(k=d.morphTargets,ct=this.morphTargetInfluences,n.set(0,0,0),t.set(0,0,0),i.set(0,0,0),lt=0,pt=k.length;lt<pt;lt++)at=ct[lt],0!==at&&(vt=k[lt].vertices,n.addScaledVector(p.subVectors(vt[rt.a],nt),at),t.addScaledVector(w.subVectors(vt[rt.b],ot),at),i.addScaledVector(b.subVectors(vt[rt.c],st),at));n.add(nt);t.add(ot);i.add(st);nt=n;ot=t;st=i}(k=a(this,o,r,nt,ot,st,s))&&(ft&&(ct=ft[ht],u.copy(ct[0]),f.copy(ct[1]),e.copy(ct[2]),k.uv=l(s,nt,ot,st,u,f,e)),k.face=rt,k.faceIndex=ht,h.push(k))}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});THREE.Bone=function(n){THREE.Object3D.call(this);this.type="Bone";this.skin=n};THREE.Bone.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Bone,copy:function(n){return THREE.Object3D.prototype.copy.call(this,n),this.skin=n.skin,this}});THREE.Skeleton=function(n,t,i){if(this.useVertexTexture=void 0!==i?i:!0,this.identityMatrix=new THREE.Matrix4,n=n||[],this.bones=n.slice(0),this.useVertexTexture?(n=Math.sqrt(4*this.bones.length),n=THREE.Math.nextPowerOfTwo(Math.ceil(n)),this.boneTextureHeight=this.boneTextureWidth=n=Math.max(n,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType)):this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],t=0,n=this.bones.length;t<n;t++)this.boneInverses.push(new THREE.Matrix4)};Object.assign(THREE.Skeleton.prototype,{calculateInverses:function(){var n,i,t;for(this.boneInverses=[],n=0,i=this.bones.length;n<i;n++)t=new THREE.Matrix4,this.bones[n]&&t.getInverse(this.bones[n].matrixWorld),this.boneInverses.push(t)},pose:function(){for(var n,t=0,i=this.bones.length;t<i;t++)(n=this.bones[t])&&n.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,i=this.bones.length;t<i;t++)(n=this.bones[t])&&(n.parent instanceof THREE.Bone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))},update:function(){var n=new THREE.Matrix4;return function(){for(var t=0,i=this.bones.length;t<i;t++)n.multiplyMatrices(this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix,this.boneInverses[t]),n.toArray(this.boneMatrices,16*t);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new THREE.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}});THREE.SkinnedMesh=function(n,t,i){if(THREE.Mesh.call(this,n,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new THREE.Matrix4,this.bindMatrixInverse=new THREE.Matrix4,n=[],this.geometry&&void 0!==this.geometry.bones){for(var r,u=0,f=this.geometry.bones.length;u<f;++u)r=this.geometry.bones[u],t=new THREE.Bone(this),n.push(t),t.name=r.name,t.position.fromArray(r.pos),t.quaternion.fromArray(r.rotq),void 0!==r.scl&&t.scale.fromArray(r.scl);for(u=0,f=this.geometry.bones.length;u<f;++u)r=this.geometry.bones[u],-1!==r.parent&&null!==r.parent&&void 0!==n[r.parent]?n[r.parent].add(n[u]):this.add(n[u])}this.normalizeSkinWeights();this.updateMatrixWorld(!0);this.bind(new THREE.Skeleton(n,void 0,i),this.matrixWorld)};THREE.SkinnedMesh.prototype=Object.assign(Object.create(THREE.Mesh.prototype),{constructor:THREE.SkinnedMesh,bind:function(n,t){this.skeleton=n;void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld);this.bindMatrix.copy(t);this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,n,i;if(this.geometry instanceof THREE.Geometry)for(t=0;t<this.geometry.skinWeights.length;t++)n=this.geometry.skinWeights[t],i=1/n.lengthManhattan(),Infinity!==i?n.multiplyScalar(i):n.set(1,0,0,0);else if(this.geometry instanceof THREE.BufferGeometry)for(var n=new THREE.Vector4,r=this.geometry.attributes.skinWeight,t=0;t<r.count;t++)n.x=r.getX(t),n.y=r.getY(t),n.z=r.getZ(t),n.w=r.getW(t),i=1/n.lengthManhattan(),Infinity!==i?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(t,n.x,n.y,n.z,n.w)},updateMatrixWorld:function(){THREE.Mesh.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}});THREE.LOD=function(){THREE.Object3D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})};THREE.LOD.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.LOD,copy:function(n){var t,r,i;for(THREE.Object3D.prototype.copy.call(this,n,!1),n=n.levels,t=0,r=n.length;t<r;t++)i=n[t],this.addLevel(i.object.clone(),i.distance);return this},addLevel:function(n,t){void 0===t&&(t=0);t=Math.abs(t);for(var r=this.levels,i=0;i<r.length&&!(t<r[i].distance);i++);r.splice(i,0,{distance:t,object:n});this.add(n)},getObjectForDistance:function(n){for(var i=this.levels,t=1,r=i.length;t<r&&!(n<i[t].distance);t++);return i[t-1].object},raycast:function(){var n=new THREE.Vector3;return function(t,i){n.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(n);this.getObjectForDistance(r).raycast(t,i)}}(),update:function(){var n=new THREE.Vector3,t=new THREE.Vector3;return function(i){var u=this.levels,r,f;if(1<u.length){for(n.setFromMatrixPosition(i.matrixWorld),t.setFromMatrixPosition(this.matrixWorld),i=n.distanceTo(t),u[0].object.visible=!0,r=1,f=u.length;r<f;r++)if(i>=u[r].distance)u[r-1].object.visible=!1,u[r].object.visible=!0;else break;for(;r<f;r++)u[r].object.visible=!1}}}(),toJSON:function(n){var i;n=THREE.Object3D.prototype.toJSON.call(this,n);n.object.levels=[];for(var r=this.levels,t=0,u=r.length;t<u;t++)i=r[t],n.object.levels.push({object:i.object.uuid,distance:i.distance});return n}});THREE.Sprite=function(n){THREE.Object3D.call(this);this.type="Sprite";this.material=void 0!==n?n:new THREE.SpriteMaterial};THREE.Sprite.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.Sprite,raycast:function(){var n=new THREE.Vector3;return function(t,i){n.setFromMatrixPosition(this.matrixWorld);var r=t.ray.distanceSqToPoint(n);r>this.scale.x*this.scale.y/4||i.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}});THREE.LensFlare=function(n,t,i,r,u){THREE.Object3D.call(this);this.lensFlares=[];this.positionScreen=new THREE.Vector3;this.customUpdateCallback=void 0;void 0!==n&&this.add(n,t,i,r,u)};THREE.LensFlare.prototype=Object.assign(Object.create(THREE.Object3D.prototype),{constructor:THREE.LensFlare,copy:function(n){THREE.Object3D.prototype.copy.call(this,n);this.positionScreen.copy(n.positionScreen);this.customUpdateCallback=n.customUpdateCallback;for(var t=0,i=n.lensFlares.length;t<i;t++)this.lensFlares.push(n.lensFlares[t]);return this},add:function(n,t,i,r,u,f){void 0===t&&(t=-1);void 0===i&&(i=0);void 0===f&&(f=1);void 0===u&&(u=new THREE.Color(16777215));void 0===r&&(r=THREE.NormalBlending);i=Math.min(i,Math.max(0,i));this.lensFlares.push({texture:n,size:t,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:f,color:u,blending:r})},updateLensFlares:function(){for(var i=this.lensFlares.length,n,r=2*-this.positionScreen.x,u=2*-this.positionScreen.y,t=0;t<i;t++)n=this.lensFlares[t],n.x=this.positionScreen.x+r*n.distance,n.y=this.positionScreen.y+u*n.distance,n.wantedRotation=n.x*Math.PI*.25,n.rotation+=.25*(n.wantedRotation-n.rotation)}});THREE.Scene=function(){THREE.Object3D.call(this);this.type="Scene";this.overrideMaterial=this.fog=this.background=null;this.autoUpdate=!0};THREE.Scene.prototype=Object.create(THREE.Object3D.prototype);THREE.Scene.prototype.constructor=THREE.Scene;THREE.Scene.prototype.copy=function(n,t){return THREE.Object3D.prototype.copy.call(this,n,t),null!==n.background&&(this.background=n.background.clone()),null!==n.fog&&(this.fog=n.fog.clone()),null!==n.overrideMaterial&&(this.overrideMaterial=n.overrideMaterial.clone()),this.autoUpdate=n.autoUpdate,this.matrixAutoUpdate=n.matrixAutoUpdate,this};THREE.Fog=function(n,t,i){this.name="";this.color=new THREE.Color(n);this.near=void 0!==t?t:1;this.far=void 0!==i?i:1e3};THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)};THREE.FogExp2=function(n,t){this.name="";this.color=new THREE.Color(n);this.density=void 0!==t?t:.00025};THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)};THREE.ShaderChunk={};THREE.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";THREE.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";THREE.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";THREE.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";THREE.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";THREE.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n";THREE.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n";THREE.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";THREE.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";THREE.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n";THREE.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";THREE.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";THREE.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n";THREE.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif";THREE.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";THREE.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";THREE.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif";THREE.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";THREE.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";THREE.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n";THREE.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";THREE.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";THREE.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";THREE.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";THREE.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";THREE.ShaderChunk.encodings_fragment="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";THREE.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";THREE.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";THREE.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";THREE.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";THREE.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";THREE.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";THREE.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";THREE.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";THREE.ShaderChunk.lights_lambert_vertex="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";THREE.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#include <normal_flip>\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#include <normal_flip>\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";THREE.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";THREE.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";THREE.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n";THREE.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";THREE.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n";THREE.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";THREE.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";THREE.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";THREE.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n";THREE.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n";THREE.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";THREE.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";THREE.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n";THREE.ShaderChunk.metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n";THREE.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";THREE.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";THREE.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";THREE.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";THREE.ShaderChunk.normal_flip="#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n";THREE.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";THREE.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";THREE.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";THREE.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";THREE.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n";THREE.ShaderChunk.roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n";THREE.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";THREE.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";THREE.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";THREE.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";THREE.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";THREE.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";THREE.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";THREE.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n";THREE.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";THREE.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";THREE.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";THREE.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";THREE.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";THREE.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";THREE.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";THREE.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif";THREE.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";THREE.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n";THREE.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";THREE.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n";THREE.UniformsUtils={merge:function(n){for(var r,u,i={},t=0;t<n.length;t++){r=this.clone(n[t]);for(u in r)i[u]=r[u]}return i},clone:function(n){var r={},i,u,t;for(i in n){r[i]={};for(u in n[i])t=n[i][u],r[i][u]=t instanceof THREE.Color||t instanceof THREE.Vector2||t instanceof THREE.Vector3||t instanceof THREE.Vector4||t instanceof THREE.Matrix3||t instanceof THREE.Matrix4||t instanceof THREE.Texture?t.clone():Array.isArray(t)?t.slice():t}return r}};THREE.UniformsLib={common:{diffuse:{value:new THREE.Color(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new THREE.Vector4(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new THREE.Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},fog:{fogDensity:{value:.00025},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new THREE.Color(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}}},points:{diffuse:{value:new THREE.Color(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new THREE.Vector4(0,0,1,1)}}};THREE.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n";THREE.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n";THREE.ShaderChunk.depth_frag="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";THREE.ShaderChunk.depth_vert="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";THREE.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n";THREE.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n";THREE.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n";THREE.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";THREE.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";THREE.ShaderChunk.meshbasic_vert="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n";THREE.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";THREE.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";THREE.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";THREE.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n";THREE.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";THREE.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";THREE.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n";THREE.ShaderChunk.shadow_frag="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n";THREE.ShaderChunk.shadow_vert="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n";THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.fog]),vertexShader:THREE.ShaderChunk.meshbasic_vert,fragmentShader:THREE.ShaderChunk.meshbasic_frag},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,{emissive:{value:new THREE.Color(0)}}]),vertexShader:THREE.ShaderChunk.meshlambert_vert,fragmentShader:THREE.ShaderChunk.meshlambert_frag},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.bumpmap,THREE.UniformsLib.normalmap,THREE.UniformsLib.displacementmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,{emissive:{value:new THREE.Color(0)},specular:{value:new THREE.Color(1118481)},shininess:{value:30}}]),vertexShader:THREE.ShaderChunk.meshphong_vert,fragmentShader:THREE.ShaderChunk.meshphong_frag},standard:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.aomap,THREE.UniformsLib.lightmap,THREE.UniformsLib.emissivemap,THREE.UniformsLib.bumpmap,THREE.UniformsLib.normalmap,THREE.UniformsLib.displacementmap,THREE.UniformsLib.roughnessmap,THREE.UniformsLib.metalnessmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,{emissive:{value:new THREE.Color(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:THREE.ShaderChunk.meshphysical_vert,fragmentShader:THREE.ShaderChunk.meshphysical_frag},points:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.points,THREE.UniformsLib.fog]),vertexShader:THREE.ShaderChunk.points_vert,fragmentShader:THREE.ShaderChunk.points_frag},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:THREE.ShaderChunk.linedashed_vert,fragmentShader:THREE.ShaderChunk.linedashed_frag},depth:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.displacementmap]),vertexShader:THREE.ShaderChunk.depth_vert,fragmentShader:THREE.ShaderChunk.depth_frag},normal:{uniforms:{opacity:{value:1}},vertexShader:THREE.ShaderChunk.normal_vert,fragmentShader:THREE.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:THREE.ShaderChunk.cube_vert,fragmentShader:THREE.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:THREE.ShaderChunk.equirect_vert,fragmentShader:THREE.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new THREE.Vector3}},vertexShader:THREE.ShaderChunk.distanceRGBA_vert,fragmentShader:THREE.ShaderChunk.distanceRGBA_frag}};THREE.ShaderLib.physical={uniforms:THREE.UniformsUtils.merge([THREE.ShaderLib.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:THREE.ShaderChunk.meshphysical_vert,fragmentShader:THREE.ShaderChunk.meshphysical_frag};THREE.WebGLRenderer=function(n){function rt(n,t,r,u){!0===nr&&(n*=u,t*=u,r*=u);i.clearColor(n,t,r,u)}function li(){i.init();i.scissor(bt.copy(si).multiplyScalar(c));i.viewport(et.copy(ot).multiplyScalar(c));rt(o.r,o.g,o.b,p)}function ai(){y=fi=null;ft="";ut=-1;i.reset()}function vi(n){n.preventDefault();ai();li();h.clear()}function yi(n){n=n.target;n.removeEventListener("dispose",yi);pi(n);h.delete(n)}function pi(n){var t=h.get(n).program;n.program=void 0;void 0!==t&&st.releaseProgram(t)}function er(n,t){return Math.abs(t[0])-Math.abs(n[0])}function or(n,t){return n.object.renderOrder!==t.object.renderOrder?n.object.renderOrder-t.object.renderOrder:n.material.program&&t.material.program&&n.material.program!==t.material.program?n.material.program.id-t.material.program.id:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function sr(n,t){return n.object.renderOrder!==t.object.renderOrder?n.object.renderOrder-t.object.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function ii(n,t,i,r,u){var e;i.transparent?(r=g,e=++yt):(r=d,e=++vt);e=r[e];void 0!==e?(e.id=n.id,e.object=n,e.geometry=t,e.material=i,e.z=f.z,e.group=u):(e={id:n.id,object:n,geometry:t,material:i,z:f.z,group:u},r.push(e))}function wi(n){var t,r,u,i;if(!rr.intersectsSphere(n))return!1;if(t=a.numPlanes,0===t)return!0;r=e.clippingPlanes;u=n.center;n=-n.radius;i=0;do if(r[i].distanceToPoint(u)<n)return!1;while(++i!==t);return!0}function bi(n,t){var i,r,o,s;if(!1!==n.visible){if(n.layers.test(t.layers))if(n instanceof THREE.Light)at.push(n);else if(n instanceof THREE.Sprite)(i=!1===n.frustumCulled)||(nt.center.set(0,0,0),nt.radius=.70710678118654757,nt.applyMatrix4(n.matrixWorld),i=!0===wi(nt)),i&&ri.push(n);else if(n instanceof THREE.LensFlare)ui.push(n);else if(n instanceof THREE.ImmediateRenderObject)!0===e.sortObjects&&(f.setFromMatrixPosition(n.matrixWorld),f.applyProjection(ni)),ii(n,null,n.material,f.z,null);else if((n instanceof THREE.Mesh||n instanceof THREE.Line||n instanceof THREE.Points)&&(n instanceof THREE.SkinnedMesh&&n.skeleton.update(),(i=!1===n.frustumCulled)||(i=n.geometry,null===i.boundingSphere&&i.computeBoundingSphere(),nt.copy(i.boundingSphere).applyMatrix4(n.matrixWorld),i=!0===wi(nt)),i)&&(r=n.material,!0===r.visible))if(!0===e.sortObjects&&(f.setFromMatrixPosition(n.matrixWorld),f.applyProjection(ni)),i=b.update(n),r instanceof THREE.MultiMaterial)for(var h=i.groups,c=r.materials,r=0,u=h.length;r<u;r++)o=h[r],s=c[o.materialIndex],!0===s.visible&&ii(n,i,s,f.z,o);else ii(n,i,r,f.z,null);for(i=n.children,r=0,u=i.length;r<u;r++)bi(i[r],t)}}function ct(n,t,i,r){for(var c,o=0,h=n.length;o<h;o++){var f=n[o],u=f.object,l=f.geometry,s=void 0===r?f.material:r,f=f.group;u.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,u.matrixWorld);u.normalMatrix.getNormalMatrix(u.modelViewMatrix);u instanceof THREE.ImmediateRenderObject?(ki(s),c=di(t,i,s,u),ft="",u.render(function(n){e.renderBufferImmediate(n,c,s)})):e.renderBufferDirect(t,i,l,s,u,f)}}function ki(n){n.side!==THREE.DoubleSide?i.enable(t.CULL_FACE):i.disable(t.CULL_FACE);i.setFlipSided(n.side===THREE.BackSide);!0===n.transparent?i.setBlending(n.blending,n.blendEquation,n.blendSrc,n.blendDst,n.blendEquationAlpha,n.blendSrcAlpha,n.blendDstAlpha,n.premultipliedAlpha):i.setBlending(THREE.NoBlending);i.setDepthFunc(n.depthFunc);i.setDepthTest(n.depthTest);i.setDepthWrite(n.depthWrite);i.setColorWrite(n.colorWrite);i.setPolygonOffset(n.polygonOffset,n.polygonOffsetFactor,n.polygonOffsetUnits)}function di(n,i,u,o){var d,b;if(oi=0,d=h.get(u),gt&&((hi||n!==y)&&a.setState(u.clippingPlanes,u.clipShadows,n,d,n===y&&u.id===ut),void 0!==d.numClippingPlanes&&d.numClippingPlanes!==a.numPlanes&&(u.needsUpdate=!0)),void 0===d.program&&(u.needsUpdate=!0),void 0!==d.lightsHash&&d.lightsHash!==r.hash&&(u.needsUpdate=!0),u.needsUpdate){n:{var k=h.get(u),v=st.getParameters(u,r,i,a.numPlanes,o),p=st.getProgramCode(u,v),w=k.program,nt=!0;if(void 0===w)u.addEventListener("dispose",yi);else if(w.code!==p)pi(u);else if(void 0!==v.shaderID)break n;else nt=!1;if(nt&&(v.shaderID?(w=THREE.ShaderLib[v.shaderID],k.__webglShader={name:u.type,uniforms:THREE.UniformsUtils.clone(w.uniforms),vertexShader:w.vertexShader,fragmentShader:w.fragmentShader}):k.__webglShader={name:u.type,uniforms:u.uniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader},u.__webglShader=k.__webglShader,w=st.acquireProgram(u,v,p),k.program=w,u.program=w),v=w.getAttributes(),u.morphTargets)for(p=u.numSupportedMorphTargets=0;p<e.maxMorphTargets;p++)0<=v["morphTarget"+p]&&u.numSupportedMorphTargets++;if(u.morphNormals)for(p=u.numSupportedMorphNormals=0;p<e.maxMorphNormals;p++)0<=v["morphNormal"+p]&&u.numSupportedMorphNormals++;v=k.__webglShader.uniforms;(u instanceof THREE.ShaderMaterial||u instanceof THREE.RawShaderMaterial)&&!0!==u.clipping||(k.numClippingPlanes=a.numPlanes,v.clippingPlanes=a.uniform);u.lights&&(k.lightsHash=r.hash,v.ambientLightColor.value=r.ambient,v.directionalLights.value=r.directional,v.spotLights.value=r.spot,v.pointLights.value=r.point,v.hemisphereLights.value=r.hemi,v.directionalShadowMap.value=r.directionalShadowMap,v.directionalShadowMatrix.value=r.directionalShadowMatrix,v.spotShadowMap.value=r.spotShadowMap,v.spotShadowMatrix.value=r.spotShadowMatrix,v.pointShadowMap.value=r.pointShadowMap,v.pointShadowMatrix.value=r.pointShadowMatrix);p=k.program.getUniforms();p=THREE.WebGLUniforms.seqWithValue(p.seq,v);k.uniformsList=p;k.dynamicUniforms=THREE.WebGLUniforms.splitDynamic(p,v)}u.needsUpdate=!1}var g=!1,nt=w=!1,k=d.program,p=k.getUniforms(),v=d.__webglShader.uniforms;return k.id!==fi&&(t.useProgram(k.program),fi=k.id,nt=w=g=!0),u.id!==ut&&(ut=u.id,w=!0),(g||n!==y)&&(p.set(t,n,"projectionMatrix"),l.logarithmicDepthBuffer&&p.setValue(t,"logDepthBufFC",2/(Math.log(n.far+1)/Math.LN2)),n!==y&&(y=n,nt=w=!0),(u instanceof THREE.ShaderMaterial||u instanceof THREE.MeshPhongMaterial||u instanceof THREE.MeshStandardMaterial||u.envMap)&&(g=p.map.cameraPosition,void 0!==g&&g.setValue(t,f.setFromMatrixPosition(n.matrixWorld))),(u instanceof THREE.MeshPhongMaterial||u instanceof THREE.MeshLambertMaterial||u instanceof THREE.MeshBasicMaterial||u instanceof THREE.MeshStandardMaterial||u instanceof THREE.ShaderMaterial||u.skinning)&&p.setValue(t,"viewMatrix",n.matrixWorldInverse),p.set(t,e,"toneMappingExposure"),p.set(t,e,"toneMappingWhitePoint")),u.skinning&&(p.setOptional(t,o,"bindMatrix"),p.setOptional(t,o,"bindMatrixInverse"),g=o.skeleton)&&(l.floatVertexTextures&&g.useVertexTexture?(p.set(t,g,"boneTexture"),p.set(t,g,"boneTextureWidth"),p.set(t,g,"boneTextureHeight")):p.setOptional(t,g,"boneMatrices")),w&&(u.lights&&(w=nt,v.ambientLightColor.needsUpdate=w,v.directionalLights.needsUpdate=w,v.pointLights.needsUpdate=w,v.spotLights.needsUpdate=w,v.hemisphereLights.needsUpdate=w),i&&u.fog&&(v.fogColor.value=i.color,i instanceof THREE.Fog?(v.fogNear.value=i.near,v.fogFar.value=i.far):i instanceof THREE.FogExp2&&(v.fogDensity.value=i.density)),(u instanceof THREE.MeshBasicMaterial||u instanceof THREE.MeshLambertMaterial||u instanceof THREE.MeshPhongMaterial||u instanceof THREE.MeshStandardMaterial||u instanceof THREE.MeshDepthMaterial)&&(v.opacity.value=u.opacity,v.diffuse.value=u.color,u.emissive&&v.emissive.value.copy(u.emissive).multiplyScalar(u.emissiveIntensity),v.map.value=u.map,v.specularMap.value=u.specularMap,v.alphaMap.value=u.alphaMap,u.aoMap&&(v.aoMap.value=u.aoMap,v.aoMapIntensity.value=u.aoMapIntensity),u.map?b=u.map:u.specularMap?b=u.specularMap:u.displacementMap?b=u.displacementMap:u.normalMap?b=u.normalMap:u.bumpMap?b=u.bumpMap:u.roughnessMap?b=u.roughnessMap:u.metalnessMap?b=u.metalnessMap:u.alphaMap?b=u.alphaMap:u.emissiveMap&&(b=u.emissiveMap),void 0!==b&&(b instanceof THREE.WebGLRenderTarget&&(b=b.texture),i=b.offset,b=b.repeat,v.offsetRepeat.value.set(i.x,i.y,b.x,b.y)),v.envMap.value=u.envMap,v.flipEnvMap.value=u.envMap instanceof THREE.CubeTexture?-1:1,v.reflectivity.value=u.reflectivity,v.refractionRatio.value=u.refractionRatio),u instanceof THREE.LineBasicMaterial?(v.diffuse.value=u.color,v.opacity.value=u.opacity):u instanceof THREE.LineDashedMaterial?(v.diffuse.value=u.color,v.opacity.value=u.opacity,v.dashSize.value=u.dashSize,v.totalSize.value=u.dashSize+u.gapSize,v.scale.value=u.scale):u instanceof THREE.PointsMaterial?(v.diffuse.value=u.color,v.opacity.value=u.opacity,v.size.value=u.size*c,v.scale.value=.5*s.clientHeight,v.map.value=u.map,null!==u.map&&(b=u.map.offset,u=u.map.repeat,v.offsetRepeat.value.set(b.x,b.y,u.x,u.y))):u instanceof THREE.MeshLambertMaterial?(u.lightMap&&(v.lightMap.value=u.lightMap,v.lightMapIntensity.value=u.lightMapIntensity),u.emissiveMap&&(v.emissiveMap.value=u.emissiveMap)):u instanceof THREE.MeshPhongMaterial?(v.specular.value=u.specular,v.shininess.value=Math.max(u.shininess,.0001),u.lightMap&&(v.lightMap.value=u.lightMap,v.lightMapIntensity.value=u.lightMapIntensity),u.emissiveMap&&(v.emissiveMap.value=u.emissiveMap),u.bumpMap&&(v.bumpMap.value=u.bumpMap,v.bumpScale.value=u.bumpScale),u.normalMap&&(v.normalMap.value=u.normalMap,v.normalScale.value.copy(u.normalScale)),u.displacementMap&&(v.displacementMap.value=u.displacementMap,v.displacementScale.value=u.displacementScale,v.displacementBias.value=u.displacementBias)):u instanceof THREE.MeshPhysicalMaterial?(v.clearCoat.value=u.clearCoat,v.clearCoatRoughness.value=u.clearCoatRoughness,gi(v,u)):u instanceof THREE.MeshStandardMaterial?gi(v,u):u instanceof THREE.MeshDepthMaterial?u.displacementMap&&(v.displacementMap.value=u.displacementMap,v.displacementScale.value=u.displacementScale,v.displacementBias.value=u.displacementBias):u instanceof THREE.MeshNormalMaterial&&(v.opacity.value=u.opacity),THREE.WebGLUniforms.upload(t,d.uniformsList,v,e)),p.set(t,o,"modelViewMatrix"),p.set(t,o,"normalMatrix"),p.setValue(t,"modelMatrix",o.matrixWorld),d=d.dynamicUniforms,null!==d&&(THREE.WebGLUniforms.evalDynamic(d,v,o,n),THREE.WebGLUniforms.upload(t,d,v,e)),k}function gi(n,t){n.roughness.value=t.roughness;n.metalness.value=t.metalness;t.roughnessMap&&(n.roughnessMap.value=t.roughnessMap);t.metalnessMap&&(n.metalnessMap.value=t.metalnessMap);t.lightMap&&(n.lightMap.value=t.lightMap,n.lightMapIntensity.value=t.lightMapIntensity);t.emissiveMap&&(n.emissiveMap.value=t.emissiveMap);t.bumpMap&&(n.bumpMap.value=t.bumpMap,n.bumpScale.value=t.bumpScale);t.normalMap&&(n.normalMap.value=t.normalMap,n.normalScale.value.copy(t.normalScale));t.displacementMap&&(n.displacementMap.value=t.displacementMap,n.displacementScale.value=t.displacementScale,n.displacementBias.value=t.displacementBias);t.envMap&&(n.envMapIntensity.value=t.envMapIntensity)}function k(n){var i;if(n===THREE.RepeatWrapping)return t.REPEAT;if(n===THREE.ClampToEdgeWrapping)return t.CLAMP_TO_EDGE;if(n===THREE.MirroredRepeatWrapping)return t.MIRRORED_REPEAT;if(n===THREE.NearestFilter)return t.NEAREST;if(n===THREE.NearestMipMapNearestFilter)return t.NEAREST_MIPMAP_NEAREST;if(n===THREE.NearestMipMapLinearFilter)return t.NEAREST_MIPMAP_LINEAR;if(n===THREE.LinearFilter)return t.LINEAR;if(n===THREE.LinearMipMapNearestFilter)return t.LINEAR_MIPMAP_NEAREST;if(n===THREE.LinearMipMapLinearFilter)return t.LINEAR_MIPMAP_LINEAR;if(n===THREE.UnsignedByteType)return t.UNSIGNED_BYTE;if(n===THREE.UnsignedShort4444Type)return t.UNSIGNED_SHORT_4_4_4_4;if(n===THREE.UnsignedShort5551Type)return t.UNSIGNED_SHORT_5_5_5_1;if(n===THREE.UnsignedShort565Type)return t.UNSIGNED_SHORT_5_6_5;if(n===THREE.ByteType)return t.BYTE;if(n===THREE.ShortType)return t.SHORT;if(n===THREE.UnsignedShortType)return t.UNSIGNED_SHORT;if(n===THREE.IntType)return t.INT;if(n===THREE.UnsignedIntType)return t.UNSIGNED_INT;if(n===THREE.FloatType)return t.FLOAT;if(i=u.get("OES_texture_half_float"),null!==i&&n===THREE.HalfFloatType)return i.HALF_FLOAT_OES;if(n===THREE.AlphaFormat)return t.ALPHA;if(n===THREE.RGBFormat)return t.RGB;if(n===THREE.RGBAFormat)return t.RGBA;if(n===THREE.LuminanceFormat)return t.LUMINANCE;if(n===THREE.LuminanceAlphaFormat)return t.LUMINANCE_ALPHA;if(n===THREE.DepthFormat)return t.DEPTH_COMPONENT;if(n===THREE.AddEquation)return t.FUNC_ADD;if(n===THREE.SubtractEquation)return t.FUNC_SUBTRACT;if(n===THREE.ReverseSubtractEquation)return t.FUNC_REVERSE_SUBTRACT;if(n===THREE.ZeroFactor)return t.ZERO;if(n===THREE.OneFactor)return t.ONE;if(n===THREE.SrcColorFactor)return t.SRC_COLOR;if(n===THREE.OneMinusSrcColorFactor)return t.ONE_MINUS_SRC_COLOR;if(n===THREE.SrcAlphaFactor)return t.SRC_ALPHA;if(n===THREE.OneMinusSrcAlphaFactor)return t.ONE_MINUS_SRC_ALPHA;if(n===THREE.DstAlphaFactor)return t.DST_ALPHA;if(n===THREE.OneMinusDstAlphaFactor)return t.ONE_MINUS_DST_ALPHA;if(n===THREE.DstColorFactor)return t.DST_COLOR;if(n===THREE.OneMinusDstColorFactor)return t.ONE_MINUS_DST_COLOR;if(n===THREE.SrcAlphaSaturateFactor)return t.SRC_ALPHA_SATURATE;if(i=u.get("WEBGL_compressed_texture_s3tc"),null!==i){if(n===THREE.RGB_S3TC_DXT1_Format)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===THREE.RGBA_S3TC_DXT1_Format)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===THREE.RGBA_S3TC_DXT3_Format)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===THREE.RGBA_S3TC_DXT5_Format)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(i=u.get("WEBGL_compressed_texture_pvrtc"),null!==i){if(n===THREE.RGB_PVRTC_4BPPV1_Format)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===THREE.RGB_PVRTC_2BPPV1_Format)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===THREE.RGBA_PVRTC_4BPPV1_Format)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===THREE.RGBA_PVRTC_2BPPV1_Format)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i=u.get("WEBGL_compressed_texture_etc1"),null!==i&&n===THREE.RGB_ETC1_Format)return i.COMPRESSED_RGB_ETC1_WEBGL;if(i=u.get("EXT_blend_minmax"),null!==i){if(n===THREE.MinEquation)return i.MIN_EXT;if(n===THREE.MaxEquation)return i.MAX_EXT}return 0}var t,u,v,ci,ur,fr;console.log("THREE.WebGLRenderer",THREE.REVISION);n=n||{};var s=void 0!==n.canvas?n.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),hr=void 0!==n.context?n.context:null,lt=void 0!==n.alpha?n.alpha:!1,cr=void 0!==n.depth?n.depth:!0,lr=void 0!==n.stencil?n.stencil:!0,ar=void 0!==n.antialias?n.antialias:!1,nr=void 0!==n.premultipliedAlpha?n.premultipliedAlpha:!0,vr=void 0!==n.preserveDrawingBuffer?n.preserveDrawingBuffer:!1,at=[],d=[],vt=-1,g=[],yt=-1,tr=new Float32Array(8),ri=[],ui=[];this.domElement=s;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMapping=THREE.LinearToneMapping;this.toneMappingWhitePoint=this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var e=this,fi=null,pt=null,wt=null,ut=-1,ft="",y=null,bt=new THREE.Vector4,ei=null,et=new THREE.Vector4,oi=0,o=new THREE.Color(0),p=0,kt=s.width,dt=s.height,c=1,si=new THREE.Vector4(0,0,kt,dt),ir=!1,ot=new THREE.Vector4(0,0,kt,dt),rr=new THREE.Frustum,a=new THREE.WebGLClipping,gt=!1,hi=!1,nt=new THREE.Sphere,ni=new THREE.Matrix4,f=new THREE.Vector3,r={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},w={calls:0,vertices:0,faces:0,points:0};this.info={render:w,memory:{geometries:0,textures:0},programs:null};try{if(lt={alpha:lt,depth:cr,stencil:lr,antialias:ar,premultipliedAlpha:nr,preserveDrawingBuffer:vr},t=hr||s.getContext("webgl",lt)||s.getContext("experimental-webgl",lt),null===t){if(null!==s.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context.";}void 0===t.getShaderPrecisionFormat&&(t.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});s.addEventListener("webglcontextlost",vi,!1)}catch(yr){console.error("THREE.WebGLRenderer: "+yr)}u=new THREE.WebGLExtensions(t);u.get("WEBGL_depth_texture");u.get("OES_texture_float");u.get("OES_texture_float_linear");u.get("OES_texture_half_float");u.get("OES_texture_half_float_linear");u.get("OES_standard_derivatives");u.get("ANGLE_instanced_arrays");u.get("OES_element_index_uint")&&(THREE.BufferGeometry.MaxIndex=4294967296);var l=new THREE.WebGLCapabilities(t,u,n),i=new THREE.WebGLState(t,u,k),h=new THREE.WebGLProperties,tt=new THREE.WebGLTextures(t,u,i,h,l,k,this.info),b=new THREE.WebGLObjects(t,h,this.info),st=new THREE.WebGLPrograms(this,l),ti=new THREE.WebGLLights;this.info.programs=st.programs;var pr=new THREE.WebGLBufferRenderer(t,u,w),wr=new THREE.WebGLIndexedBufferRenderer(t,u,w),br=new THREE.OrthographicCamera(-1,1,1,-1,0,1),it=new THREE.PerspectiveCamera,ht=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),new THREE.MeshBasicMaterial({depthTest:!1,depthWrite:!1,fog:!1}));n=THREE.ShaderLib.cube;v=new THREE.Mesh(new THREE.BoxBufferGeometry(5,5,5),new THREE.ShaderMaterial({uniforms:n.uniforms,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:THREE.BackSide,depthTest:!1,depthWrite:!1,fog:!1}));li();this.context=t;this.capabilities=l;this.extensions=u;this.properties=h;this.state=i;ci=new THREE.WebGLShadowMap(this,r,b,l);this.shadowMap=ci;ur=new THREE.SpritePlugin(this,ri);fr=new THREE.LensFlarePlugin(this,ui);this.getContext=function(){return t};this.getContextAttributes=function(){return t.getContextAttributes()};this.forceContextLoss=function(){u.get("WEBGL_lose_context").loseContext()};this.getMaxAnisotropy=function(){return l.getMaxAnisotropy()};this.getPrecision=function(){return l.precision};this.getPixelRatio=function(){return c};this.setPixelRatio=function(n){void 0!==n&&(c=n,this.setSize(ot.z,ot.w,!1))};this.getSize=function(){return{width:kt,height:dt}};this.setSize=function(n,t,i){kt=n;dt=t;s.width=n*c;s.height=t*c;!1!==i&&(s.style.width=n+"px",s.style.height=t+"px");this.setViewport(0,0,n,t)};this.setViewport=function(n,t,r,u){i.viewport(ot.set(n,t,r,u))};this.setScissor=function(n,t,r,u){i.scissor(si.set(n,t,r,u))};this.setScissorTest=function(n){i.setScissorTest(ir=n)};this.getClearColor=function(){return o};this.setClearColor=function(n,t){o.set(n);p=void 0!==t?t:1;rt(o.r,o.g,o.b,p)};this.getClearAlpha=function(){return p};this.setClearAlpha=function(n){p=n;rt(o.r,o.g,o.b,p)};this.clear=function(n,i,r){var u=0;(void 0===n||n)&&(u|=t.COLOR_BUFFER_BIT);(void 0===i||i)&&(u|=t.DEPTH_BUFFER_BIT);(void 0===r||r)&&(u|=t.STENCIL_BUFFER_BIT);t.clear(u)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(n,t,i,r){this.setRenderTarget(n);this.clear(t,i,r)};this.resetGLState=ai;this.dispose=function(){g=[];yt=-1;d=[];vt=-1;s.removeEventListener("webglcontextlost",vi,!1)};this.renderBufferImmediate=function(n,r,u){var o,f,a;if(i.initAttributes(),o=h.get(n),n.hasPositions&&!o.position&&(o.position=t.createBuffer()),n.hasNormals&&!o.normal&&(o.normal=t.createBuffer()),n.hasUvs&&!o.uv&&(o.uv=t.createBuffer()),n.hasColors&&!o.color&&(o.color=t.createBuffer()),r=r.getAttributes(),n.hasPositions&&(t.bindBuffer(t.ARRAY_BUFFER,o.position),t.bufferData(t.ARRAY_BUFFER,n.positionArray,t.DYNAMIC_DRAW),i.enableAttribute(r.position),t.vertexAttribPointer(r.position,3,t.FLOAT,!1,0,0)),n.hasNormals){if(t.bindBuffer(t.ARRAY_BUFFER,o.normal),"MeshPhongMaterial"!==u.type&&"MeshStandardMaterial"!==u.type&&"MeshPhysicalMaterial"!==u.type&&u.shading===THREE.FlatShading)for(f=0,a=3*n.count;f<a;f+=9){var e=n.normalArray,s=(e[f+0]+e[f+3]+e[f+6])/3,c=(e[f+1]+e[f+4]+e[f+7])/3,l=(e[f+2]+e[f+5]+e[f+8])/3;e[f+0]=s;e[f+1]=c;e[f+2]=l;e[f+3]=s;e[f+4]=c;e[f+5]=l;e[f+6]=s;e[f+7]=c;e[f+8]=l}t.bufferData(t.ARRAY_BUFFER,n.normalArray,t.DYNAMIC_DRAW);i.enableAttribute(r.normal);t.vertexAttribPointer(r.normal,3,t.FLOAT,!1,0,0)}n.hasUvs&&u.map&&(t.bindBuffer(t.ARRAY_BUFFER,o.uv),t.bufferData(t.ARRAY_BUFFER,n.uvArray,t.DYNAMIC_DRAW),i.enableAttribute(r.uv),t.vertexAttribPointer(r.uv,2,t.FLOAT,!1,0,0));n.hasColors&&u.vertexColors!==THREE.NoColors&&(t.bindBuffer(t.ARRAY_BUFFER,o.color),t.bufferData(t.ARRAY_BUFFER,n.colorArray,t.DYNAMIC_DRAW),i.enableAttribute(r.color),t.vertexAttribPointer(r.color,3,t.FLOAT,!1,0,0));i.disableUnusedAttributes();t.drawArrays(t.TRIANGLES,0,n.count);n.count=0};this.renderBufferDirect=function(n,r,f,e,o,s){var g,h,k,v,y,p,a,w,it;if(ki(e),g=di(n,r,e,o),v=!1,n=f.id+"_"+g.id+"_"+e.wireframe,n!==ft&&(ft=n,v=!0),r=o.morphTargetInfluences,void 0!==r){for(n=[],h=0,v=r.length;h<v;h++)k=r[h],n.push([k,h]);n.sort(er);8<n.length&&(n.length=8);for(var nt=f.morphAttributes,h=0,v=n.length;h<v;h++)k=n[h],tr[h]=k[0],0!==k[0]?(r=k[1],!0===e.morphTargets&&nt.position&&f.addAttribute("morphTarget"+h,nt.position[r]),!0===e.morphNormals&&nt.normal&&f.addAttribute("morphNormal"+h,nt.normal[r])):(!0===e.morphTargets&&f.removeAttribute("morphTarget"+h),!0===e.morphNormals&&f.removeAttribute("morphNormal"+h));g.getUniforms().setValue(t,"morphTargetInfluences",tr);v=!0}if(r=f.index,h=f.attributes.position,!0===e.wireframe&&(r=b.getWireframeAttribute(f)),null!==r?(n=wr,n.setIndex(r)):n=pr,v){n:{if(v=void 0,f instanceof THREE.InstancedBufferGeometry&&(y=u.get("ANGLE_instanced_arrays"),null===y)){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");break n}void 0===v&&(v=0);i.initAttributes();var k=f.attributes,g=g.getAttributes(),nt=e.defaultAttributeValues;for(var tt in g)if(p=g[tt],0<=p)if(a=k[tt],void 0!==a){var l=t.FLOAT,w=a.array,rt=a.normalized;if(w instanceof Float32Array?l=t.FLOAT:w instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):w instanceof Uint16Array?l=t.UNSIGNED_SHORT:w instanceof Int16Array?l=t.SHORT:w instanceof Uint32Array?l=t.UNSIGNED_INT:w instanceof Int32Array?l=t.INT:w instanceof Int8Array?l=t.BYTE:w instanceof Uint8Array&&(l=t.UNSIGNED_BYTE),w=a.itemSize,it=b.getAttributeBuffer(a),a instanceof THREE.InterleavedBufferAttribute){var d=a.data,ut=d.stride,a=a.offset;d instanceof THREE.InstancedInterleavedBuffer?(i.enableAttributeAndDivisor(p,d.meshPerAttribute,y),void 0===f.maxInstancedCount&&(f.maxInstancedCount=d.meshPerAttribute*d.count)):i.enableAttribute(p);t.bindBuffer(t.ARRAY_BUFFER,it);t.vertexAttribPointer(p,w,l,rt,ut*d.array.BYTES_PER_ELEMENT,(v*ut+a)*d.array.BYTES_PER_ELEMENT)}else a instanceof THREE.InstancedBufferAttribute?(i.enableAttributeAndDivisor(p,a.meshPerAttribute,y),void 0===f.maxInstancedCount&&(f.maxInstancedCount=a.meshPerAttribute*a.count)):i.enableAttribute(p),t.bindBuffer(t.ARRAY_BUFFER,it),t.vertexAttribPointer(p,w,l,rt,0,v*w*a.array.BYTES_PER_ELEMENT)}else if(void 0!==nt&&(l=nt[tt],void 0!==l))switch(l.length){case 2:t.vertexAttrib2fv(p,l);break;case 3:t.vertexAttrib3fv(p,l);break;case 4:t.vertexAttrib4fv(p,l);break;default:t.vertexAttrib1fv(p,l)}i.disableUnusedAttributes()}null!==r&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,b.getAttributeBuffer(r))}if(y=Infinity,null!==r?y=r.count:void 0!==h&&(y=h.count),tt=f.drawRange.start,r=f.drawRange.count,h=null!==s?s.start:0,v=null!==s?s.count:Infinity,s=Math.max(0,tt,h),y=Math.min(0+y,tt+r,h+v)-1,y=Math.max(0,y-s+1),o instanceof THREE.Mesh)if(!0===e.wireframe)i.setLineWidth(e.wireframeLinewidth*(null===pt?c:1)),n.setMode(t.LINES);else switch(o.drawMode){case THREE.TrianglesDrawMode:n.setMode(t.TRIANGLES);break;case THREE.TriangleStripDrawMode:n.setMode(t.TRIANGLE_STRIP);break;case THREE.TriangleFanDrawMode:n.setMode(t.TRIANGLE_FAN)}else o instanceof THREE.Line?(e=e.linewidth,void 0===e&&(e=1),i.setLineWidth(e*(null===pt?c:1)),o instanceof THREE.LineSegments?n.setMode(t.LINES):n.setMode(t.LINE_STRIP)):o instanceof THREE.Points&&n.setMode(t.POINTS);f instanceof THREE.InstancedBufferGeometry?0<f.maxInstancedCount&&n.renderInstances(f,s,y):n.render(s,y)};this.render=function(n,t,u,s){var st,ot,c;if(!1==t instanceof THREE.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{st=n.fog;ft="";ut=-1;y=null;!0===n.autoUpdate&&n.updateMatrixWorld();null===t.parent&&t.updateMatrixWorld();t.matrixWorldInverse.getInverse(t.matrixWorld);ni.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse);rr.setFromMatrix(ni);at.length=0;yt=vt=-1;ri.length=0;ui.length=0;hi=this.localClippingEnabled;gt=a.init(this.clippingPlanes,hi,t);bi(n,t);d.length=vt+1;g.length=yt+1;!0===e.sortObjects&&(d.sort(or),g.sort(sr));gt&&a.beginShadows();for(var l=at,lt=0,dt=0,h=l.length;dt<h;dt++)ot=l[dt],ot.castShadow&&(r.shadows[lt++]=ot);r.shadows.length=lt;ci.render(n,t);for(var l=at,ei=ot=0,oi=0,pt,k,si,ii,wt=t.matrixWorldInverse,bt=0,nt=0,kt=0,fi=0,lt=0,dt=l.length;lt<dt;lt++)(h=l[lt],pt=h.color,k=h.intensity,si=h.distance,ii=h.shadow&&h.shadow.map?h.shadow.map.texture:null,h instanceof THREE.AmbientLight)?(ot+=pt.r*k,ei+=pt.g*k,oi+=pt.b*k):h instanceof THREE.DirectionalLight?(c=ti.get(h),c.color.copy(h.color).multiplyScalar(h.intensity),c.direction.setFromMatrixPosition(h.matrixWorld),f.setFromMatrixPosition(h.target.matrixWorld),c.direction.sub(f),c.direction.transformDirection(wt),(c.shadow=h.castShadow)&&(c.shadowBias=h.shadow.bias,c.shadowRadius=h.shadow.radius,c.shadowMapSize=h.shadow.mapSize),r.directionalShadowMap[bt]=ii,r.directionalShadowMatrix[bt]=h.shadow.matrix,r.directional[bt++]=c):h instanceof THREE.SpotLight?(c=ti.get(h),c.position.setFromMatrixPosition(h.matrixWorld),c.position.applyMatrix4(wt),c.color.copy(pt).multiplyScalar(k),c.distance=si,c.direction.setFromMatrixPosition(h.matrixWorld),f.setFromMatrixPosition(h.target.matrixWorld),c.direction.sub(f),c.direction.transformDirection(wt),c.coneCos=Math.cos(h.angle),c.penumbraCos=Math.cos(h.angle*(1-h.penumbra)),c.decay=0===h.distance?0:h.decay,(c.shadow=h.castShadow)&&(c.shadowBias=h.shadow.bias,c.shadowRadius=h.shadow.radius,c.shadowMapSize=h.shadow.mapSize),r.spotShadowMap[kt]=ii,r.spotShadowMatrix[kt]=h.shadow.matrix,r.spot[kt++]=c):h instanceof THREE.PointLight?(c=ti.get(h),c.position.setFromMatrixPosition(h.matrixWorld),c.position.applyMatrix4(wt),c.color.copy(h.color).multiplyScalar(h.intensity),c.distance=h.distance,c.decay=0===h.distance?0:h.decay,(c.shadow=h.castShadow)&&(c.shadowBias=h.shadow.bias,c.shadowRadius=h.shadow.radius,c.shadowMapSize=h.shadow.mapSize),r.pointShadowMap[nt]=ii,void 0===r.pointShadowMatrix[nt]&&(r.pointShadowMatrix[nt]=new THREE.Matrix4),f.setFromMatrixPosition(h.matrixWorld).negate(),r.pointShadowMatrix[nt].identity().setPosition(f),r.point[nt++]=c):h instanceof THREE.HemisphereLight&&(c=ti.get(h),c.direction.setFromMatrixPosition(h.matrixWorld),c.direction.transformDirection(wt),c.direction.normalize(),c.skyColor.copy(h.color).multiplyScalar(k),c.groundColor.copy(h.groundColor).multiplyScalar(k),r.hemi[fi++]=c);r.ambient[0]=ot;r.ambient[1]=ei;r.ambient[2]=oi;r.directional.length=bt;r.spot.length=kt;r.point.length=nt;r.hemi.length=fi;r.hash=bt+","+nt+","+kt+","+fi+","+r.shadows.length;gt&&a.endShadows();w.calls=0;w.vertices=0;w.faces=0;w.points=0;void 0===u&&(u=null);this.setRenderTarget(u);l=n.background;null===l?rt(o.r,o.g,o.b,p):l instanceof THREE.Color&&rt(l.r,l.g,l.b,1);(this.autoClear||s)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);l instanceof THREE.CubeTexture?(it.projectionMatrix.copy(t.projectionMatrix),it.matrixWorld.extractRotation(t.matrixWorld),it.matrixWorldInverse.getInverse(it.matrixWorld),v.material.uniforms.tCube.value=l,v.modelViewMatrix.multiplyMatrices(it.matrixWorldInverse,v.matrixWorld),b.update(v),e.renderBufferDirect(it,null,v.geometry,v.material,v,null)):l instanceof THREE.Texture&&(ht.material.map=l,b.update(ht),e.renderBufferDirect(br,null,ht.geometry,ht.material,ht,null));n.overrideMaterial?(s=n.overrideMaterial,ct(d,t,st,s),ct(g,t,st,s)):(i.setBlending(THREE.NoBlending),ct(d,t,st),ct(g,t,st));ur.render(n,t);fr.render(n,t,et);u&&tt.updateRenderTargetMipmap(u);i.setDepthTest(!0);i.setDepthWrite(!0);i.setColorWrite(!0)}};this.setFaceCulling=function(n,t){i.setCullFace(n);i.setFlipSided(t===THREE.FrontFaceDirectionCW)};this.allocTextureUnit=function(){var n=oi;return n>=l.maxTextures&&console.warn("WebGLRenderer: trying to use "+n+" texture units while this GPU supports only "+l.maxTextures),oi+=1,n};this.setTexture2D=function(){var n=!1;return function(t,i){t instanceof THREE.WebGLRenderTarget&&(n||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),n=!0),t=t.texture);tt.setTexture2D(t,i)}}();this.setTexture=function(){var n=!1;return function(t,i){n||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),n=!0);tt.setTexture2D(t,i)}}();this.setTextureCube=function(){var n=!1;return function(t,i){t instanceof THREE.WebGLRenderTargetCube&&(n||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),n=!0),t=t.texture);t instanceof THREE.CubeTexture||Array.isArray(t.image)&&6===t.image.length?tt.setTextureCube(t,i):tt.setTextureCubeDynamic(t,i)}}();this.getCurrentRenderTarget=function(){return pt};this.setRenderTarget=function(n){(pt=n)&&void 0===h.get(n).__webglFramebuffer&&tt.setupRenderTarget(n);var u=n instanceof THREE.WebGLRenderTargetCube,r;n?(r=h.get(n),r=u?r.__webglFramebuffer[n.activeCubeFace]:r.__webglFramebuffer,bt.copy(n.scissor),ei=n.scissorTest,et.copy(n.viewport)):(r=null,bt.copy(si).multiplyScalar(c),ei=ir,et.copy(ot).multiplyScalar(c));wt!==r&&(t.bindFramebuffer(t.FRAMEBUFFER,r),wt=r);i.scissor(bt);i.setScissorTest(ei);i.viewport(et);u&&(u=h.get(n.texture),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n.activeCubeFace,u.__webglTexture,n.activeMipMapLevel))};this.readRenderTargetPixels=function(n,i,r,f,e,o){var c,l,s;if(!1==n instanceof THREE.WebGLRenderTarget)console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else if(c=h.get(n).__webglFramebuffer,c){l=!1;c!==wt&&(t.bindFramebuffer(t.FRAMEBUFFER,c),l=!0);try{s=n.texture;s.format!==THREE.RGBAFormat&&k(s.format)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):s.type===THREE.UnsignedByteType||k(s.type)===t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)||s.type===THREE.FloatType&&u.get("WEBGL_color_buffer_float")||s.type===THREE.HalfFloatType&&u.get("EXT_color_buffer_half_float")?t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE?0<=i&&i<=n.width-f&&0<=r&&r<=n.height-e&&t.readPixels(i,r,f,e,k(s.format),k(s.type),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{l&&t.bindFramebuffer(t.FRAMEBUFFER,wt)}}}};THREE.WebGLRenderTarget=function(n,t,i){this.uuid=THREE.Math.generateUUID();this.width=n;this.height=t;this.scissor=new THREE.Vector4(0,0,n,t);this.scissorTest=!1;this.viewport=new THREE.Vector4(0,0,n,t);i=i||{};void 0===i.minFilter&&(i.minFilter=THREE.LinearFilter);this.texture=new THREE.Texture(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding);this.depthBuffer=void 0!==i.depthBuffer?i.depthBuffer:!0;this.stencilBuffer=void 0!==i.stencilBuffer?i.stencilBuffer:!0;this.depthTexture=null};Object.assign(THREE.WebGLRenderTarget.prototype,THREE.EventDispatcher.prototype,{setSize:function(n,t){(this.width!==n||this.height!==t)&&(this.width=n,this.height=t,this.dispose());this.viewport.set(0,0,n,t);this.scissor.set(0,0,n,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.width=n.width,this.height=n.height,this.viewport.copy(n.viewport),this.texture=n.texture.clone(),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});THREE.WebGLRenderTargetCube=function(n,t,i){THREE.WebGLRenderTarget.call(this,n,t,i);this.activeMipMapLevel=this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;THREE.WebGLBufferRenderer=function(n,t,i){var r;this.setMode=function(n){r=n};this.render=function(t,u){n.drawArrays(r,t,u);i.calls++;i.vertices+=u;r===n.TRIANGLES&&(i.faces+=u/3)};this.renderInstances=function(u){var o=t.get("ANGLE_instanced_arrays");if(null===o)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var f=u.attributes.position,e=0,e=f instanceof THREE.InterleavedBufferAttribute?f.data.count:f.count;o.drawArraysInstancedANGLE(r,0,e,u.maxInstancedCount);i.calls++;i.vertices+=e*u.maxInstancedCount;r===n.TRIANGLES&&(i.faces+=u.maxInstancedCount*e/3)}}};THREE.WebGLClipping=function(){function o(){n.value!==u&&(n.value=u,n.needsUpdate=0<t);s.numPlanes=t}function r(t,i,r,u){var o=null!==t?t.length:0,f=null;if(0!==o){if(f=n.value,!0!==u||null===f)for(u=r+4*o,i=i.matrixWorldInverse,h.getNormalMatrix(i),(null===f||f.length<u)&&(f=new Float32Array(u)),u=0;u!==o;++u,r+=4)e.copy(t[u]).applyMatrix4(i,h),e.normal.toArray(f,r),f[r+3]=e.constant;n.value=f;n.needsUpdate=!0}return s.numPlanes=o,f}var s=this,u=null,t=0,f=!1,i=!1,e=new THREE.Plane,h=new THREE.Matrix3,n={value:null,needsUpdate:!1};this.uniform=n;this.numPlanes=0;this.init=function(n,i,e){var o=0!==n.length||i||0!==t||f;return f=i,u=r(n,e,0),t=n.length,o};this.beginShadows=function(){i=!0;r(null)};this.endShadows=function(){i=!1;o()};this.setState=function(e,s,h,c,l){if(f&&null!==e&&0!==e.length&&(!i||s)){s=i?0:t;var v=4*s,a=c.clippingState||null;for(n.value=a,a=r(e,h,v,l),e=0;e!==v;++e)a[e]=u[e];c.clippingState=a;this.numPlanes+=s}else i?r(null):o()}};THREE.WebGLIndexedBufferRenderer=function(n,t,i){var r,u,f;this.setMode=function(n){r=n};this.setIndex=function(i){i.array instanceof Uint32Array&&t.get("OES_element_index_uint")?(u=n.UNSIGNED_INT,f=4):(u=n.UNSIGNED_SHORT,f=2)};this.render=function(t,e){n.drawElements(r,e,u,t*f);i.calls++;i.vertices+=e;r===n.TRIANGLES&&(i.faces+=e/3)};this.renderInstances=function(e,o,s){var h=t.get("ANGLE_instanced_arrays");null===h?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(h.drawElementsInstancedANGLE(r,s,u,o*f,e.maxInstancedCount),i.calls++,i.vertices+=s*e.maxInstancedCount,r===n.TRIANGLES&&(i.faces+=e.maxInstancedCount*s/3))}};THREE.WebGLExtensions=function(n){var t={};this.get=function(i){if(void 0!==t[i])return t[i];var r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=n.getExtension("WEBGL_compressed_texture_etc1");break;default:r=n.getExtension(i)}return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),t[i]=r}};THREE.WebGLCapabilities=function(n,t,i){function u(t){if("highp"===t){if(0<n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision&&0<n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision&&0<n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision?"mediump":"lowp"}var r;this.getMaxAnisotropy=function(){if(void 0!==r)return r;var i=t.get("EXT_texture_filter_anisotropic");return r=null!==i?n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0};this.getMaxPrecision=u;this.precision=void 0!==i.precision?i.precision:"highp";this.logarithmicDepthBuffer=void 0!==i.logarithmicDepthBuffer?i.logarithmicDepthBuffer:!1;this.maxTextures=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE);this.maxCubemapSize=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=n.getParameter(n.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=n.getParameter(n.MAX_VARYING_VECTORS);this.maxFragmentUniforms=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=0<this.maxVertexTextures;this.floatFragmentTextures=!!t.get("OES_texture_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;i=u(this.precision);i!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",i,"instead."),this.precision=i);this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!t.get("EXT_frag_depth"))};THREE.WebGLGeometries=function(n,t,i){function f(n){var e=n.target,s,o;n=r[e.id];null!==n.index&&u(n.index);s=n.attributes;for(o in s)u(s[o]);e.removeEventListener("dispose",f);delete r[e.id];o=t.get(e);o.wireframe&&u(o.wireframe);t.delete(e);e=t.get(n);e.wireframe&&u(e.wireframe);t.delete(n);i.memory.geometries--}function u(i){var r;r=i instanceof THREE.InterleavedBufferAttribute?t.get(i.data).__webglBuffer:t.get(i).__webglBuffer;void 0!==r&&(n.deleteBuffer(r),i instanceof THREE.InterleavedBufferAttribute?t.delete(i.data):t.delete(i))}var r={};this.get=function(n){var t=n.geometry,u;return void 0!==r[t.id]?r[t.id]:(t.addEventListener("dispose",f),t instanceof THREE.BufferGeometry?u=t:t instanceof THREE.Geometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new THREE.BufferGeometry).setFromObject(n)),u=t._bufferGeometry),r[t.id]=u,i.memory.geometries++,u)}};THREE.WebGLLights=function(){var n={};this.get=function(t){if(void 0!==n[t.id])return n[t.id];var i;switch(t.type){case"DirectionalLight":i={direction:new THREE.Vector3,color:new THREE.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2};break;case"SpotLight":i={position:new THREE.Vector3,direction:new THREE.Vector3,color:new THREE.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2};break;case"PointLight":i={position:new THREE.Vector3,color:new THREE.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new THREE.Vector2};break;case"HemisphereLight":i={direction:new THREE.Vector3,skyColor:new THREE.Color,groundColor:new THREE.Color}}return n[t.id]=i}};THREE.WebGLObjects=function(n,t,i){function r(i,r){var u=i instanceof THREE.InterleavedBufferAttribute?i.data:i,f=t.get(u);void 0===f.__webglBuffer?(f.__webglBuffer=n.createBuffer(),n.bindBuffer(r,f.__webglBuffer),n.bufferData(r,u.array,u.dynamic?n.DYNAMIC_DRAW:n.STATIC_DRAW),f.version=u.version):f.version!==u.version&&(n.bindBuffer(r,f.__webglBuffer),!1===u.dynamic||-1===u.updateRange.count?n.bufferSubData(r,0,u.array):0===u.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(n.bufferSubData(r,u.updateRange.offset*u.array.BYTES_PER_ELEMENT,u.array.subarray(u.updateRange.offset,u.updateRange.offset+u.updateRange.count)),u.updateRange.count=0),f.version=u.version)}function u(n,t,i){if(t>i){var r=t;t=i;i=r}return r=n[t],void 0===r?(n[t]=[i],!0):-1===r.indexOf(i)?(r.push(i),!0):!1}var f=new THREE.WebGLGeometries(n,t,i);this.getAttributeBuffer=function(n){return n instanceof THREE.InterleavedBufferAttribute?t.get(n.data).__webglBuffer:t.get(n).__webglBuffer};this.getWireframeAttribute=function(i){var a=t.get(i);if(void 0!==a.wireframe)return a.wireframe;var e=[],o=i.index,l=i.attributes;if(i=l.position,null!==o)for(var l={},o=o.array,f=0,v=o.length;f<v;f+=3){var s=o[f+0],h=o[f+1],c=o[f+2];u(l,s,h)&&e.push(s,h);u(l,h,c)&&e.push(h,c);u(l,c,s)&&e.push(c,s)}else for(o=l.position.array,f=0,v=o.length/3-1;f<v;f+=3)s=f+0,h=f+1,c=f+2,e.push(s,h,h,c,c,s);return e=new THREE.BufferAttribute(new(65535<i.count?Uint32Array:Uint16Array)(e),1),r(e,n.ELEMENT_ARRAY_BUFFER),a.wireframe=e};this.update=function(t){var i=f.get(t),u,e;t.geometry instanceof THREE.Geometry&&i.updateFromObject(t);t=i.index;u=i.attributes;null!==t&&r(t,n.ELEMENT_ARRAY_BUFFER);for(e in u)r(u[e],n.ARRAY_BUFFER);t=i.morphAttributes;for(e in t)for(var u=t[e],o=0,s=u.length;o<s;o++)r(u[o],n.ARRAY_BUFFER);return i}};THREE.WebGLProgram=function(){function r(n){switch(n){case THREE.LinearEncoding:return["Linear","( value )"];case THREE.sRGBEncoding:return["sRGB","( value )"];case THREE.RGBEEncoding:return["RGBE","( value )"];case THREE.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case THREE.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case THREE.RGBDEncoding:return["RGBD","( value, 256.0 )"];case THREE.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+n);}}function t(n,t){var i=r(t);return"vec4 "+n+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function e(n,t){var i=r(t);return"vec4 "+n+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function o(n,t){var i;switch(t){case THREE.LinearToneMapping:i="Linear";break;case THREE.ReinhardToneMapping:i="Reinhard";break;case THREE.Uncharted2ToneMapping:i="Uncharted2";break;case THREE.CineonToneMapping:i="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+t);}return"vec3 "+n+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function s(t,i,r){return t=t||{},[t.derivatives||i.envMapCubeUV||i.bumpMap||i.normalMap||i.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||i.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||i.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(n).join("\n")}function h(n){var r=[],t,i;for(t in n)i=n[t],!1!==i&&r.push("#define "+t+" "+i);return r.join("\n")}function n(n){return""!==n}function u(n,t){return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function i(n){return n.replace(/#include +<([\w\d.]+)>/g,function(n,t){var r=THREE.ShaderChunk[t];if(void 0===r)throw Error("Can not resolve #include <"+t+">");return i(r)})}function f(n){return n.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(n,t,i,r){for(n="",t=parseInt(t);t<parseInt(i);t++)n+=r.replace(/\[ i \]/g,"[ "+t+" ]");return n})}var c=0;return function(r,l,a,v){var y=r.context,et=a.extensions,tt=a.defines,b=a.__webglShader.vertexShader,p=a.__webglShader.fragmentShader,d="SHADOWMAP_TYPE_BASIC",ut,ft;v.shadowMapType===THREE.PCFShadowMap?d="SHADOWMAP_TYPE_PCF":v.shadowMapType===THREE.PCFSoftShadowMap&&(d="SHADOWMAP_TYPE_PCF_SOFT");var k="ENVMAP_TYPE_CUBE",g="ENVMAP_MODE_REFLECTION",nt="ENVMAP_BLENDING_MULTIPLY";if(v.envMap){switch(a.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:k="ENVMAP_TYPE_CUBE";break;case THREE.CubeUVReflectionMapping:case THREE.CubeUVRefractionMapping:k="ENVMAP_TYPE_CUBE_UV";break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:k="ENVMAP_TYPE_EQUIREC";break;case THREE.SphericalReflectionMapping:k="ENVMAP_TYPE_SPHERE"}switch(a.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:g="ENVMAP_MODE_REFRACTION"}switch(a.combine){case THREE.MultiplyOperation:nt="ENVMAP_BLENDING_MULTIPLY";break;case THREE.MixOperation:nt="ENVMAP_BLENDING_MIX";break;case THREE.AddOperation:nt="ENVMAP_BLENDING_ADD"}}var it=0<r.gammaFactor?r.gammaFactor:1,et=s(et,v,r.extensions),rt=h(tt),w=y.createProgram();return a instanceof THREE.RawShaderMaterial?(tt=[rt].filter(n).join("\n"),d=[rt].filter(n).join("\n")):(tt=["precision "+v.precision+" float;","precision "+v.precision+" int;","#define SHADER_NAME "+a.__webglShader.name,rt,v.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+it,"#define MAX_BONES "+v.maxBones,v.map?"#define USE_MAP":"",v.envMap?"#define USE_ENVMAP":"",v.envMap?"#define "+g:"",v.lightMap?"#define USE_LIGHTMAP":"",v.aoMap?"#define USE_AOMAP":"",v.emissiveMap?"#define USE_EMISSIVEMAP":"",v.bumpMap?"#define USE_BUMPMAP":"",v.normalMap?"#define USE_NORMALMAP":"",v.displacementMap&&v.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",v.specularMap?"#define USE_SPECULARMAP":"",v.roughnessMap?"#define USE_ROUGHNESSMAP":"",v.metalnessMap?"#define USE_METALNESSMAP":"",v.alphaMap?"#define USE_ALPHAMAP":"",v.vertexColors?"#define USE_COLOR":"",v.flatShading?"#define FLAT_SHADED":"",v.skinning?"#define USE_SKINNING":"",v.useVertexTexture?"#define BONE_TEXTURE":"",v.morphTargets?"#define USE_MORPHTARGETS":"",v.morphNormals&&!1===v.flatShading?"#define USE_MORPHNORMALS":"",v.doubleSided?"#define DOUBLE_SIDED":"",v.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+v.numClippingPlanes,v.shadowMapEnabled?"#define USE_SHADOWMAP":"",v.shadowMapEnabled?"#define "+d:"",v.sizeAttenuation?"#define USE_SIZEATTENUATION":"",v.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",v.logarithmicDepthBuffer&&r.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(n).join("\n"),d=[et,"precision "+v.precision+" float;","precision "+v.precision+" int;","#define SHADER_NAME "+a.__webglShader.name,rt,v.alphaTest?"#define ALPHATEST "+v.alphaTest:"","#define GAMMA_FACTOR "+it,v.useFog&&v.fog?"#define USE_FOG":"",v.useFog&&v.fogExp?"#define FOG_EXP2":"",v.map?"#define USE_MAP":"",v.envMap?"#define USE_ENVMAP":"",v.envMap?"#define "+k:"",v.envMap?"#define "+g:"",v.envMap?"#define "+nt:"",v.lightMap?"#define USE_LIGHTMAP":"",v.aoMap?"#define USE_AOMAP":"",v.emissiveMap?"#define USE_EMISSIVEMAP":"",v.bumpMap?"#define USE_BUMPMAP":"",v.normalMap?"#define USE_NORMALMAP":"",v.specularMap?"#define USE_SPECULARMAP":"",v.roughnessMap?"#define USE_ROUGHNESSMAP":"",v.metalnessMap?"#define USE_METALNESSMAP":"",v.alphaMap?"#define USE_ALPHAMAP":"",v.vertexColors?"#define USE_COLOR":"",v.flatShading?"#define FLAT_SHADED":"",v.doubleSided?"#define DOUBLE_SIDED":"",v.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+v.numClippingPlanes,v.shadowMapEnabled?"#define USE_SHADOWMAP":"",v.shadowMapEnabled?"#define "+d:"",v.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",v.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",v.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",v.logarithmicDepthBuffer&&r.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",v.envMap&&r.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",v.toneMapping!==THREE.NoToneMapping?"#define TONE_MAPPING":"",v.toneMapping!==THREE.NoToneMapping?THREE.ShaderChunk.tonemapping_pars_fragment:"",v.toneMapping!==THREE.NoToneMapping?o("toneMapping",v.toneMapping):"",v.outputEncoding||v.mapEncoding||v.envMapEncoding||v.emissiveMapEncoding?THREE.ShaderChunk.encodings_pars_fragment:"",v.mapEncoding?t("mapTexelToLinear",v.mapEncoding):"",v.envMapEncoding?t("envMapTexelToLinear",v.envMapEncoding):"",v.emissiveMapEncoding?t("emissiveMapTexelToLinear",v.emissiveMapEncoding):"",v.outputEncoding?e("linearToOutputTexel",v.outputEncoding):"",v.depthPacking?"#define DEPTH_PACKING "+a.depthPacking:"","\n"].filter(n).join("\n")),b=i(b,v),b=u(b,v),p=i(p,v),p=u(p,v),!1==a instanceof THREE.ShaderMaterial&&(b=f(b),p=f(p)),p=d+p,b=THREE.WebGLShader(y,y.VERTEX_SHADER,tt+b),p=THREE.WebGLShader(y,y.FRAGMENT_SHADER,p),y.attachShader(w,b),y.attachShader(w,p),void 0!==a.index0AttributeName?y.bindAttribLocation(w,0,a.index0AttributeName):!0===v.morphTargets&&y.bindAttribLocation(w,0,"position"),y.linkProgram(w),v=y.getProgramInfoLog(w),k=y.getShaderInfoLog(b),g=y.getShaderInfoLog(p),it=nt=!0,!1===y.getProgramParameter(w,y.LINK_STATUS)?(nt=!1,console.error("THREE.WebGLProgram: shader error: ",y.getError(),"gl.VALIDATE_STATUS",y.getProgramParameter(w,y.VALIDATE_STATUS),"gl.getProgramInfoLog",v,k,g)):""!==v?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",v):(""===k||""===g)&&(it=!1),it&&(this.diagnostics={runnable:nt,material:a,programLog:v,vertexShader:{log:k,prefix:tt},fragmentShader:{log:g,prefix:d}}),y.deleteShader(b),y.deleteShader(p),this.getUniforms=function(){return void 0===ut&&(ut=new THREE.WebGLUniforms(y,w,r)),ut},this.getAttributes=function(){var t;if(void 0===ft){for(var i={},r=y.getProgramParameter(w,y.ACTIVE_ATTRIBUTES),n=0;n<r;n++)t=y.getActiveAttrib(w,n).name,i[t]=y.getAttribLocation(w,t);ft=i}return ft},this.destroy=function(){y.deleteProgram(w);this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=c++,this.code=l,this.usedTimes=1,this.program=w,this.vertexShader=b,this.fragmentShader=p,this}}();THREE.WebGLPrograms=function(n,t){function r(n,t){var i;return n?n instanceof THREE.Texture?i=n.encoding:n instanceof THREE.WebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),i=n.texture.encoding):i=THREE.LinearEncoding,i===THREE.LinearEncoding&&t&&(i=THREE.GammaEncoding),i}var i=[],f={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},u="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");this.getParameters=function(i,u,e,o,s){var a=f[i.type],h,c,l;return t.floatVertexTextures&&s&&s.skeleton&&s.skeleton.useVertexTexture?h=1024:(h=Math.floor((t.maxVertexUniforms-20)/4),void 0!==s&&s instanceof THREE.SkinnedMesh&&(h=Math.min(s.skeleton.bones.length,h),h<s.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+s.skeleton.bones.length+", this GPU supports just "+h+" (try OpenGL instead of ANGLE)"))),c=n.getPrecision(),null!==i.precision&&(c=t.getMaxPrecision(i.precision),c!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",c,"instead.")),l=n.getCurrentRenderTarget(),{shaderID:a,precision:c,supportsVertexTextures:t.vertexTextures,outputEncoding:r(l?l.texture:null,n.gammaOutput),map:!!i.map,mapEncoding:r(i.map,n.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,n.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===THREE.CubeUVReflectionMapping||i.envMap.mapping===THREE.CubeUVRefractionMapping),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,n.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!e,useFog:i.fog,fogExp:e instanceof THREE.FogExp2,flatShading:i.shading===THREE.FlatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,skinning:i.skinning,maxBones:h,useVertexTexture:t.floatVertexTextures&&s&&s.skeleton&&s.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:n.maxMorphTargets,maxMorphNormals:n.maxMorphNormals,numDirLights:u.directional.length,numPointLights:u.point.length,numSpotLights:u.spot.length,numHemiLights:u.hemi.length,numClippingPlanes:o,shadowMapEnabled:n.shadowMap.enabled&&s.receiveShadow&&0<u.shadows.length,shadowMapType:n.shadowMap.type,toneMapping:n.toneMapping,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===THREE.DoubleSide,flipSided:i.side===THREE.BackSide,depthPacking:void 0!==i.depthPacking?i.depthPacking:!1}};this.getProgramCode=function(n,t){var i=[],r;if(t.shaderID?i.push(t.shaderID):(i.push(n.fragmentShader),i.push(n.vertexShader)),void 0!==n.defines)for(r in n.defines)i.push(r),i.push(n.defines[r]);for(r=0;r<u.length;r++)i.push(t[u[r]]);return i.join()};this.acquireProgram=function(t,r,u){for(var f,o,e=0,s=i.length;e<s;e++)if(o=i[e],o.code===u){f=o;++f.usedTimes;break}return void 0===f&&(f=new THREE.WebGLProgram(n,u,t,r),i.push(f)),f};this.releaseProgram=function(n){if(0==--n.usedTimes){var t=i.indexOf(n);i[t]=i[i.length-1];i.pop();n.destroy()}};this.programs=i};THREE.WebGLProperties=function(){var n={};this.get=function(t){t=t.uuid;var i=n[t];return void 0===i&&(i={},n[t]=i),i};this.delete=function(t){delete n[t.uuid]};this.clear=function(){n={}}};THREE.WebGLShader=function(){function n(n){n=n.split("\n");for(var t=0;t<n.length;t++)n[t]=t+1+": "+n[t];return n.join("\n")}return function(t,i,r){var u=t.createShader(i);return t.shaderSource(u,r),t.compileShader(u),!1===t.getShaderParameter(u,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(u)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",i===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(u),n(r)),u}}();THREE.WebGLShadowMap=function(n,t,i,r){function p(t,i,r,u){var f=t.geometry,e=null,e=d,s=t.customDepthMaterial;return r&&(e=g,s=t.customDistanceMaterial),s?e=s:(s=!1,i.morphTargets&&(f instanceof THREE.BufferGeometry?s=f.morphAttributes&&f.morphAttributes.position&&0<f.morphAttributes.position.length:f instanceof THREE.Geometry&&(s=f.morphTargets&&0<f.morphTargets.length)),t=t instanceof THREE.SkinnedMesh&&i.skinning,f=0,s&&(f|=1),t&&(f|=2),e=e[f]),n.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length&&(s=e.uuid,t=i.uuid,f=nt[s],void 0===f&&(f={},nt[s]=f),s=f[t],void 0===s&&(s=e.clone(),f[t]=s),e=s),e.visible=i.visible,e.wireframe=i.wireframe,t=i.side,o.renderSingleSided&&t==THREE.DoubleSide&&(t=THREE.FrontSide),o.renderReverseSided&&(t===THREE.FrontSide?t=THREE.BackSide:t===THREE.BackSide&&(t=THREE.FrontSide)),e.side=t,e.clipShadows=i.clipShadows,e.clippingPlanes=i.clippingPlanes,e.wireframeLinewidth=i.wireframeLinewidth,e.linewidth=i.linewidth,r&&void 0!==e.uniforms.lightPos&&e.uniforms.lightPos.value.copy(u),e}function w(n,t,i){if(!1!==n.visible){n.layers.test(t.layers)&&(n instanceof THREE.Mesh||n instanceof THREE.Line||n instanceof THREE.Points)&&n.castShadow&&(!1===n.frustumCulled||!0===b.intersectsObject(n))&&!0===n.material.visible&&(n.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,n.matrixWorld),l.push(n));n=n.children;for(var r=0,u=n.length;r<u;r++)w(n[r],t,i)}}var rt=n.context,s=n.state,b=new THREE.Frustum,k=new THREE.Matrix4,v=t.shadows,u=new THREE.Vector2,ut=new THREE.Vector2(r.maxTextureSize,r.maxTextureSize),h=new THREE.Vector3,c=new THREE.Vector3,l=[],d=Array(4),g=Array(4),nt={},ft=[new THREE.Vector3(1,0,0),new THREE.Vector3(-1,0,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1),new THREE.Vector3(0,1,0),new THREE.Vector3(0,-1,0)],et=[new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,1,0),new THREE.Vector3(0,0,1),new THREE.Vector3(0,0,-1)],f=[new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4],tt,e,o;for(t=new THREE.MeshDepthMaterial,t.depthPacking=THREE.RGBADepthPacking,t.clipping=!0,r=THREE.ShaderLib.distanceRGBA,tt=THREE.UniformsUtils.clone(r.uniforms),e=0;4!==e;++e){var a=0!=(e&1),it=0!=(e&2),y=t.clone();y.morphTargets=a;y.skinning=it;d[e]=y;a=new THREE.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:tt,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,morphTargets:a,skinning:it,clipping:!0});g[e]=a}o=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=THREE.PCFShadowMap;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(t,r){var ot,g,st,vt,nt,d,a,e,y,yt,at,tt;if(!1!==o.enabled&&(!1!==o.autoUpdate||!1!==o.needsUpdate)&&0!==v.length){for(s.clearColor(1,1,1,1),s.disable(rt.BLEND),s.setDepthTest(!0),s.setScissorTest(!1),st=0,vt=v.length;st<vt;st++)if(nt=v[st],d=nt.shadow,void 0===d)console.warn("THREE.WebGLShadowMap:",nt,"has no shadow.");else for(a=d.camera,u.copy(d.mapSize),u.min(ut),nt instanceof THREE.PointLight?(ot=6,g=!0,e=u.x,y=u.y,f[0].set(2*e,y,e,y),f[1].set(0,y,e,y),f[2].set(3*e,y,e,y),f[3].set(e,y,e,y),f[4].set(3*e,0,e,y),f[5].set(e,0,e,y),u.x*=4,u.y*=2):(ot=1,g=!1),null===d.map&&(d.map=new THREE.WebGLRenderTarget(u.x,u.y,{minFilter:THREE.NearestFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat}),a.updateProjectionMatrix()),d instanceof THREE.SpotLightShadow&&d.update(nt),e=d.map,d=d.matrix,c.setFromMatrixPosition(nt.matrixWorld),a.position.copy(c),n.setRenderTarget(e),n.clear(),e=0;e<ot;e++)for(g?(h.copy(a.position),h.add(ft[e]),a.up.copy(et[e]),a.lookAt(h),s.viewport(f[e])):(h.setFromMatrixPosition(nt.target.matrixWorld),a.lookAt(h)),a.updateMatrixWorld(),a.matrixWorldInverse.getInverse(a.matrixWorld),d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(a.projectionMatrix),d.multiply(a.matrixWorldInverse),k.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),b.setFromMatrix(k),l.length=0,w(t,r,a),y=0,yt=l.length;y<yt;y++){var it=l[y],ct=i.update(it),ht=it.material;if(ht instanceof THREE.MultiMaterial)for(var pt=ct.groups,ht=ht.materials,lt=0,wt=pt.length;lt<wt;lt++)at=pt[lt],tt=ht[at.materialIndex],!0===tt.visible&&(tt=p(it,tt,g,c),n.renderBufferDirect(a,null,ct,tt,it,at));else tt=p(it,ht,g,c),n.renderBufferDirect(a,null,ct,tt,it,null)}ot=n.getClearColor();g=n.getClearAlpha();n.setClearColor(ot,g);o.needsUpdate=!1}}};THREE.WebGLState=function(n,t,i){function nt(t,i,r){var f=new Uint8Array(4),u=n.createTexture();for(n.bindTexture(t,u),n.texParameteri(t,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(t,n.TEXTURE_MAG_FILTER,n.NEAREST),t=0;t<r;t++)n.texImage2D(i+t,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,f);return u}var st=this;this.buffers={color:new THREE.WebGLColorBuffer(n,this),depth:new THREE.WebGLDepthBuffer(n,this),stencil:new THREE.WebGLStencilBuffer(n,this)};var c=n.getParameter(n.MAX_VERTEX_ATTRIBS),f=new Uint8Array(c),r=new Uint8Array(c),s=new Uint8Array(c),e={},o=null,h=null,l=null,a=null,v=null,y=null,p=null,w=null,tt=!1,b=null,k=null,it=null,rt=null,ut=null,ft=null,ht=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),u=null,d={},et=new THREE.Vector4,ot=new THREE.Vector4,g={};g[n.TEXTURE_2D]=nt(n.TEXTURE_2D,n.TEXTURE_2D,1);g[n.TEXTURE_CUBE_MAP]=nt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6);this.init=function(){this.clearColor(0,0,0,1);this.clearDepth(1);this.clearStencil(0);this.enable(n.DEPTH_TEST);this.setDepthFunc(THREE.LessEqualDepth);this.setFlipSided(!1);this.setCullFace(THREE.CullFaceBack);this.enable(n.CULL_FACE);this.enable(n.BLEND);this.setBlending(THREE.NormalBlending)};this.initAttributes=function(){for(var n=0,t=f.length;n<t;n++)f[n]=0};this.enableAttribute=function(i){f[i]=1;0===r[i]&&(n.enableVertexAttribArray(i),r[i]=1);0!==s[i]&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(i,0),s[i]=0)};this.enableAttributeAndDivisor=function(t,i,u){f[t]=1;0===r[t]&&(n.enableVertexAttribArray(t),r[t]=1);s[t]!==i&&(u.vertexAttribDivisorANGLE(t,i),s[t]=i)};this.disableUnusedAttributes=function(){for(var t=0,i=r.length;t!==i;++t)r[t]!==f[t]&&(n.disableVertexAttribArray(t),r[t]=0)};this.enable=function(t){!0!==e[t]&&(n.enable(t),e[t]=!0)};this.disable=function(t){!1!==e[t]&&(n.disable(t),e[t]=!1)};this.getCompressedTextureFormats=function(){if(null===o&&(o=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var r=n.getParameter(n.COMPRESSED_TEXTURE_FORMATS),i=0;i<r.length;i++)o.push(r[i]);return o};this.setBlending=function(t,r,u,f,e,o,s,c){t!==THREE.NoBlending?(this.enable(n.BLEND),(t!==h||c!==tt)&&(t===THREE.AdditiveBlending?c?(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):(n.blendEquation(n.FUNC_ADD),n.blendFunc(n.SRC_ALPHA,n.ONE)):t===THREE.SubtractiveBlending?c?(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ZERO,n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ONE_MINUS_SRC_ALPHA)):(n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ZERO,n.ONE_MINUS_SRC_COLOR)):t===THREE.MultiplyBlending?c?(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA)):(n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ZERO,n.SRC_COLOR)):c?(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA)):(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA)),h=t,tt=c),t===THREE.CustomBlending?(e=e||r,o=o||u,s=s||f,(r!==l||e!==y)&&(n.blendEquationSeparate(i(r),i(e)),l=r,y=e),(u!==a||f!==v||o!==p||s!==w)&&(n.blendFuncSeparate(i(u),i(f),i(o),i(s)),a=u,v=f,p=o,w=s)):w=p=y=v=a=l=null):(this.disable(n.BLEND),h=t)};this.setColorWrite=function(n){this.buffers.color.setMask(n)};this.setDepthTest=function(n){this.buffers.depth.setTest(n)};this.setDepthWrite=function(n){this.buffers.depth.setMask(n)};this.setDepthFunc=function(n){this.buffers.depth.setFunc(n)};this.setStencilTest=function(n){this.buffers.stencil.setTest(n)};this.setStencilWrite=function(n){this.buffers.stencil.setMask(n)};this.setStencilFunc=function(n,t,i){this.buffers.stencil.setFunc(n,t,i)};this.setStencilOp=function(n,t,i){this.buffers.stencil.setOp(n,t,i)};this.setFlipSided=function(t){b!==t&&(t?n.frontFace(n.CW):n.frontFace(n.CCW),b=t)};this.setCullFace=function(t){t!==THREE.CullFaceNone?(this.enable(n.CULL_FACE),t!==k&&(t===THREE.CullFaceBack?n.cullFace(n.BACK):t===THREE.CullFaceFront?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):this.disable(n.CULL_FACE);k=t};this.setLineWidth=function(t){t!==it&&(n.lineWidth(t),it=t)};this.setPolygonOffset=function(t,i,r){t?(this.enable(n.POLYGON_OFFSET_FILL),rt!==i||ut!==r)&&(n.polygonOffset(i,r),rt=i,ut=r):this.disable(n.POLYGON_OFFSET_FILL)};this.getScissorTest=function(){return ft};this.setScissorTest=function(t){(ft=t)?this.enable(n.SCISSOR_TEST):this.disable(n.SCISSOR_TEST)};this.activeTexture=function(t){void 0===t&&(t=n.TEXTURE0+ht-1);u!==t&&(n.activeTexture(t),u=t)};this.bindTexture=function(t,i){null===u&&st.activeTexture();var r=d[u];void 0===r&&(r={type:void 0,texture:void 0},d[u]=r);(r.type!==t||r.texture!==i)&&(n.bindTexture(t,i||g[t]),r.type=t,r.texture=i)};this.compressedTexImage2D=function(){try{n.compressedTexImage2D.apply(n,arguments)}catch(t){console.error(t)}};this.texImage2D=function(){try{n.texImage2D.apply(n,arguments)}catch(t){console.error(t)}};this.clearColor=function(n,t,i,r){this.buffers.color.setClear(n,t,i,r)};this.clearDepth=function(n){this.buffers.depth.setClear(n)};this.clearStencil=function(n){this.buffers.stencil.setClear(n)};this.scissor=function(t){!1===et.equals(t)&&(n.scissor(t.x,t.y,t.z,t.w),et.copy(t))};this.viewport=function(t){!1===ot.equals(t)&&(n.viewport(t.x,t.y,t.z,t.w),ot.copy(t))};this.reset=function(){for(var t=0;t<r.length;t++)1===r[t]&&(n.disableVertexAttribArray(t),r[t]=0);e={};u=o=null;d={};k=b=h=null;this.buffers.color.reset();this.buffers.depth.reset();this.buffers.stencil.reset()}};THREE.WebGLColorBuffer=function(n){var t=!1,i=new THREE.Vector4,r=null,u=new THREE.Vector4;this.setMask=function(i){r===i||t||(n.colorMask(i,i,i,i),r=i)};this.setLocked=function(n){t=n};this.setClear=function(t,r,f,e){i.set(t,r,f,e);!1===u.equals(i)&&(n.clearColor(t,r,f,e),u.copy(i))};this.reset=function(){t=!1;r=null;u=new THREE.Vector4}};THREE.WebGLDepthBuffer=function(n,t){var i=!1,r=null,u=null,f=null;this.setTest=function(i){i?t.enable(n.DEPTH_TEST):t.disable(n.DEPTH_TEST)};this.setMask=function(t){r===t||i||(n.depthMask(t),r=t)};this.setFunc=function(t){if(u!==t){if(t)switch(t){case THREE.NeverDepth:n.depthFunc(n.NEVER);break;case THREE.AlwaysDepth:n.depthFunc(n.ALWAYS);break;case THREE.LessDepth:n.depthFunc(n.LESS);break;case THREE.LessEqualDepth:n.depthFunc(n.LEQUAL);break;case THREE.EqualDepth:n.depthFunc(n.EQUAL);break;case THREE.GreaterEqualDepth:n.depthFunc(n.GEQUAL);break;case THREE.GreaterDepth:n.depthFunc(n.GREATER);break;case THREE.NotEqualDepth:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}else n.depthFunc(n.LEQUAL);u=t}};this.setLocked=function(n){i=n};this.setClear=function(t){f!==t&&(n.clearDepth(t),f=t)};this.reset=function(){i=!1;f=u=r=null}};THREE.WebGLStencilBuffer=function(n,t){var i=!1,r=null,u=null,f=null,e=null,o=null,s=null,h=null,c=null;this.setTest=function(i){i?t.enable(n.STENCIL_TEST):t.disable(n.STENCIL_TEST)};this.setMask=function(t){r===t||i||(n.stencilMask(t),r=t)};this.setFunc=function(t,i,r){(u!==t||f!==i||e!==r)&&(n.stencilFunc(t,i,r),u=t,f=i,e=r)};this.setOp=function(t,i,r){(o!==t||s!==i||h!==r)&&(n.stencilOp(t,i,r),o=t,s=i,h=r)};this.setLocked=function(n){i=n};this.setClear=function(t){c!==t&&(n.clearStencil(t),c=t)};this.reset=function(){i=!1;c=h=s=o=e=f=u=r=null}};THREE.WebGLTextures=function(n,t,i,r,u,f,e){function l(n,t){if(n.width>t||n.height>t){var r=t/Math.max(n.width,n.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return i.width=Math.floor(n.width*r),i.height=Math.floor(n.height*r),i.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+n.width+"x"+n.height+"). Resized to "+i.width+"x"+i.height,n),i}return n}function o(n){return THREE.Math.isPowerOfTwo(n.width)&&THREE.Math.isPowerOfTwo(n.height)}function a(t){return t===THREE.NearestFilter||t===THREE.NearestMipMapNearestFilter||t===THREE.NearestMipMapLinearFilter?n.NEAREST:n.LINEAR}function c(t){t=t.target;t.removeEventListener("dispose",c);n:{var i=r.get(t);if(t.image&&i.__image__webglTextureCube)n.deleteTexture(i.__image__webglTextureCube);else{if(void 0===i.__webglInit)break n;n.deleteTexture(i.__webglTexture)}r.delete(t)}s.textures--}function v(t){t=t.target;t.removeEventListener("dispose",v);var u=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&n.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t instanceof THREE.WebGLRenderTargetCube)for(i=0;6>i;i++)n.deleteFramebuffer(u.__webglFramebuffer[i]),u.__webglDepthbuffer&&n.deleteRenderbuffer(u.__webglDepthbuffer[i]);else n.deleteFramebuffer(u.__webglFramebuffer),u.__webglDepthbuffer&&n.deleteRenderbuffer(u.__webglDepthbuffer);r.delete(t.texture);r.delete(t)}s.textures--}function y(t,e){var k=r.get(t),y,a,v,w,p,g;if(0<t.version&&k.__version!==t.version)if(y=t.image,void 0===y)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else if(!1===y.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t);else{void 0===k.__webglInit&&(k.__webglInit=!0,t.addEventListener("dispose",c),k.__webglTexture=n.createTexture(),s.textures++);i.activeTexture(n.TEXTURE0+e);i.bindTexture(n.TEXTURE_2D,k.__webglTexture);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,t.flipY);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha);n.pixelStorei(n.UNPACK_ALIGNMENT,t.unpackAlignment);a=l(t.image,u.maxTextureSize);(t.wrapS!==THREE.ClampToEdgeWrapping||t.wrapT!==THREE.ClampToEdgeWrapping||t.minFilter!==THREE.NearestFilter&&t.minFilter!==THREE.LinearFilter)&&!1===o(a)&&((y=a,y instanceof HTMLImageElement||y instanceof HTMLCanvasElement)?(v=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),v.width=THREE.Math.nearestPowerOfTwo(y.width),v.height=THREE.Math.nearestPowerOfTwo(y.height),v.getContext("2d").drawImage(y,0,0,v.width,v.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+y.width+"x"+y.height+"). Resized to "+v.width+"x"+v.height,y),a=v):a=y);var y=o(a),v=f(t.format),d=f(t.type);if(h(n.TEXTURE_2D,t,y),w=t.mipmaps,t instanceof THREE.DepthTexture){if(w=n.DEPTH_COMPONENT,t.type===THREE.FloatType){if(!b)throw Error("Float Depth Texture only supported in WebGL2.0");w=n.DEPTH_COMPONENT32F}else b&&(w=n.DEPTH_COMPONENT16);i.texImage2D(n.TEXTURE_2D,0,w,a.width,a.height,0,v,d,null)}else if(t instanceof THREE.DataTexture)if(0<w.length&&y){for(p=0,g=w.length;p<g;p++)a=w[p],i.texImage2D(n.TEXTURE_2D,p,v,a.width,a.height,0,v,d,a.data);t.generateMipmaps=!1}else i.texImage2D(n.TEXTURE_2D,0,v,a.width,a.height,0,v,d,a.data);else if(t instanceof THREE.CompressedTexture)for(p=0,g=w.length;p<g;p++)a=w[p],t.format!==THREE.RGBAFormat&&t.format!==THREE.RGBFormat?-1<i.getCompressedTextureFormats().indexOf(v)?i.compressedTexImage2D(n.TEXTURE_2D,p,v,a.width,a.height,0,a.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(n.TEXTURE_2D,p,v,a.width,a.height,0,v,d,a.data);else if(0<w.length&&y){for(p=0,g=w.length;p<g;p++)a=w[p],i.texImage2D(n.TEXTURE_2D,p,v,v,d,a);t.generateMipmaps=!1}else i.texImage2D(n.TEXTURE_2D,0,v,v,d,a);if(t.generateMipmaps&&y&&n.generateMipmap(n.TEXTURE_2D),k.__version=t.version,t.onUpdate)t.onUpdate(t);return}i.activeTexture(n.TEXTURE0+e);i.bindTexture(n.TEXTURE_2D,k.__webglTexture)}function h(i,e,o){o?(n.texParameteri(i,n.TEXTURE_WRAP_S,f(e.wrapS)),n.texParameteri(i,n.TEXTURE_WRAP_T,f(e.wrapT)),n.texParameteri(i,n.TEXTURE_MAG_FILTER,f(e.magFilter)),n.texParameteri(i,n.TEXTURE_MIN_FILTER,f(e.minFilter))):(n.texParameteri(i,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(i,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),e.wrapS===THREE.ClampToEdgeWrapping&&e.wrapT===THREE.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",e),n.texParameteri(i,n.TEXTURE_MAG_FILTER,a(e.magFilter)),n.texParameteri(i,n.TEXTURE_MIN_FILTER,a(e.minFilter)),e.minFilter!==THREE.NearestFilter&&e.minFilter!==THREE.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",e));(o=t.get("EXT_texture_filter_anisotropic"))&&(e.type!==THREE.FloatType||null!==t.get("OES_texture_float_linear"))&&(e.type!==THREE.HalfFloatType||null!==t.get("OES_texture_half_float_linear"))&&(1<e.anisotropy||r.get(e).__currentAnisotropy)&&(n.texParameterf(i,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,u.getMaxAnisotropy())),r.get(e).__currentAnisotropy=e.anisotropy)}function p(t,u,e,o){var s=f(u.texture.format),h=f(u.texture.type);i.texImage2D(o,0,s,u.width,u.height,0,s,h,null);n.bindFramebuffer(n.FRAMEBUFFER,t);n.framebufferTexture2D(n.FRAMEBUFFER,e,o,r.get(u.texture).__webglTexture,0);n.bindFramebuffer(n.FRAMEBUFFER,null)}function w(t,i){n.bindRenderbuffer(n.RENDERBUFFER,t);i.depthBuffer&&!i.stencilBuffer?(n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,i.width,i.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,t)):i.depthBuffer&&i.stencilBuffer?(n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,i.width,i.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,t)):n.renderbufferStorage(n.RENDERBUFFER,n.RGBA4,i.width,i.height);n.bindRenderbuffer(n.RENDERBUFFER,null)}var s=e.memory,b="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext;this.setTexture2D=y;this.setTextureCube=function(t,e){var w=r.get(t);if(6===t.image.length)if(0<t.version&&w.__version!==t.version){w.__image__webglTextureCube||(t.addEventListener("dispose",c),w.__image__webglTextureCube=n.createTexture(),s.textures++);i.activeTexture(n.TEXTURE0+e);i.bindTexture(n.TEXTURE_CUBE_MAP,w.__image__webglTextureCube);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var g=t instanceof THREE.CompressedTexture,k=t.image[0]instanceof THREE.DataTexture,y=[],a=0;6>a;a++)y[a]=g||k?k?t.image[a].image:t.image[a]:l(t.image[a],u.maxCubemapSize);var nt=o(y[0]),v=f(t.format),d=f(t.type);for(h(n.TEXTURE_CUBE_MAP,t,nt),a=0;6>a;a++)if(g)for(var p,tt=y[a].mipmaps,b=0,it=tt.length;b<it;b++)p=tt[b],t.format!==THREE.RGBAFormat&&t.format!==THREE.RGBFormat?-1<i.getCompressedTextureFormats().indexOf(v)?i.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+a,b,v,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+a,b,v,p.width,p.height,0,v,d,p.data);else k?i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,v,y[a].width,y[a].height,0,v,d,y[a].data):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,v,v,d,y[a]);if(t.generateMipmaps&&nt&&n.generateMipmap(n.TEXTURE_CUBE_MAP),w.__version=t.version,t.onUpdate)t.onUpdate(t)}else i.activeTexture(n.TEXTURE0+e),i.bindTexture(n.TEXTURE_CUBE_MAP,w.__image__webglTextureCube)};this.setTextureCubeDynamic=function(t,u){i.activeTexture(n.TEXTURE0+u);i.bindTexture(n.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)};this.setupRenderTarget=function(t){var u=r.get(t),f=r.get(t.texture),l,c,e;if(t.addEventListener("dispose",v),f.__webglTexture=n.createTexture(),s.textures++,l=t instanceof THREE.WebGLRenderTargetCube,c=o(t),l)for(u.__webglFramebuffer=[],e=0;6>e;e++)u.__webglFramebuffer[e]=n.createFramebuffer();else u.__webglFramebuffer=n.createFramebuffer();if(l){for(i.bindTexture(n.TEXTURE_CUBE_MAP,f.__webglTexture),h(n.TEXTURE_CUBE_MAP,t.texture,c),e=0;6>e;e++)p(u.__webglFramebuffer[e],t,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+e);t.texture.generateMipmaps&&c&&n.generateMipmap(n.TEXTURE_CUBE_MAP);i.bindTexture(n.TEXTURE_CUBE_MAP,null)}else i.bindTexture(n.TEXTURE_2D,f.__webglTexture),h(n.TEXTURE_2D,t.texture,c),p(u.__webglFramebuffer,t,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),t.texture.generateMipmaps&&c&&n.generateMipmap(n.TEXTURE_2D),i.bindTexture(n.TEXTURE_2D,null);if(t.depthBuffer){if(u=r.get(t),f=t instanceof THREE.WebGLRenderTargetCube,t.depthTexture){if(f)throw Error("target.depthTexture not supported in Cube render targets");if(t instanceof THREE.WebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");if(n.bindFramebuffer(n.FRAMEBUFFER,u.__webglFramebuffer),!(t.depthTexture instanceof THREE.DepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0);y(t.depthTexture,0);t=r.get(t.depthTexture).__webglTexture;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,t,0)}else if(f)for(u.__webglDepthbuffer=[],f=0;6>f;f++)n.bindFramebuffer(n.FRAMEBUFFER,u.__webglFramebuffer[f]),u.__webglDepthbuffer[f]=n.createRenderbuffer(),w(u.__webglDepthbuffer[f],t);else n.bindFramebuffer(n.FRAMEBUFFER,u.__webglFramebuffer),u.__webglDepthbuffer=n.createRenderbuffer(),w(u.__webglDepthbuffer,t);n.bindFramebuffer(n.FRAMEBUFFER,null)}};this.updateRenderTargetMipmap=function(t){var u=t.texture;u.generateMipmaps&&o(t)&&u.minFilter!==THREE.NearestFilter&&u.minFilter!==THREE.LinearFilter&&(t=t instanceof THREE.WebGLRenderTargetCube?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,u=r.get(u).__webglTexture,i.bindTexture(t,u),n.generateMipmap(t),i.bindTexture(t,null))}};THREE.WebGLUniforms=function(){var r=new THREE.Texture,u=new THREE.CubeTexture,f=[],e=[],t=function(n,t,i){var r=n[0],u,e;if(0>=r||0<r)return n;if(u=t*i,e=f[u],void 0===e&&(e=new Float32Array(u),f[u]=e),0!==t)for(r.toArray(e,0),r=1,u=0;r!==t;++r)u+=i,n[r].toArray(e,u);return e},o=function(n,t){var i=e[t],r;for(void 0===i&&(i=new Int32Array(t),e[t]=i),r=0;r!==t;++r)i[r]=n.allocTextureUnit();return i},a=function(n,t){n.uniform1f(this.addr,t)},v=function(n,t){n.uniform1i(this.addr,t)},y=function(n,t){void 0===t.x?n.uniform2fv(this.addr,t):n.uniform2f(this.addr,t.x,t.y)},p=function(n,t){void 0!==t.x?n.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?n.uniform3f(this.addr,t.r,t.g,t.b):n.uniform3fv(this.addr,t)},w=function(n,t){void 0===t.x?n.uniform4fv(this.addr,t):n.uniform4f(this.addr,t.x,t.y,t.z,t.w)},b=function(n,t){n.uniformMatrix2fv(this.addr,!1,t.elements||t)},k=function(n,t){n.uniformMatrix3fv(this.addr,!1,t.elements||t)},d=function(n,t){n.uniformMatrix4fv(this.addr,!1,t.elements||t)},g=function(n,t,i){var u=i.allocTextureUnit();n.uniform1i(this.addr,u);i.setTexture2D(t||r,u)},nt=function(n,t,i){var r=i.allocTextureUnit();n.uniform1i(this.addr,r);i.setTextureCube(t||u,r)},s=function(n,t){n.uniform2iv(this.addr,t)},h=function(n,t){n.uniform3iv(this.addr,t)},c=function(n,t){n.uniform4iv(this.addr,t)},tt=function(n){switch(n){case 5126:return a;case 35664:return y;case 35665:return p;case 35666:return w;case 35674:return b;case 35675:return k;case 35676:return d;case 35678:return g;case 35680:return nt;case 5124:case 35670:return v;case 35667:case 35671:return s;case 35668:case 35672:return h;case 35669:case 35673:return c}},it=function(n,t){n.uniform1fv(this.addr,t)},rt=function(n,t){n.uniform1iv(this.addr,t)},ut=function(n,i){n.uniform2fv(this.addr,t(i,this.size,2))},ft=function(n,i){n.uniform3fv(this.addr,t(i,this.size,3))},et=function(n,i){n.uniform4fv(this.addr,t(i,this.size,4))},ot=function(n,i){n.uniformMatrix2fv(this.addr,!1,t(i,this.size,4))},st=function(n,i){n.uniformMatrix3fv(this.addr,!1,t(i,this.size,9))},ht=function(n,i){n.uniformMatrix4fv(this.addr,!1,t(i,this.size,16))},ct=function(n,t,i){var u=t.length,f=o(i,u);for(n.uniform1iv(this.addr,f),n=0;n!==u;++n)i.setTexture2D(t[n]||r,f[n])},lt=function(n,t,i){var r=t.length,f=o(i,r);for(n.uniform1iv(this.addr,f),n=0;n!==r;++n)i.setTextureCube(t[n]||u,f[n])},at=function(n){switch(n){case 5126:return it;case 35664:return ut;case 35665:return ft;case 35666:return et;case 35674:return ot;case 35675:return st;case 35676:return ht;case 35678:return ct;case 35680:return lt;case 5124:case 35670:return rt;case 35667:case 35671:return s;case 35668:case 35672:return h;case 35669:case 35673:return c}},vt=function(n,t,i){this.id=n;this.addr=i;this.setValue=tt(t.type)},yt=function(n,t,i){this.id=n;this.addr=i;this.size=t.size;this.setValue=at(t.type)},l=function(n){this.id=n;this.seq=[];this.map={}},i,n;return l.prototype.setValue=function(n,t){for(var r,u=this.seq,i=0,f=u.length;i!==f;++i)r=u[i],r.setValue(n,t[r.id])},i=/([\w\d_]+)(\])?(\[|\.)?/g,n=function(n,t,r){var h;for(this.seq=[],this.map={},this.renderer=r,r=n.getProgramParameter(t,n.ACTIVE_UNIFORMS),h=0;h!==r;++h){var u=n.getActiveUniform(t,h),a=n.getUniformLocation(t,u.name),f=this,s=u.name,v=s.length;for(i.lastIndex=0;;){var c=i.exec(s),y=i.lastIndex,e=c[1],o=c[3];if("]"===c[2]&&(e|=0),void 0===o||"["===o&&y+2===v){s=f;u=void 0===o?new vt(e,u,a):new yt(e,u,a);s.seq.push(u);s.map[u.id]=u;break}else o=f.map[e],void 0===o&&(o=new l(e),e=f,f=o,e.seq.push(f),e.map[f.id]=f),f=o}}},n.prototype.setValue=function(n,t,i){t=this.map[t];void 0!==t&&t.setValue(n,i,this.renderer)},n.prototype.set=function(n,t,i){var r=this.map[i];void 0!==r&&r.setValue(n,t[i],this.renderer)},n.prototype.setOptional=function(n,t,i){t=t[i];void 0!==t&&this.setValue(n,i,t)},n.upload=function(n,t,i,r){for(var f,e,u=0,o=t.length;u!==o;++u)f=t[u],e=i[f.id],!1!==e.needsUpdate&&f.setValue(n,e.value,r)},n.seqWithValue=function(n,t){for(var r,u=[],i=0,f=n.length;i!==f;++i)r=n[i],r.id in t&&u.push(r);return u},n.splitDynamic=function(n,t){for(var f,e,r=null,o=n.length,i=0,u=0;u!==o;++u)f=n[u],e=t[f.id],e&&!0===e.dynamic?(null===r&&(r=[]),r.push(f)):(i<u&&(n[i]=f),++i);return i<o&&(n.length=i),r},n.evalDynamic=function(n,t,i,r){for(var f,e,u=0,o=n.length;u!==o;++u)f=t[n[u].id],e=f.onUpdateCallback,void 0!==e&&e.call(f,i,r)},n}();THREE.LensFlarePlugin=function(n,t){var f,y,p,w,b,o,k,s,h,c,i=n.context,r=n.state,l,a,d,u,e,v;this.render=function(g,nt,tt){var ft,et,ht,pt,it;if(0!==t.length){g=new THREE.Vector3;var lt=tt.w/tt.z,vt=.5*tt.z,yt=.5*tt.w,ft=16/tt.w,ot=new THREE.Vector2(ft*lt,ft),ut=new THREE.Vector3(1,1,0),st=new THREE.Vector2(1,1),at=new THREE.Box2;if(at.min.set(0,0),at.max.set(tt.z-16,tt.w-16),void 0===u){ft=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);et=new Uint16Array([0,1,2,0,2,3]);l=i.createBuffer();a=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,l);i.bufferData(i.ARRAY_BUFFER,ft,i.STATIC_DRAW);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,a);i.bufferData(i.ELEMENT_ARRAY_BUFFER,et,i.STATIC_DRAW);e=i.createTexture();v=i.createTexture();r.bindTexture(i.TEXTURE_2D,e);i.texImage2D(i.TEXTURE_2D,0,i.RGB,16,16,0,i.RGB,i.UNSIGNED_BYTE,null);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST);r.bindTexture(i.TEXTURE_2D,v);i.texImage2D(i.TEXTURE_2D,0,i.RGBA,16,16,0,i.RGBA,i.UNSIGNED_BYTE,null);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST);var ft=d={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},et=i.createProgram(),ct=i.createShader(i.FRAGMENT_SHADER),rt=i.createShader(i.VERTEX_SHADER),ht="precision "+n.getPrecision()+" float;\n";i.shaderSource(ct,ht+ft.fragmentShader);i.shaderSource(rt,ht+ft.vertexShader);i.compileShader(ct);i.compileShader(rt);i.attachShader(et,ct);i.attachShader(et,rt);i.linkProgram(et);u=et;h=i.getAttribLocation(u,"position");c=i.getAttribLocation(u,"uv");f=i.getUniformLocation(u,"renderType");y=i.getUniformLocation(u,"map");p=i.getUniformLocation(u,"occlusionMap");w=i.getUniformLocation(u,"opacity");b=i.getUniformLocation(u,"color");o=i.getUniformLocation(u,"scale");k=i.getUniformLocation(u,"rotation");s=i.getUniformLocation(u,"screenPosition")}for(i.useProgram(u),r.initAttributes(),r.enableAttribute(h),r.enableAttribute(c),r.disableUnusedAttributes(),i.uniform1i(p,0),i.uniform1i(y,1),i.bindBuffer(i.ARRAY_BUFFER,l),i.vertexAttribPointer(h,2,i.FLOAT,!1,16,0),i.vertexAttribPointer(c,2,i.FLOAT,!1,16,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,a),r.disable(i.CULL_FACE),r.setDepthWrite(!1),et=0,ct=t.length;et<ct;et++)if(ft=16/tt.w,ot.set(ft*lt,ft),rt=t[et],g.set(rt.matrixWorld.elements[12],rt.matrixWorld.elements[13],rt.matrixWorld.elements[14]),g.applyMatrix4(nt.matrixWorldInverse),g.applyProjection(nt.projectionMatrix),ut.copy(g),st.x=tt.x+ut.x*vt+vt-8,st.y=tt.y+ut.y*yt+yt-8,!0===at.containsPoint(st))for(r.activeTexture(i.TEXTURE0),r.bindTexture(i.TEXTURE_2D,null),r.activeTexture(i.TEXTURE1),r.bindTexture(i.TEXTURE_2D,e),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGB,st.x,st.y,16,16,0),i.uniform1i(f,0),i.uniform2f(o,ot.x,ot.y),i.uniform3f(s,ut.x,ut.y,ut.z),r.disable(i.BLEND),r.enable(i.DEPTH_TEST),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),r.activeTexture(i.TEXTURE0),r.bindTexture(i.TEXTURE_2D,v),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,st.x,st.y,16,16,0),i.uniform1i(f,1),r.disable(i.DEPTH_TEST),r.activeTexture(i.TEXTURE1),r.bindTexture(i.TEXTURE_2D,e),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),rt.positionScreen.copy(ut),rt.customUpdateCallback?rt.customUpdateCallback(rt):rt.updateLensFlares(),i.uniform1i(f,2),r.enable(i.BLEND),ht=0,pt=rt.lensFlares.length;ht<pt;ht++)it=rt.lensFlares[ht],.001<it.opacity&&.001<it.scale&&(ut.x=it.x,ut.y=it.y,ut.z=it.z,ft=it.size*it.scale/tt.w,ot.x=ft*lt,ot.y=ft,i.uniform3f(s,ut.x,ut.y,ut.z),i.uniform2f(o,ot.x,ot.y),i.uniform1f(k,it.rotation),i.uniform1f(w,it.opacity),i.uniform3f(b,it.color.r,it.color.g,it.color.b),r.setBlending(it.blending,it.blendEquation,it.blendSrc,it.blendDst),n.setTexture2D(it.texture,1),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0));r.enable(i.CULL_FACE);r.enable(i.DEPTH_TEST);r.setDepthWrite(!0);n.resetGLState()}}};THREE.SpritePlugin=function(n,t){function ft(n,t){return n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:t.id-n.id}var e,o,y,p,w,b,k,d,g,f,nt,tt,it,rt,ut,s,h,i=n.context,u=n.state,c,l,r,a,et=new THREE.Vector3,ot=new THREE.Quaternion,v=new THREE.Vector3;this.render=function(st,ht){var at,yt,lt,pt,vt,ct;if(0!==t.length){if(void 0===r){at=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]);yt=new Uint16Array([0,1,2,0,2,3]);c=i.createBuffer();l=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,c);i.bufferData(i.ARRAY_BUFFER,at,i.STATIC_DRAW);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,l);i.bufferData(i.ELEMENT_ARRAY_BUFFER,yt,i.STATIC_DRAW);var at=i.createProgram(),yt=i.createShader(i.VERTEX_SHADER),lt=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(yt,["precision "+n.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n"));i.shaderSource(lt,["precision "+n.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));i.compileShader(yt);i.compileShader(lt);i.attachShader(at,yt);i.attachShader(at,lt);i.linkProgram(at);r=at;s=i.getAttribLocation(r,"position");h=i.getAttribLocation(r,"uv");e=i.getUniformLocation(r,"uvOffset");o=i.getUniformLocation(r,"uvScale");y=i.getUniformLocation(r,"rotation");p=i.getUniformLocation(r,"scale");w=i.getUniformLocation(r,"color");b=i.getUniformLocation(r,"map");k=i.getUniformLocation(r,"opacity");d=i.getUniformLocation(r,"modelViewMatrix");g=i.getUniformLocation(r,"projectionMatrix");f=i.getUniformLocation(r,"fogType");nt=i.getUniformLocation(r,"fogDensity");tt=i.getUniformLocation(r,"fogNear");it=i.getUniformLocation(r,"fogFar");rt=i.getUniformLocation(r,"fogColor");ut=i.getUniformLocation(r,"alphaTest");at=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");at.width=8;at.height=8;yt=at.getContext("2d");yt.fillStyle="white";yt.fillRect(0,0,8,8);a=new THREE.Texture(at);a.needsUpdate=!0}for(i.useProgram(r),u.initAttributes(),u.enableAttribute(s),u.enableAttribute(h),u.disableUnusedAttributes(),u.disable(i.CULL_FACE),u.enable(i.BLEND),i.bindBuffer(i.ARRAY_BUFFER,c),i.vertexAttribPointer(s,2,i.FLOAT,!1,16,0),i.vertexAttribPointer(h,2,i.FLOAT,!1,16,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,l),i.uniformMatrix4fv(g,!1,ht.projectionMatrix.elements),u.activeTexture(i.TEXTURE0),i.uniform1i(b,0),yt=at=0,(lt=st.fog)?(i.uniform3f(rt,lt.color.r,lt.color.g,lt.color.b),lt instanceof THREE.Fog?(i.uniform1f(tt,lt.near),i.uniform1f(it,lt.far),i.uniform1i(f,1),yt=at=1):lt instanceof THREE.FogExp2&&(i.uniform1f(nt,lt.density),i.uniform1i(f,2),yt=at=2)):(i.uniform1i(f,0),yt=at=0),lt=0,pt=t.length;lt<pt;lt++)vt=t[lt],vt.modelViewMatrix.multiplyMatrices(ht.matrixWorldInverse,vt.matrixWorld),vt.z=-vt.modelViewMatrix.elements[14];t.sort(ft);for(var wt=[],lt=0,pt=t.length;lt<pt;lt++)vt=t[lt],ct=vt.material,!1!==ct.visible&&(i.uniform1f(ut,ct.alphaTest),i.uniformMatrix4fv(d,!1,vt.modelViewMatrix.elements),vt.matrixWorld.decompose(et,ot,v),wt[0]=v.x,wt[1]=v.y,vt=0,st.fog&&ct.fog&&(vt=yt),at!==vt&&(i.uniform1i(f,vt),at=vt),null!==ct.map?(i.uniform2f(e,ct.map.offset.x,ct.map.offset.y),i.uniform2f(o,ct.map.repeat.x,ct.map.repeat.y)):(i.uniform2f(e,0,0),i.uniform2f(o,1,1)),i.uniform1f(k,ct.opacity),i.uniform3f(w,ct.color.r,ct.color.g,ct.color.b),i.uniform1f(y,ct.rotation),i.uniform2fv(p,wt),u.setBlending(ct.blending,ct.blendEquation,ct.blendSrc,ct.blendDst),u.setDepthTest(ct.depthTest),u.setDepthWrite(ct.depthWrite),ct.map?n.setTexture2D(ct.map,0):n.setTexture2D(a,0),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0));u.enable(i.CULL_FACE);n.resetGLState()}}};Object.assign(THREE,{Face4:function(n,t,i,r,u,f,e){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new THREE.Face3(n,t,i,u,f,e)},LineStrip:0,LinePieces:1,MeshFaceMaterial:THREE.MultiMaterial,PointCloud:function(n,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new THREE.Points(n,t)},Particle:THREE.Sprite,ParticleSystem:function(n,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new THREE.Points(n,t)},PointCloudMaterial:function(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new THREE.PointsMaterial(n)},ParticleBasicMaterial:function(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new THREE.PointsMaterial(n)},ParticleSystemMaterial:function(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new THREE.PointsMaterial(n)},Vertex:function(n,t,i){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new THREE.Vector3(n,t,i)}});Object.assign(THREE.Box2.prototype,{empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)}});Object.assign(THREE.Box3.prototype,{empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionSphere:function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)}});Object.assign(THREE.Matrix3.prototype,{multiplyVector3:function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},multiplyVector3Array:function(n){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(n)}});Object.assign(THREE.Matrix4.prototype,{extractPosition:function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)},setRotationFromQuaternion:function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)},multiplyVector3:function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),n.applyProjection(this)},multiplyVector4:function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},multiplyVector3Array:function(n){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(n)},rotateAxis:function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");n.transformDirection(this)},crossVector:function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}});Object.assign(THREE.Plane.prototype,{isIntersectionLine:function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)}});Object.assign(THREE.Quaternion.prototype,{multiplyVector3:function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)}});Object.assign(THREE.Ray.prototype,{isIntersectionBox:function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionPlane:function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)},isIntersectionSphere:function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)}});Object.assign(THREE.Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)},getScaleFromMatrix:function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)},getColumnFromMatrix:function(n,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,n)}});Object.assign(THREE.Object3D.prototype,{getChildByName:function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(n,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,n)}});Object.defineProperties(THREE.Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(THREE.LOD.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});THREE.PerspectiveCamera.prototype.setLens=function(n,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==t&&(this.filmGauge=t);this.setFocalLength(n)};Object.defineProperties(THREE.Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=n}}});Object.defineProperties(THREE.BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length}}});Object.assign(THREE.BufferGeometry.prototype,{addIndex:function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(n)},addDrawCall:function(n,t,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(n,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(THREE.BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(THREE.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new THREE.Color}}});Object.defineProperties(THREE.MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(THREE.ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=n}}});THREE.EventDispatcher.prototype=Object.assign(Object.create({constructor:THREE.EventDispatcher,apply:function(n){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.");Object.assign(n,this)}}),THREE.EventDispatcher.prototype);Object.assign(THREE.WebGLRenderer.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(n)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});Object.defineProperties(THREE.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=n}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");this.shadowMap.cullFace=n}}});Object.defineProperties(THREE.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?THREE.CullFaceFront:THREE.CullFaceBack},set:function(n){n=n!==THREE.CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+n+".");this.renderReverseSided=n}}});Object.defineProperties(THREE.WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=n}}});Object.assign(THREE.Audio.prototype,{load:function(n){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var t=this;return(new THREE.AudioLoader).load(n,function(n){t.setBuffer(n)}),this}});Object.assign(THREE.AudioAnalyser.prototype,{getData:function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()}});THREE.GeometryUtils={merge:function(n,t,i){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;t instanceof THREE.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry);n.merge(t,r,i)},center:function(n){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),n.center()}};THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(n,t,i,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var u=new THREE.TextureLoader;return u.setCrossOrigin(this.crossOrigin),n=u.load(n,i,void 0,r),t&&(n.mapping=t),n},loadTextureCube:function(n,t,i,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var u=new THREE.CubeTextureLoader;return u.setCrossOrigin(this.crossOrigin),n=u.load(n,i,void 0,r),t&&(n.mapping=t),n},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};THREE.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(n,t){console.warn("THREE.Projector: .projectVector() is now vector.project().");n.project(t)};this.unprojectVector=function(n,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");n.unproject(t)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};THREE.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};THREE.CurveUtils={tangentQuadraticBezier:function(n,t,i,r){return 2*(1-n)*(i-t)+2*n*(r-i)},tangentCubicBezier:function(n,t,i,r,u){return-3*t*(1-n)*(1-n)+3*i*(1-n)*(1-n)-6*n*i*(1-n)+6*n*r*(1-n)-3*n*n*r+3*n*n*u},tangentSpline:function(n){return 6*n*n-6*n+(3*n*n-4*n+1)+(-6*n*n+6*n)+(3*n*n-2*n)},interpolate:function(n,t,i,r,u){n=.5*(i-n);r=.5*(r-t);var f=u*u;return(2*t-2*i+n+r)*u*f+(-3*t+3*i-2*n-r)*f+n*u+t}};THREE.SceneUtils={createMultiMaterialObject:function(n,t){for(var r=new THREE.Group,i=0,u=t.length;i<u;i++)r.add(new THREE.Mesh(n,t[i]));return r},detach:function(n,t,i){n.applyMatrix(t.matrixWorld);t.remove(n);i.add(n)},attach:function(n,t,i){var r=new THREE.Matrix4;r.getInverse(i.matrixWorld);n.applyMatrix(r);t.remove(n);i.add(n)}};THREE.ShapeUtils={area:function(n){for(var r=n.length,u=0,i=r-1,t=0;t<r;i=t++)u+=n[i].x*n[t].y-n[t].x*n[i].y;return.5*u},triangulate:function(){return function(n,t){var u=n.length,d,o;if(3>u)return null;var g=[],r=[],nt=[],f,i,e;if(0<THREE.ShapeUtils.area(n))for(i=0;i<u;i++)r[i]=i;else for(i=0;i<u;i++)r[i]=u-1-i;for(d=2*u,i=u-1;2<u;){if(0>=d--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}f=i;u<=f&&(f=0);i=f+1;u<=i&&(i=0);e=i+1;u<=e&&(e=0);n:{var c=o=void 0,l=void 0,a=void 0,v=void 0,y=void 0,p=void 0,s=void 0,h=void 0,c=n[r[f]].x,l=n[r[f]].y,a=n[r[i]].x,v=n[r[i]].y,y=n[r[e]].x,p=n[r[e]].y;if(Number.EPSILON>(a-c)*(p-l)-(v-l)*(y-c))o=!1;else{var it=void 0,rt=void 0,ut=void 0,ft=void 0,et=void 0,ot=void 0,w=void 0,b=void 0,k=void 0,tt=void 0,k=b=w=h=s=void 0,it=y-a,rt=p-v,ut=c-y,ft=l-p,et=a-c,ot=v-l;for(o=0;o<u;o++)if(s=n[r[o]].x,h=n[r[o]].y,!(s===c&&h===l||s===a&&h===v||s===y&&h===p)&&(w=s-c,b=h-l,k=s-a,tt=h-v,s-=y,h-=p,k=it*tt-rt*k,w=et*b-ot*w,b=ut*h-ft*s,k>=-Number.EPSILON&&b>=-Number.EPSILON&&w>=-Number.EPSILON)){o=!1;break n}o=!0}}if(o){for(g.push([n[r[f]],n[r[i]],n[r[e]]]),nt.push([r[f],r[i],r[e]]),f=i,e=i+1;e<u;f++,e++)r[f]=r[e];u--;d=2*u}}return t?nt:g}}(),triangulateShape:function(n,t){function h(n){var t=n.length;2<t&&n[t-1].equals(n[0])&&n.pop()}function c(n,t,i){return n.x!==t.x?n.x<t.x?n.x<=i.x&&i.x<=t.x:t.x<=i.x&&i.x<=n.x:n.y<t.y?n.y<=i.y&&i.y<=t.y:t.y<=i.y&&i.y<=n.y}function l(n,t,i,r,u){var s=t.x-n.x,o=t.y-n.y,f=r.x-i.x,h=r.y-i.y,a=n.x-i.x,v=n.y-i.y,e=o*f-s*h,l=o*a-s*v;if(Math.abs(e)>Number.EPSILON){if(0<e){if(0>l||l>e)return[];if(f=h*a-f*v,0>f||f>e)return[]}else{if(0<l||l<e)return[];if(f=h*a-f*v,0<f||f<e)return[]}return 0===f?!u||0!==l&&l!==e?[n]:[]:f===e?!u||0!==l&&l!==e?[t]:[]:0===l?[i]:l===e?[r]:(u=f/e,[{x:n.x+u*s,y:n.y+u*o}])}return 0!==l||h*a!=f*v?[]:(o=0===s&&0===o,f=0===f&&0===h,o&&f)?n.x!==i.x||n.y!==i.y?[]:[n]:o?c(i,r,n)?[n]:[]:f?c(n,t,i)?[i]:[]:(0!==s?(n.x<t.x?(s=n,f=n.x,o=t,n=t.x):(s=t,f=t.x,o=n,n=n.x),i.x<r.x?(t=i,e=i.x,h=r,i=r.x):(t=r,e=r.x,h=i,i=i.x)):(n.y<t.y?(s=n,f=n.y,o=t,n=t.y):(s=t,f=t.y,o=n,n=n.y),i.y<r.y?(t=i,e=i.y,h=r,i=r.y):(t=r,e=r.y,h=i,i=i.y)),f<=e?n<e?[]:n===e?u?[]:[t]:n<=i?[t,o]:[t,h]:f>i?[]:f===i?u?[]:[s]:n<=i?[s,o]:[s,h])}function a(n,t,i,r){var u=t.x-n.x,e=t.y-n.y,f;return t=i.x-n.x,i=i.y-n.y,f=r.x-n.x,r=r.y-n.y,n=u*i-e*t,u=u*r-e*f,Math.abs(n)>Number.EPSILON?(t=f*i-r*t,0<n?0<=u&&0<=t:0<=u||0<=t):0<u}var i,f,r,e,u,o,s;for(h(n),t.forEach(h),o={},r=n.concat(),i=0,f=t.length;i<f;i++)Array.prototype.push.apply(r,t[i]);for(i=0,f=r.length;i<f;i++)u=r[i].x+":"+r[i].y,void 0!==o[u]&&console.warn("THREE.ShapeUtils: Duplicate point",u,i),o[u]=i;for(i=function(n,t){function k(n,t){var u=i.length-1,e=n-1,f;return(0>e&&(e=u),f=n+1,f>u&&(f=0),u=a(i[n],i[e],i[f],r[t]),!u)?!1:(u=r.length-1,e=t-1,0>e&&(e=u),f=t+1,f>u&&(f=0),(u=a(r[t],r[e],r[f],i[n]))?!0:!1)}function d(n,t){for(var u,r=0;r<i.length;r++)if(u=r+1,u%=i.length,u=l(n,t,i[r],i[u],!0),0<u.length)return!0;return!1}function g(n,i){for(var r,f,e,o=0;o<u.length;o++)for(r=t[u[o]],f=0;f<r.length;f++)if(e=f+1,e%=r.length,e=l(n,i,r[f],r[e],!0),0<e.length)return!0;return!1}for(var i=n.concat(),r,u=[],e,c,o,y,w=[],v,s,b,h=0,p,f=t.length;h<f;h++)u.push(h);for(v=0,p=2*u.length;0<u.length;){if(p--,0>p){console.log("Infinite Loop! Holes left:"+u.length+", Probably Hole outside Shape!");break}for(e=v;e<i.length;e++){for(c=i[e],f=-1,h=0;h<u.length;h++)if(o=u[h],y=c.x+":"+c.y+":"+o,void 0===w[y]){for(r=t[o],s=0;s<r.length;s++)if(o=r[s],k(e,s)&&!d(c,o)&&!g(c,o)){f=s;u.splice(h,1);v=i.slice(0,e+1);o=i.slice(e);s=r.slice(f);b=r.slice(0,f+1);i=v.concat(s).concat(b).concat(o);v=e;break}if(0<=f)break;w[y]=!0}if(0<=f)break}}return i}(n,t),s=THREE.ShapeUtils.triangulate(i,!1),i=0,f=s.length;i<f;i++)for(e=s[i],r=0;3>r;r++)u=e[r].x+":"+e[r].y,u=o[u],void 0!==u&&(e[r]=u);return s.concat()},isClockWise:function(n){return 0>THREE.ShapeUtils.area(n)},b2:function(){return function(n,t,i,r){var u=1-n;return u*u*t+2*(1-n)*n*i+n*n*r}}(),b3:function(){return function(n,t,i,r,u){var f=1-n,e=1-n;return f*f*f*t+3*e*e*n*i+3*(1-n)*n*n*r+n*n*n*u}}()};THREE.Curve=function(){};THREE.Curve.prototype={constructor:THREE.Curve,getPoint:function(){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(n){return n=this.getUtoTmapping(n),this.getPoint(n)},getPoints:function(n){n||(n=5);for(var i=[],t=0;t<=n;t++)i.push(this.getPoint(t/n));return i},getSpacedPoints:function(n){n||(n=5);for(var i=[],t=0;t<=n;t++)i.push(this.getPointAt(t/n));return i},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n||(n=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var i=[],r,u=this.getPoint(0),t,f=0;for(i.push(0),t=1;t<=n;t++)r=this.getPoint(t/n),f+=r.distanceTo(u),i.push(f),u=r;return this.cacheArcLengths=i},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(n,t){var u=this.getLengths(),i=0,e=u.length,o,r,f,s;for(o=t?t:n*u[e-1],r=0,f=e-1;r<=f;)if(i=Math.floor(r+(f-r)/2),s=u[i]-o,0>s)r=i+1;else if(0<s)f=i-1;else{f=i;break}return(i=f,u[i]===o)?i/(e-1):(r=u[i],(i+(o-r)/(u[i+1]-r))/(e-1))},getTangent:function(n){var t=n-.0001;return n+=.0001,0>t&&(t=0),1<n&&(n=1),t=this.getPoint(t),this.getPoint(n).clone().sub(t).normalize()},getTangentAt:function(n){return n=this.getUtoTmapping(n),this.getTangent(n)}};THREE.Curve.create=function(n,t){return n.prototype=Object.create(THREE.Curve.prototype),n.prototype.constructor=n,n.prototype.getPoint=t,n};THREE.CurvePath=function(){this.curves=[];this.autoClose=!1};THREE.CurvePath.prototype=Object.assign(Object.create(THREE.Curve.prototype),{constructor:THREE.CurvePath,add:function(n){this.curves.push(n)},closePath:function(){var n=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);n.equals(t)||this.curves.push(new THREE.LineCurve(t,n))},getPoint:function(n){var i=n*this.getLength(),t=this.getCurveLengths();for(n=0;n<t.length;){if(t[n]>=i)return i=t[n]-i,n=this.curves[n],t=n.getLength(),n.getPointAt(0===t?0:1-i/t);n++}return null},getLength:function(){var n=this.getCurveLengths();return n[n.length-1]},updateArcLengths:function(){this.needsUpdate=!0;this.cacheLengths=null;this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],i=0,n=0,r=this.curves.length;n<r;n++)i+=this.curves[n].getLength(),t.push(i);return this.cacheLengths=t},getSpacedPoints:function(n){n||(n=40);for(var t=[],i=0;i<=n;i++)t.push(this.getPoint(i/n));return this.autoClose&&t.push(t[0]),t},getPoints:function(n){var r;n=n||12;for(var t=[],u,f=0,o=this.curves;f<o.length;f++)for(var i=o[f],i=i.getPoints(i instanceof THREE.EllipseCurve?2*n:i instanceof THREE.LineCurve?1:i instanceof THREE.SplineCurve?n*i.points.length:n),e=0;e<i.length;e++)r=i[e],u&&u.equals(r)||(t.push(r),u=r);return this.autoClose&&1<t.length&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},createPointsGeometry:function(n){return n=this.getPoints(n),this.createGeometry(n)},createSpacedPointsGeometry:function(n){return n=this.getSpacedPoints(n),this.createGeometry(n)},createGeometry:function(n){for(var t,r=new THREE.Geometry,i=0,u=n.length;i<u;i++)t=n[i],r.vertices.push(new THREE.Vector3(t.x,t.y,t.z||0));return r}});THREE.Font=function(n){this.data=n};Object.assign(THREE.Font.prototype,{generateShapes:function(n,t,i){var h,it,d,b,r,c,l,p;for(void 0===t&&(t=100),void 0===i&&(i=4),h=this.data,n=String(n).split(""),it=t/h.resolution,d=0,t=[],b=0;b<n.length;b++){if(r=it,c=d,l=h.glyphs[n[b]]||h.glyphs["?"],l){var w=new THREE.ShapePath,k=[],rt=THREE.ShapeUtils.b2,ut=THREE.ShapeUtils.b3,e=void 0,o=void 0,g=o=e=void 0,s=void 0,v=void 0,y=void 0,nt=void 0,tt=void 0,s=void 0;if(l.o)for(var u=l._cachedOutline||(l._cachedOutline=l.o.split(" ")),f=0,ft=u.length;f<ft;)switch(u[f++]){case"m":e=u[f++]*r+c;o=u[f++]*r;w.moveTo(e,o);break;case"l":e=u[f++]*r+c;o=u[f++]*r;w.lineTo(e,o);break;case"q":if(e=u[f++]*r+c,o=u[f++]*r,v=u[f++]*r+c,y=u[f++]*r,w.quadraticCurveTo(v,y,e,o),s=k[k.length-1])for(var g=s.x,s=s.y,a=1;a<=i;a++)p=a/i,rt(p,g,v,e),rt(p,s,y,o);break;case"b":if(e=u[f++]*r+c,o=u[f++]*r,v=u[f++]*r+c,y=u[f++]*r,nt=u[f++]*r+c,tt=u[f++]*r,w.bezierCurveTo(v,y,nt,tt,e,o),s=k[k.length-1])for(g=s.x,s=s.y,a=1;a<=i;a++)p=a/i,ut(p,g,v,nt,e),ut(p,s,y,tt,o)}r={offset:l.ha*r,path:w}}else r=void 0;d+=r.offset;t.push(r.path)}for(i=[],h=0,n=t.length;h<n;h++)Array.prototype.push.apply(i,t[h].toShapes());return i}});THREE.Path=function(n){THREE.CurvePath.call(this);this.currentPoint=new THREE.Vector2;n&&this.fromPoints(n)};THREE.Path.prototype=Object.assign(Object.create(THREE.CurvePath.prototype),{constructor:THREE.Path,fromPoints:function(n){this.moveTo(n[0].x,n[0].y);for(var t=1,i=n.length;t<i;t++)this.lineTo(n[t].x,n[t].y)},moveTo:function(n,t){this.currentPoint.set(n,t)},lineTo:function(n,t){var i=new THREE.LineCurve(this.currentPoint.clone(),new THREE.Vector2(n,t));this.curves.push(i);this.currentPoint.set(n,t)},quadraticCurveTo:function(n,t,i,r){n=new THREE.QuadraticBezierCurve(this.currentPoint.clone(),new THREE.Vector2(n,t),new THREE.Vector2(i,r));this.curves.push(n);this.currentPoint.set(i,r)},bezierCurveTo:function(n,t,i,r,u,f){n=new THREE.CubicBezierCurve(this.currentPoint.clone(),new THREE.Vector2(n,t),new THREE.Vector2(i,r),new THREE.Vector2(u,f));this.curves.push(n);this.currentPoint.set(u,f)},splineThru:function(n){var t=[this.currentPoint.clone()].concat(n),t=new THREE.SplineCurve(t);this.curves.push(t);this.currentPoint.copy(n[n.length-1])},arc:function(n,t,i,r,u,f){this.absarc(n+this.currentPoint.x,t+this.currentPoint.y,i,r,u,f)},absarc:function(n,t,i,r,u,f){this.absellipse(n,t,i,i,r,u,f)},ellipse:function(n,t,i,r,u,f,e,o){this.absellipse(n+this.currentPoint.x,t+this.currentPoint.y,i,r,u,f,e,o)},absellipse:function(n,t,i,r,u,f,e,o){n=new THREE.EllipseCurve(n,t,i,r,u,f,e,o);0<this.curves.length&&(t=n.getPoint(0),t.equals(this.currentPoint)||this.lineTo(t.x,t.y));this.curves.push(n);n=n.getPoint(1);this.currentPoint.copy(n)}});THREE.ShapePath=function(){this.subPaths=[];this.currentPath=null};THREE.ShapePath.prototype={moveTo:function(n,t){this.currentPath=new THREE.Path;this.subPaths.push(this.currentPath);this.currentPath.moveTo(n,t)},lineTo:function(n,t){this.currentPath.lineTo(n,t)},quadraticCurveTo:function(n,t,i,r){this.currentPath.quadraticCurveTo(n,t,i,r)},bezierCurveTo:function(n,t,i,r,u,f){this.currentPath.bezierCurveTo(n,t,i,r,u,f)},splineThru:function(n){this.currentPath.splineThru(n)},toShapes:function(n,t){function p(n){for(var u,i,r=[],t=0,f=n.length;t<f;t++)u=n[t],i=new THREE.Shape,i.curves=u.curves,r.push(i);return r}function w(n,t){for(var h=t.length,o=!1,r=h-1,e=0;e<h;r=e++){var i=t[r],u=t[e],s=u.x-i.x,f=u.y-i.y;if(Math.abs(f)>Number.EPSILON){if(0>f&&(i=t[e],s=-s,u=t[r],f=-f),!(n.y<i.y||n.y>u.y))if(n.y===i.y){if(n.x===i.x)return!0}else{if(r=f*(n.x-i.x)-s*(n.y-i.y),0===r)return!0;0>r||(o=!o)}}else if(n.y===i.y&&(u.x<=n.x&&n.x<=i.x||i.x<=n.x&&n.x<=u.x))return!0}return o}var r=THREE.ShapeUtils.isClockWise,i=this.subPaths,c,f,s,y,h,o,l;if(0===i.length)return[];if(!0===t)return p(i);if(y=[],1===i.length)return f=i[0],s=new THREE.Shape,s.curves=f.curves,y.push(s),y;h=!r(i[0].getPoints());h=n?!h:h;s=[];var e=[],v=[],u=0,a;for(e[u]=void 0,v[u]=[],o=0,l=i.length;o<l;o++)f=i[o],a=f.getPoints(),c=r(a),(c=n?!c:c)?(!h&&e[u]&&u++,e[u]={s:new THREE.Shape,p:a},e[u].s.curves=f.curves,h&&u++,v[u]=[]):v[u].push({h:f,p:a[0]});if(!e[0])return p(i);if(1<e.length){for(o=!1,f=[],r=0,i=e.length;r<i;r++)s[r]=[];for(r=0,i=e.length;r<i;r++)for(c=v[r],h=0;h<c.length;h++){for(u=c[h],a=!0,l=0;l<e.length;l++)w(u.p,e[l].p)&&(r!==l&&f.push({froms:r,tos:l,hole:h}),a?(a=!1,s[l].push(u)):o=!0);a&&s[r].push(u)}0<f.length&&(o||(v=s))}for(o=0,r=e.length;o<r;o++)for(s=e[o].s,y.push(s),f=v[o],i=0,c=f.length;i<c;i++)s.holes.push(f[i].h);return y}};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=Object.assign(Object.create(THREE.Path.prototype),{constructor:THREE.Shape,extrude:function(n){return new THREE.ExtrudeGeometry(this,n)},makeGeometry:function(n){return new THREE.ShapeGeometry(this,n)},getPointsHoles:function(n){for(var i=[],t=0,r=this.holes.length;t<r;t++)i[t]=this.holes[t].getPoints(n);return i},extractAllPoints:function(n){return{shape:this.getPoints(n),holes:this.getPointsHoles(n)}},extractPoints:function(n){return this.extractAllPoints(n)}});THREE.LineCurve=function(n,t){this.v1=n;this.v2=t};THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.LineCurve.prototype.constructor=THREE.LineCurve;THREE.LineCurve.prototype.getPoint=function(n){if(1===n)return this.v2.clone();var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(n).add(this.v1),t};THREE.LineCurve.prototype.getPointAt=function(n){return this.getPoint(n)};THREE.LineCurve.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};THREE.QuadraticBezierCurve=function(n,t,i){this.v0=n;this.v1=t;this.v2=i};THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve;THREE.QuadraticBezierCurve.prototype.getPoint=function(n){var t=THREE.ShapeUtils.b2;return new THREE.Vector2(t(n,this.v0.x,this.v1.x,this.v2.x),t(n,this.v0.y,this.v1.y,this.v2.y))};THREE.QuadraticBezierCurve.prototype.getTangent=function(n){var t=THREE.CurveUtils.tangentQuadraticBezier;return new THREE.Vector2(t(n,this.v0.x,this.v1.x,this.v2.x),t(n,this.v0.y,this.v1.y,this.v2.y)).normalize()};THREE.CubicBezierCurve=function(n,t,i,r){this.v0=n;this.v1=t;this.v2=i;this.v3=r};THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve;THREE.CubicBezierCurve.prototype.getPoint=function(n){var t=THREE.ShapeUtils.b3;return new THREE.Vector2(t(n,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(n,this.v0.y,this.v1.y,this.v2.y,this.v3.y))};THREE.CubicBezierCurve.prototype.getTangent=function(n){var t=THREE.CurveUtils.tangentCubicBezier;return new THREE.Vector2(t(n,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(n,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()};THREE.SplineCurve=function(n){this.points=void 0==n?[]:n};THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.SplineCurve.prototype.constructor=THREE.SplineCurve;THREE.SplineCurve.prototype.getPoint=function(n){var i=this.points,t;n*=i.length-1;t=Math.floor(n);n-=t;var r=i[0===t?t:t-1],u=i[t],f=i[t>i.length-2?i.length-1:t+1],i=i[t>i.length-3?i.length-1:t+2],t=THREE.CurveUtils.interpolate;return new THREE.Vector2(t(r.x,u.x,f.x,i.x,n),t(r.y,u.y,f.y,i.y,n))};THREE.EllipseCurve=function(n,t,i,r,u,f,e,o){this.aX=n;this.aY=t;this.xRadius=i;this.yRadius=r;this.aStartAngle=u;this.aEndAngle=f;this.aClockwise=e;this.aRotation=o||0};THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype);THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve;THREE.EllipseCurve.prototype.getPoint=function(n){for(var r,i=2*Math.PI,t=this.aEndAngle-this.aStartAngle,u=Math.abs(t)<Number.EPSILON;0>t;)t+=i;for(;t>i;)t-=i;return t<Number.EPSILON&&(t=u?0:i),!0!==this.aClockwise||u||(t=t===i?-i:t-i),i=this.aStartAngle+n*t,n=this.aX+this.xRadius*Math.cos(i),r=this.aY+this.yRadius*Math.sin(i),0!==this.aRotation&&(i=Math.cos(this.aRotation),t=Math.sin(this.aRotation),u=n-this.aX,r-=this.aY,n=u*i-r*t+this.aX,r=u*t+r*i+this.aY),new THREE.Vector2(n,r)};THREE.ArcCurve=function(n,t,i,r,u,f){THREE.EllipseCurve.call(this,n,t,i,i,r,u,f)};THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype);THREE.ArcCurve.prototype.constructor=THREE.ArcCurve;THREE.LineCurve3=THREE.Curve.create(function(n,t){this.v1=n;this.v2=t},function(n){if(1===n)return this.v2.clone();var t=new THREE.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(n),t.add(this.v1),t});THREE.QuadraticBezierCurve3=THREE.Curve.create(function(n,t,i){this.v0=n;this.v1=t;this.v2=i},function(n){var t=THREE.ShapeUtils.b2;return new THREE.Vector3(t(n,this.v0.x,this.v1.x,this.v2.x),t(n,this.v0.y,this.v1.y,this.v2.y),t(n,this.v0.z,this.v1.z,this.v2.z))});THREE.CubicBezierCurve3=THREE.Curve.create(function(n,t,i,r){this.v0=n;this.v1=t;this.v2=i;this.v3=r},function(n){var t=THREE.ShapeUtils.b3;return new THREE.Vector3(t(n,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(n,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t(n,this.v0.z,this.v1.z,this.v2.z,this.v3.z))});THREE.SplineCurve3=THREE.Curve.create(function(n){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");this.points=void 0==n?[]:n},function(n){var i=this.points,t;n*=i.length-1;t=Math.floor(n);n-=t;var r=i[0==t?t:t-1],u=i[t],f=i[t>i.length-2?i.length-1:t+1],i=i[t>i.length-3?i.length-1:t+2],t=THREE.CurveUtils.interpolate;return new THREE.Vector3(t(r.x,u.x,f.x,i.x,n),t(r.y,u.y,f.y,i.y,n),t(r.z,u.z,f.z,i.z,n))});THREE.CatmullRomCurve3=function(){function n(){}var t=new THREE.Vector3,i=new n,r=new n,u=new n;return n.prototype.init=function(n,t,i,r){this.c0=n;this.c1=i;this.c2=-3*n+3*t-2*i-r;this.c3=2*n-2*t+i+r},n.prototype.initNonuniformCatmullRom=function(n,t,i,r,u,f,e){n=((t-n)/u-(i-n)/(u+f)+(i-t)/f)*f;r=((i-t)/f-(r-t)/(f+e)+(r-i)/e)*f;this.init(t,i,n,r)},n.prototype.initCatmullRom=function(n,t,i,r,u){this.init(t,i,u*(i-n),u*(r-t))},n.prototype.calc=function(n){var t=n*n;return this.c0+this.c1*n+this.c2*t+this.c3*t*n},THREE.Curve.create(function(n){this.points=n||[];this.closed=!1},function(n){var e=this.points,o,f,h,c,l,s;return f=e.length,2>f&&console.log("duh, you need at least 2 points"),n*=f-(this.closed?0:1),o=Math.floor(n),n-=o,this.closed?o+=0<o?0:(Math.floor(Math.abs(o)/e.length)+1)*e.length:0===n&&o===f-1&&(o=f-2,n=1),this.closed||0<o?h=e[(o-1)%f]:(t.subVectors(e[0],e[1]).add(e[0]),h=t),c=e[o%f],l=e[(o+1)%f],this.closed||o+2<f?e=e[(o+2)%f]:(t.subVectors(e[f-1],e[f-2]).add(e[f-1]),e=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type?(s="chordal"===this.type?.5:.25,f=Math.pow(h.distanceToSquared(c),s),o=Math.pow(c.distanceToSquared(l),s),s=Math.pow(l.distanceToSquared(e),s),.0001>o&&(o=1),.0001>f&&(f=o),.0001>s&&(s=o),i.initNonuniformCatmullRom(h.x,c.x,l.x,e.x,f,o,s),r.initNonuniformCatmullRom(h.y,c.y,l.y,e.y,f,o,s),u.initNonuniformCatmullRom(h.z,c.z,l.z,e.z,f,o,s)):"catmullrom"===this.type&&(f=void 0!==this.tension?this.tension:.5,i.initCatmullRom(h.x,c.x,l.x,e.x,f),r.initCatmullRom(h.y,c.y,l.y,e.y,f),u.initCatmullRom(h.z,c.z,l.z,e.z,f)),new THREE.Vector3(i.calc(n),r.calc(n),u.calc(n))})}();THREE.ClosedSplineCurve3=function(n){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.");THREE.CatmullRomCurve3.call(this,n);this.type="catmullrom";this.closed=!0};THREE.ClosedSplineCurve3.prototype=Object.create(THREE.CatmullRomCurve3.prototype);THREE.BoxGeometry=function(n,t,i,r,u,f){THREE.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:n,height:t,depth:i,widthSegments:r,heightSegments:u,depthSegments:f};this.fromBufferGeometry(new THREE.BoxBufferGeometry(n,t,i,r,u,f));this.mergeVertices()};THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry;THREE.CubeGeometry=THREE.BoxGeometry;THREE.BoxBufferGeometry=function(n,t,i,r,u,f){function h(n,t,i,r,u,f,h,v,b,d,g){var ft=f/b,et=h/d,ot=f/2,st=h/2,ht=v/2,ut,tt;h=b+1;for(var ct=d+1,rt=f=0,nt=new THREE.Vector3,it=0;it<ct;it++)for(ut=it*et-st,tt=0;tt<h;tt++)nt[n]=(tt*ft-ot)*r,nt[t]=ut*u,nt[i]=ht,l[o]=nt.x,l[o+1]=nt.y,l[o+2]=nt.z,nt[n]=0,nt[t]=0,nt[i]=0<v?1:-1,a[o]=nt.x,a[o+1]=nt.y,a[o+2]=nt.z,y[p]=tt/b,y[p+1]=1-it/d,o+=3,p+=2,f+=1;for(it=0;it<d;it++)for(tt=0;tt<b;tt++)n=c+tt+h*(it+1),t=c+(tt+1)+h*(it+1),i=c+(tt+1)+h*it,e[s]=c+tt+h*it,e[s+1]=n,e[s+2]=i,e[s+3]=n,e[s+4]=t,e[s+5]=i,s+=6,rt+=6;w.addGroup(k,rt,g);k+=rt;c+=f}var w;THREE.BufferGeometry.call(this);this.type="BoxBufferGeometry";this.parameters={width:n,height:t,depth:i,widthSegments:r,heightSegments:u,depthSegments:f};w=this;r=Math.floor(r)||1;u=Math.floor(u)||1;f=Math.floor(f)||1;var v=function(n,t,i){return n=0+(n+1)*(t+1)*2+(n+1)*(i+1)*2,n+(i+1)*(t+1)*2}(r,u,f),b=function(n,t,i){return n=0+n*t*2+n*i*2,n+=i*t*2,6*n}(r,u,f),e=new(65535<b?Uint32Array:Uint16Array)(b),l=new Float32Array(3*v),a=new Float32Array(3*v),y=new Float32Array(2*v),o=0,p=0,s=0,c=0,k=0;h("z","y","x",-1,-1,i,t,n,f,u,0);h("z","y","x",1,-1,i,t,-n,f,u,1);h("x","z","y",1,1,n,i,t,r,f,2);h("x","z","y",1,-1,n,i,-t,r,f,3);h("x","y","z",1,-1,n,t,i,r,u,4);h("x","y","z",-1,-1,n,t,-i,r,u,5);this.setIndex(new THREE.BufferAttribute(e,1));this.addAttribute("position",new THREE.BufferAttribute(l,3));this.addAttribute("normal",new THREE.BufferAttribute(a,3));this.addAttribute("uv",new THREE.BufferAttribute(y,2))};THREE.BoxBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.BoxBufferGeometry.prototype.constructor=THREE.BoxBufferGeometry;THREE.CircleGeometry=function(n,t,i,r){THREE.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:n,segments:t,thetaStart:i,thetaLength:r};this.fromBufferGeometry(new THREE.CircleBufferGeometry(n,t,i,r))};THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry;THREE.CircleBufferGeometry=function(n,t,i,r){var c;THREE.BufferGeometry.call(this);this.type="CircleBufferGeometry";this.parameters={radius:n,segments:t,thetaStart:i,thetaLength:r};n=n||50;t=void 0!==t?Math.max(3,t):8;i=void 0!==i?i:0;r=void 0!==r?r:2*Math.PI;var f=t+2,e=new Float32Array(3*f),o=new Float32Array(3*f),f=new Float32Array(2*f);o[2]=1;f[0]=.5;f[1]=.5;for(var s=0,u=3,h=2;s<=t;s++,u+=3,h+=2)c=i+s/t*r,e[u]=n*Math.cos(c),e[u+1]=n*Math.sin(c),o[u+2]=1,f[h]=(e[u]/n+1)/2,f[h+1]=(e[u+1]/n+1)/2;for(i=[],u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(new THREE.BufferAttribute(new Uint16Array(i),1));this.addAttribute("position",new THREE.BufferAttribute(e,3));this.addAttribute("normal",new THREE.BufferAttribute(o,3));this.addAttribute("uv",new THREE.BufferAttribute(f,2));this.boundingSphere=new THREE.Sphere(new THREE.Vector3,n)};THREE.CircleBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.CircleBufferGeometry.prototype.constructor=THREE.CircleBufferGeometry;THREE.CylinderBufferGeometry=function(n,t,i,r,u,f,e,o){function g(i){for(var tt,l=new THREE.Vector2,f=new THREE.Vector3,g=0,it=!0===i?n:t,a=!0===i?1:-1,nt=h,u=1;u<=r;u++)v.setXYZ(h,0,d*a,0),y.setXYZ(h,0,a,0),l.x=.5,l.y=.5,p.setXY(h,l.x,l.y),h++;for(tt=h,u=0;u<=r;u++){var k=u/r*o+e,rt=Math.cos(k),k=Math.sin(k);f.x=it*k;f.y=d*a;f.z=it*rt;v.setXYZ(h,f.x,f.y,f.z);y.setXYZ(h,0,a,0);l.x=.5*rt+.5;l.y=.5*k*a+.5;p.setXY(h,l.x,l.y);h++}for(u=0;u<r;u++)l=nt+u,f=tt+u,!0===i?(c.setX(s,f),s++,c.setX(s,f+1)):(c.setX(s,f+1),s++,c.setX(s,f)),s++,c.setX(s,l),s++,g+=3;b.addGroup(w,g,!0===i?1:2);w+=g}var b,l;THREE.BufferGeometry.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:n,radiusBottom:t,height:i,radialSegments:r,heightSegments:u,openEnded:f,thetaStart:e,thetaLength:o};b=this;n=void 0!==n?n:20;t=void 0!==t?t:20;i=void 0!==i?i:100;r=Math.floor(r)||8;u=Math.floor(u)||1;f=void 0!==f?f:!1;e=void 0!==e?e:0;o=void 0!==o?o:2*Math.PI;l=0;!1===f&&(0<n&&l++,0<t&&l++);var k=function(){var n=(r+1)*(u+1);return!1===f&&(n+=(r+1)*l+r*l),n}(),nt=function(){var n=r*u*6;return!1===f&&(n+=r*l*3),n}(),c=new THREE.BufferAttribute(new(65535<nt?Uint32Array:Uint16Array)(nt),1),v=new THREE.BufferAttribute(new Float32Array(3*k),3),y=new THREE.BufferAttribute(new Float32Array(3*k),3),p=new THREE.BufferAttribute(new Float32Array(2*k),2),h=0,s=0,a=[],d=i/2,w=0;(function(){for(var k,f=new THREE.Vector3,g=new THREE.Vector3,it=0,tt=(t-n)/i,nt,l=0;l<=u;l++){var ut=[],rt=l/u,ft=rt*(t-n)+n;for(k=0;k<=r;k++)nt=k/r,g.x=ft*Math.sin(nt*o+e),g.y=-rt*i+d,g.z=ft*Math.cos(nt*o+e),v.setXYZ(h,g.x,g.y,g.z),f.copy(g),(0===n&&0===l||0===t&&l===u)&&(f.x=Math.sin(nt*o+e),f.z=Math.cos(nt*o+e)),f.setY(Math.sqrt(f.x*f.x+f.z*f.z)*tt).normalize(),y.setXYZ(h,f.x,f.y,f.z),p.setXY(h,nt,1-rt),ut.push(h),h++;a.push(ut)}for(k=0;k<r;k++)for(l=0;l<u;l++)f=a[l+1][k],g=a[l+1][k+1],tt=a[l][k+1],c.setX(s,a[l][k]),s++,c.setX(s,f),s++,c.setX(s,tt),s++,c.setX(s,f),s++,c.setX(s,g),s++,c.setX(s,tt),s++,it+=6;b.addGroup(w,it,0);w+=it})();!1===f&&(0<n&&g(!0),0<t&&g(!1));this.setIndex(c);this.addAttribute("position",v);this.addAttribute("normal",y);this.addAttribute("uv",p)};THREE.CylinderBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.CylinderBufferGeometry.prototype.constructor=THREE.CylinderBufferGeometry;THREE.CylinderGeometry=function(n,t,i,r,u,f,e,o){THREE.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:n,radiusBottom:t,height:i,radialSegments:r,heightSegments:u,openEnded:f,thetaStart:e,thetaLength:o};this.fromBufferGeometry(new THREE.CylinderBufferGeometry(n,t,i,r,u,f,e,o));this.mergeVertices()};THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;THREE.ConeBufferGeometry=function(n,t,i,r,u,f,e){THREE.CylinderBufferGeometry.call(this,0,n,t,i,r,u,f,e);this.type="ConeBufferGeometry";this.parameters={radius:n,height:t,radialSegments:i,heightSegments:r,thetaStart:f,thetaLength:e}};THREE.ConeBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.ConeBufferGeometry.prototype.constructor=THREE.ConeBufferGeometry;THREE.ConeGeometry=function(n,t,i,r,u,f,e){THREE.CylinderGeometry.call(this,0,n,t,i,r,u,f,e);this.type="ConeGeometry";this.parameters={radius:n,height:t,radialSegments:i,heightSegments:r,openEnded:u,thetaStart:f,thetaLength:e}};THREE.ConeGeometry.prototype=Object.create(THREE.CylinderGeometry.prototype);THREE.ConeGeometry.prototype.constructor=THREE.ConeGeometry;THREE.EdgesGeometry=function(n,t){function a(n,t){return n-t}var h,r,l,c,s,e;THREE.BufferGeometry.call(this);var v=Math.cos(THREE.Math.DEG2RAD*(void 0!==t?t:1)),i=[0,0],o={},f=["a","b","c"],u;for(n instanceof THREE.BufferGeometry?(u=new THREE.Geometry,u.fromBufferGeometry(n)):u=n.clone(),u.mergeVertices(),u.computeFaceNormals(),h=u.vertices,u=u.faces,r=0,l=u.length;r<l;r++)for(c=u[r],s=0;3>s;s++)i[0]=c[f[s]],i[1]=c[f[(s+1)%3]],i.sort(a),e=i.toString(),void 0===o[e]?o[e]={vert1:i[0],vert2:i[1],face1:r,face2:void 0}:o[e].face2=r;i=[];for(e in o)(f=o[e],void 0===f.face2||u[f.face1].normal.dot(u[f.face2].normal)<=v)&&(r=h[f.vert1],i.push(r.x),i.push(r.y),i.push(r.z),r=h[f.vert2],i.push(r.x),i.push(r.y),i.push(r.z));this.addAttribute("position",new THREE.BufferAttribute(new Float32Array(i),3))};THREE.EdgesGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.EdgesGeometry.prototype.constructor=THREE.EdgesGeometry;THREE.ExtrudeGeometry=function(n,t){"undefined"!=typeof n&&(THREE.Geometry.call(this),this.type="ExtrudeGeometry",n=Array.isArray(n)?n:[n],this.addShapeList(n,t),this.computeFaceNormals())};THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry;THREE.ExtrudeGeometry.prototype.addShapeList=function(n,t){for(var r=n.length,i=0;i<r;i++)this.addShape(n[i],t)};THREE.ExtrudeGeometry.prototype.addShape=function(n,t){function rt(n,t,i){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(i).add(n)}function kt(n,t,i){var r=1,r=n.x-t.x,f=n.y-t.y,u=i.x-n.x,e=i.y-n.y,o=r*r+f*f;if(Math.abs(r*e-f*u)>Number.EPSILON){var s=Math.sqrt(o),h=Math.sqrt(u*u+e*e),o=t.x-f/s;if(t=t.y+r/s,u=((i.x-e/h-o)*e-(i.y+u/h-t)*u)/(r*e-f*u),i=o+r*u-n.x,n=t+f*u-n.y,r=i*i+n*n,2>=r)return new THREE.Vector2(i,n);r=Math.sqrt(r/2)}else n=!1,r>Number.EPSILON?u>Number.EPSILON&&(n=!0):r<-Number.EPSILON?u<-Number.EPSILON&&(n=!0):Math.sign(f)===Math.sign(e)&&(n=!0),n?(i=-f,n=r,r=Math.sqrt(o)):(i=r,n=f,r=Math.sqrt(o/2));return new THREE.Vector2(i/r,n/r)}function dt(n,t){var s,e;for(i=n.length;0<=--i;){s=i;e=i-1;0>e&&(e=n.length-1);for(var o=0,c=v+2*nt,o=0;o<c;o++){var u=d*o,f=d*(o+1),r=t+s+u,u=t+e+u,h=t+e+f,f=t+s+f,r=r+tt,u=u+tt,h=h+tt,f=f+tt;k.faces.push(new THREE.Face3(r,u,f,null,null,1));k.faces.push(new THREE.Face3(u,h,f,null,null,1));r=gt.generateSideWallUV(k,r,u,h,f);k.faceVertexUvs[0].push([r[0],r[1],r[3]]);k.faceVertexUvs[0].push([r[1],r[2],r[3]])}}}function w(n,t,i){k.vertices.push(new THREE.Vector3(n,t,i))}function lt(n,t,i){n+=tt;t+=tt;i+=tt;k.faces.push(new THREE.Face3(n,t,i,null,null,0));n=gt.generateTopUV(k,n,t,i);k.faceVertexUvs[0].push(n)}var bt=void 0!==t.amount?t.amount:100,at=void 0!==t.bevelThickness?t.bevelThickness:6,vt=void 0!==t.bevelSize?t.bevelSize:at-2,nt=void 0!==t.bevelSegments?t.bevelSegments:3,ft=void 0!==t.bevelEnabled?t.bevelEnabled:!0,l=void 0!==t.curveSegments?t.curveSegments:12,v=void 0!==t.steps?t.steps:1,y=t.extrudePath,et,yt=!1,gt=void 0!==t.UVGenerator?t.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator,ot,st,ht,b,ut,p,wt,g,ct;y&&(et=y.getSpacedPoints(v),yt=!0,ft=!1,ot=void 0!==t.frames?t.frames:new THREE.TubeGeometry.FrenetFrames(y,v,!1),st=new THREE.Vector3,ht=new THREE.Vector3,b=new THREE.Vector3);ft||(vt=at=nt=0);var e,u,a,k=this,tt=this.vertices.length,y=n.extractPoints(l),l=y.shape,c=y.holes;if(y=!THREE.ShapeUtils.isClockWise(l)){for(l=l.reverse(),u=0,a=c.length;u<a;u++)e=c[u],THREE.ShapeUtils.isClockWise(e)&&(c[u]=e.reverse());y=!1}for(ut=THREE.ShapeUtils.triangulateShape(l,c),p=l,u=0,a=c.length;u<a;u++)e=c[u],l=l.concat(e);var s,o,r,it,f,d=l.length,h,pt=ut.length,y=[],i=0;for(r=p.length,s=r-1,o=i+1;i<r;i++,s++,o++)s===r&&(s=0),o===r&&(o=0),y[i]=kt(p[i],p[s],p[o]);for(wt=[],ct=y.concat(),u=0,a=c.length;u<a;u++){for(e=c[u],g=[],i=0,r=e.length,s=r-1,o=i+1;i<r;i++,s++,o++)s===r&&(s=0),o===r&&(o=0),g[i]=kt(e[i],e[s],e[o]);wt.push(g);ct=ct.concat(g)}for(s=0;s<nt;s++){for(r=s/nt,it=at*(1-r),o=vt*Math.sin(r*Math.PI/2),i=0,r=p.length;i<r;i++)f=rt(p[i],y[i],o),w(f.x,f.y,-it);for(u=0,a=c.length;u<a;u++)for(e=c[u],g=wt[u],i=0,r=e.length;i<r;i++)f=rt(e[i],g[i],o),w(f.x,f.y,-it)}for(o=vt,i=0;i<d;i++)f=ft?rt(l[i],ct[i],o):l[i],yt?(ht.copy(ot.normals[0]).multiplyScalar(f.x),st.copy(ot.binormals[0]).multiplyScalar(f.y),b.copy(et[0]).add(ht).add(st),w(b.x,b.y,b.z)):w(f.x,f.y,0);for(r=1;r<=v;r++)for(i=0;i<d;i++)f=ft?rt(l[i],ct[i],o):l[i],yt?(ht.copy(ot.normals[r]).multiplyScalar(f.x),st.copy(ot.binormals[r]).multiplyScalar(f.y),b.copy(et[r]).add(ht).add(st),w(b.x,b.y,b.z)):w(f.x,f.y,bt/v*r);for(s=nt-1;0<=s;s--){for(r=s/nt,it=at*(1-r),o=vt*Math.sin(r*Math.PI/2),i=0,r=p.length;i<r;i++)f=rt(p[i],y[i],o),w(f.x,f.y,bt+it);for(u=0,a=c.length;u<a;u++)for(e=c[u],g=wt[u],i=0,r=e.length;i<r;i++)f=rt(e[i],g[i],o),yt?w(f.x,f.y+et[v-1].y,et[v-1].x+it):w(f.x,f.y,bt+it)}(function(){if(ft){var n;for(n=0*d,i=0;i<pt;i++)h=ut[i],lt(h[2]+n,h[1]+n,h[0]+n);for(n=v+2*nt,n*=d,i=0;i<pt;i++)h=ut[i],lt(h[0]+n,h[1]+n,h[2]+n)}else{for(i=0;i<pt;i++)h=ut[i],lt(h[2],h[1],h[0]);for(i=0;i<pt;i++)h=ut[i],lt(h[0]+d*v,h[1]+d*v,h[2]+d*v)}})(),function(){var n=0;for(dt(p,n),n+=p.length,u=0,a=c.length;u<a;u++)e=c[u],dt(e,n),n+=e.length}()};THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(n,t,i,r){return n=n.vertices,t=n[t],i=n[i],r=n[r],[new THREE.Vector2(t.x,t.y),new THREE.Vector2(i.x,i.y),new THREE.Vector2(r.x,r.y)]},generateSideWallUV:function(n,t,i,r,u){return n=n.vertices,t=n[t],i=n[i],r=n[r],u=n[u],.01>Math.abs(t.y-i.y)?[new THREE.Vector2(t.x,1-t.z),new THREE.Vector2(i.x,1-i.z),new THREE.Vector2(r.x,1-r.z),new THREE.Vector2(u.x,1-u.z)]:[new THREE.Vector2(t.y,1-t.z),new THREE.Vector2(i.y,1-i.z),new THREE.Vector2(r.y,1-r.z),new THREE.Vector2(u.y,1-u.z)]}};THREE.ShapeGeometry=function(n,t){THREE.Geometry.call(this);this.type="ShapeGeometry";!1===Array.isArray(n)&&(n=[n]);this.addShapeList(n,t);this.computeFaceNormals()};THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry;THREE.ShapeGeometry.prototype.addShapeList=function(n,t){for(var i=0,r=n.length;i<r;i++)this.addShape(n[i],t);return this};THREE.ShapeGeometry.prototype.addShape=function(n,t){var u,r,s;void 0===t&&(t={});var h=t.material,c=void 0===t.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,i,e,f,o=this.vertices.length;if(i=n.extractPoints(void 0!==t.curveSegments?t.curveSegments:12),u=i.shape,r=i.holes,!THREE.ShapeUtils.isClockWise(u))for(u=u.reverse(),i=0,e=r.length;i<e;i++)f=r[i],THREE.ShapeUtils.isClockWise(f)&&(r[i]=f.reverse());for(s=THREE.ShapeUtils.triangulateShape(u,r),i=0,e=r.length;i<e;i++)f=r[i],u=u.concat(f);for(r=u.length,e=s.length,i=0;i<r;i++)f=u[i],this.vertices.push(new THREE.Vector3(f.x,f.y,0));for(i=0;i<e;i++)r=s[i],u=r[0]+o,f=r[1]+o,r=r[2]+o,this.faces.push(new THREE.Face3(u,f,r,null,null,h)),this.faceVertexUvs[0].push(c.generateTopUV(this,u,f,r))};THREE.LatheBufferGeometry=function(n,t,i,r){THREE.BufferGeometry.call(this);this.type="LatheBufferGeometry";this.parameters={points:n,segments:t,phiStart:i,phiLength:r};t=Math.floor(t)||12;i=i||0;r=r||2*Math.PI;r=THREE.Math.clamp(r,0,2*Math.PI);for(var f=(t+1)*n.length,u=t*n.length*6,e=new THREE.BufferAttribute(new(65535<u?Uint32Array:Uint16Array)(u),1),h=new THREE.BufferAttribute(new Float32Array(3*f),3),c=new THREE.BufferAttribute(new Float32Array(2*f),2),l=0,o=0,v=1/t,s=new THREE.Vector3,a=new THREE.Vector2,f=0;f<=t;f++)for(var u=i+f*v*r,y=Math.sin(u),p=Math.cos(u),u=0;u<=n.length-1;u++)s.x=n[u].x*y,s.y=n[u].y,s.z=n[u].x*p,h.setXYZ(l,s.x,s.y,s.z),a.x=f/t,a.y=u/(n.length-1),c.setXY(l,a.x,a.y),l++;for(f=0;f<t;f++)for(u=0;u<n.length-1;u++)i=u+f*n.length,l=i+n.length,v=i+n.length+1,s=i+1,e.setX(o,i),o++,e.setX(o,l),o++,e.setX(o,s),o++,e.setX(o,l),o++,e.setX(o,v),o++,e.setX(o,s),o++;if(this.setIndex(e),this.addAttribute("position",h),this.addAttribute("uv",c),this.computeVertexNormals(),r===2*Math.PI)for(r=this.attributes.normal.array,e=new THREE.Vector3,h=new THREE.Vector3,c=new THREE.Vector3,i=t*n.length*3,u=f=0;f<n.length;f++,u+=3)e.x=r[u+0],e.y=r[u+1],e.z=r[u+2],h.x=r[i+u+0],h.y=r[i+u+1],h.z=r[i+u+2],c.addVectors(e,h).normalize(),r[u+0]=r[i+u+0]=c.x,r[u+1]=r[i+u+1]=c.y,r[u+2]=r[i+u+2]=c.z};THREE.LatheBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.LatheBufferGeometry.prototype.constructor=THREE.LatheBufferGeometry;THREE.LatheGeometry=function(n,t,i,r){THREE.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:n,segments:t,phiStart:i,phiLength:r};this.fromBufferGeometry(new THREE.LatheBufferGeometry(n,t,i,r));this.mergeVertices()};THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry;THREE.PlaneGeometry=function(n,t,i,r){THREE.Geometry.call(this);this.type="PlaneGeometry";this.parameters={width:n,height:t,widthSegments:i,heightSegments:r};this.fromBufferGeometry(new THREE.PlaneBufferGeometry(n,t,i,r))};THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;THREE.PlaneBufferGeometry=function(n,t,i,r){var o,c,y,f;THREE.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:n,height:t,widthSegments:i,heightSegments:r};o=n/2;c=t/2;i=Math.floor(i)||1;r=Math.floor(r)||1;var s=i+1,h=r+1,l=n/i,p=t/r;t=new Float32Array(s*h*3);n=new Float32Array(s*h*3);for(var a=new Float32Array(s*h*2),u=0,v=0,e=0;e<h;e++)for(y=e*p-c,f=0;f<s;f++)t[u]=f*l-o,t[u+1]=-y,n[u+2]=1,a[v]=f/i,a[v+1]=1-e/r,u+=3,v+=2;for(u=0,o=new(65535<t.length/3?Uint32Array:Uint16Array)(i*r*6),e=0;e<r;e++)for(f=0;f<i;f++)c=f+s*(e+1),h=f+1+s*(e+1),l=f+1+s*e,o[u]=f+s*e,o[u+1]=c,o[u+2]=l,o[u+3]=c,o[u+4]=h,o[u+5]=l,u+=6;this.setIndex(new THREE.BufferAttribute(o,1));this.addAttribute("position",new THREE.BufferAttribute(t,3));this.addAttribute("normal",new THREE.BufferAttribute(n,3));this.addAttribute("uv",new THREE.BufferAttribute(a,2))};THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry;THREE.RingBufferGeometry=function(n,t,i,r,u,f){THREE.BufferGeometry.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:n,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:u,thetaLength:f};n=n||20;t=t||50;u=void 0!==u?u:0;f=void 0!==f?f:2*Math.PI;i=void 0!==i?Math.max(3,i):8;r=void 0!==r?Math.max(1,r):1;var a=(i+1)*(r+1),o=i*r*6,o=new THREE.BufferAttribute(new(65535<o?Uint32Array:Uint16Array)(o),1),p=new THREE.BufferAttribute(new Float32Array(3*a),3),w=new THREE.BufferAttribute(new Float32Array(3*a),3),a=new THREE.BufferAttribute(new Float32Array(2*a),2),c=0,e=0,s,y=n,b=(t-n)/r,l=new THREE.Vector3,v=new THREE.Vector2,h;for(n=0;n<=r;n++){for(h=0;h<=i;h++)s=u+h/i*f,l.x=y*Math.cos(s),l.y=y*Math.sin(s),p.setXYZ(c,l.x,l.y,l.z),w.setXYZ(c,0,0,1),v.x=(l.x/t+1)/2,v.y=(l.y/t+1)/2,a.setXY(c,v.x,v.y),c++;y+=b}for(n=0;n<r;n++)for(t=n*(i+1),h=0;h<i;h++)u=s=h+t,f=s+i+1,c=s+i+2,s+=1,o.setX(e,u),e++,o.setX(e,f),e++,o.setX(e,c),e++,o.setX(e,u),e++,o.setX(e,c),e++,o.setX(e,s),e++;this.setIndex(o);this.addAttribute("position",p);this.addAttribute("normal",w);this.addAttribute("uv",a)};THREE.RingBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.RingBufferGeometry.prototype.constructor=THREE.RingBufferGeometry;THREE.RingGeometry=function(n,t,i,r,u,f){THREE.Geometry.call(this);this.type="RingGeometry";this.parameters={innerRadius:n,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:u,thetaLength:f};this.fromBufferGeometry(new THREE.RingBufferGeometry(n,t,i,r,u,f))};THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.RingGeometry.prototype.constructor=THREE.RingGeometry;THREE.SphereGeometry=function(n,t,i,r,u,f,e){THREE.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:n,widthSegments:t,heightSegments:i,phiStart:r,phiLength:u,thetaStart:f,thetaLength:e};this.fromBufferGeometry(new THREE.SphereBufferGeometry(n,t,i,r,u,f,e))};THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;THREE.SphereBufferGeometry=function(n,t,i,r,u,f,e){THREE.BufferGeometry.call(this);this.type="SphereBufferGeometry";this.parameters={radius:n,widthSegments:t,heightSegments:i,phiStart:r,phiLength:u,thetaStart:f,thetaLength:e};n=n||50;t=Math.max(3,Math.floor(t)||8);i=Math.max(2,Math.floor(i)||6);r=void 0!==r?r:0;u=void 0!==u?u:2*Math.PI;f=void 0!==f?f:0;e=void 0!==e?e:Math.PI;for(var nt=f+e,l=(t+1)*(i+1),y=new THREE.BufferAttribute(new Float32Array(3*l),3),w=new THREE.BufferAttribute(new Float32Array(3*l),3),l=new THREE.BufferAttribute(new Float32Array(2*l),2),h=0,a=[],c=new THREE.Vector3,o=0;o<=i;o++){for(var b=[],v=o/i,s=0;s<=t;s++){var p=s/t,k=-n*Math.cos(r+p*u)*Math.sin(f+v*e),d=n*Math.cos(f+v*e),g=n*Math.sin(r+p*u)*Math.sin(f+v*e);c.set(k,d,g).normalize();y.setXYZ(h,k,d,g);w.setXYZ(h,c.x,c.y,c.z);l.setXY(h,p,1-v);b.push(h);h++}a.push(b)}for(r=[],o=0;o<i;o++)for(s=0;s<t;s++)u=a[o][s+1],e=a[o][s],h=a[o+1][s],c=a[o+1][s+1],(0!==o||0<f)&&r.push(u,e,c),(o!==i-1||nt<Math.PI)&&r.push(e,h,c);this.setIndex(new(65535<y.count?THREE.Uint32Attribute:THREE.Uint16Attribute)(r,1));this.addAttribute("position",y);this.addAttribute("normal",w);this.addAttribute("uv",l);this.boundingSphere=new THREE.Sphere(new THREE.Vector3,n)};THREE.SphereBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.SphereBufferGeometry.prototype.constructor=THREE.SphereBufferGeometry;THREE.TextGeometry=function(n,t){t=t||{};var i=t.font;if(!1==i instanceof THREE.Font)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new THREE.Geometry;i=i.generateShapes(n,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50;void 0===t.bevelThickness&&(t.bevelThickness=10);void 0===t.bevelSize&&(t.bevelSize=8);void 0===t.bevelEnabled&&(t.bevelEnabled=!1);THREE.ExtrudeGeometry.call(this,i,t);this.type="TextGeometry"};THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype);THREE.TextGeometry.prototype.constructor=THREE.TextGeometry;THREE.TorusBufferGeometry=function(n,t,i,r,u){var a,w;THREE.BufferGeometry.call(this);this.type="TorusBufferGeometry";this.parameters={radius:n,tube:t,radialSegments:i,tubularSegments:r,arc:u};n=n||100;t=t||40;i=Math.floor(i)||8;r=Math.floor(r)||6;u=u||2*Math.PI;for(var l=(i+1)*(r+1),o=i*r*6,o=new(65535<o?Uint32Array:Uint16Array)(o),v=new Float32Array(3*l),y=new Float32Array(3*l),l=new Float32Array(2*l),s=0,b=0,h=0,k=new THREE.Vector3,c=new THREE.Vector3,p=new THREE.Vector3,e,f=0;f<=i;f++)for(e=0;e<=r;e++)a=e/r*u,w=f/i*Math.PI*2,c.x=(n+t*Math.cos(w))*Math.cos(a),c.y=(n+t*Math.cos(w))*Math.sin(a),c.z=t*Math.sin(w),v[s]=c.x,v[s+1]=c.y,v[s+2]=c.z,k.x=n*Math.cos(a),k.y=n*Math.sin(a),p.subVectors(c,k).normalize(),y[s]=p.x,y[s+1]=p.y,y[s+2]=p.z,l[b]=e/r,l[b+1]=f/i,s+=3,b+=2;for(f=1;f<=i;f++)for(e=1;e<=r;e++)n=(r+1)*(f-1)+e-1,t=(r+1)*(f-1)+e,u=(r+1)*f+e,o[h]=(r+1)*f+e-1,o[h+1]=n,o[h+2]=u,o[h+3]=n,o[h+4]=t,o[h+5]=u,h+=6;this.setIndex(new THREE.BufferAttribute(o,1));this.addAttribute("position",new THREE.BufferAttribute(v,3));this.addAttribute("normal",new THREE.BufferAttribute(y,3));this.addAttribute("uv",new THREE.BufferAttribute(l,2))};THREE.TorusBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.TorusBufferGeometry.prototype.constructor=THREE.TorusBufferGeometry;THREE.TorusGeometry=function(n,t,i,r,u){THREE.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:n,tube:t,radialSegments:i,tubularSegments:r,arc:u};this.fromBufferGeometry(new THREE.TorusBufferGeometry(n,t,i,r,u))};THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry;THREE.TorusKnotBufferGeometry=function(n,t,i,r,u,f){function tt(n,t,i,r,u){var f=Math.cos(n),e=Math.sin(n);n*=i/t;t=Math.cos(n);u.x=r*(2+t)*.5*f;u.y=r*(2+t)*e*.5;u.z=r*Math.sin(n)*.5}THREE.BufferGeometry.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:n,tube:t,tubularSegments:i,radialSegments:r,p:u,q:f};n=n||100;t=t||40;i=Math.floor(i)||64;r=Math.floor(r)||8;u=u||2;f=f||3;for(var y=(r+1)*(i+1),h=r*i*6,h=new THREE.BufferAttribute(new(65535<h?Uint32Array:Uint16Array)(h),1),it=new THREE.BufferAttribute(new Float32Array(3*y),3),rt=new THREE.BufferAttribute(new Float32Array(3*y),3),y=new THREE.BufferAttribute(new Float32Array(2*y),2),e,w=0,s=0,c=new THREE.Vector3,b=new THREE.Vector3,k=new THREE.Vector2,l=new THREE.Vector3,d=new THREE.Vector3,v=new THREE.Vector3,g=new THREE.Vector3,a=new THREE.Vector3,o=0;o<=i;++o)for(e=o/i*u*Math.PI*2,tt(e,u,f,n,l),tt(e+.01,u,f,n,d),g.subVectors(d,l),a.addVectors(d,l),v.crossVectors(g,a),a.crossVectors(v,g),v.normalize(),a.normalize(),e=0;e<=r;++e){var p=e/r*Math.PI*2,nt=-t*Math.cos(p),p=t*Math.sin(p);c.x=l.x+(nt*a.x+p*v.x);c.y=l.y+(nt*a.y+p*v.y);c.z=l.z+(nt*a.z+p*v.z);it.setXYZ(w,c.x,c.y,c.z);b.subVectors(c,l).normalize();rt.setXYZ(w,b.x,b.y,b.z);k.x=o/i;k.y=e/r;y.setXY(w,k.x,k.y);w++}for(e=1;e<=i;e++)for(o=1;o<=r;o++)n=(r+1)*e+(o-1),t=(r+1)*e+o,u=(r+1)*(e-1)+o,h.setX(s,(r+1)*(e-1)+(o-1)),s++,h.setX(s,n),s++,h.setX(s,u),s++,h.setX(s,n),s++,h.setX(s,t),s++,h.setX(s,u),s++;this.setIndex(h);this.addAttribute("position",it);this.addAttribute("normal",rt);this.addAttribute("uv",y)};THREE.TorusKnotBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.TorusKnotBufferGeometry.prototype.constructor=THREE.TorusKnotBufferGeometry;THREE.TorusKnotGeometry=function(n,t,i,r,u,f,e){THREE.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:n,tube:t,tubularSegments:i,radialSegments:r,p:u,q:f};void 0!==e&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new THREE.TorusKnotBufferGeometry(n,t,i,r,u,f));this.mergeVertices()};THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry;THREE.TubeGeometry=function(n,t,i,r,u,f){THREE.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:n,segments:t,radius:i,radialSegments:r,closed:u,taper:f};t=t||64;i=i||1;r=r||8;u=u||!1;f=f||THREE.TubeGeometry.NoTaper;var a=[],c,p,h=t+1,o,l,b,w,k,s=new THREE.Vector3,e,v,y;for(e=new THREE.TubeGeometry.FrenetFrames(n,t,u),v=e.normals,y=e.binormals,this.tangents=e.tangents,this.normals=v,this.binormals=y,e=0;e<h;e++)for(a[e]=[],o=e/(h-1),k=n.getPointAt(o),c=v[e],p=y[e],b=i*f(o),o=0;o<r;o++)l=o/r*2*Math.PI,w=-b*Math.cos(l),l=b*Math.sin(l),s.copy(k),s.x+=w*c.x+l*p.x,s.y+=w*c.y+l*p.y,s.z+=w*c.z+l*p.z,a[e][o]=this.vertices.push(new THREE.Vector3(s.x,s.y,s.z))-1;for(e=0;e<t;e++)for(o=0;o<r;o++)f=u?(e+1)%t:e+1,h=(o+1)%r,n=a[e][o],i=a[f][o],f=a[f][h],h=a[e][h],s=new THREE.Vector2(e/t,o/r),v=new THREE.Vector2((e+1)/t,o/r),y=new THREE.Vector2((e+1)/t,(o+1)/r),c=new THREE.Vector2(e/t,(o+1)/r),this.faces.push(new THREE.Face3(n,i,h)),this.faceVertexUvs[0].push([s,v,c]),this.faces.push(new THREE.Face3(i,f,h)),this.faceVertexUvs[0].push([v.clone(),y,c.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry;THREE.TubeGeometry.NoTaper=function(){return 1};THREE.TubeGeometry.SinusoidalTaper=function(n){return Math.sin(Math.PI*n)};THREE.TubeGeometry.FrenetFrames=function(n,t,i){var e=new THREE.Vector3,u=[],f=[],o=[],s=new THREE.Vector3,c=new THREE.Matrix4,r,h,l;for(t+=1,this.tangents=u,this.normals=f,this.binormals=o,r=0;r<t;r++)h=r/(t-1),u[r]=n.getTangentAt(h),u[r].normalize();for(f[0]=new THREE.Vector3,o[0]=new THREE.Vector3,n=Number.MAX_VALUE,r=Math.abs(u[0].x),h=Math.abs(u[0].y),l=Math.abs(u[0].z),r<=n&&(n=r,e.set(1,0,0)),h<=n&&(n=h,e.set(0,1,0)),l<=n&&e.set(0,0,1),s.crossVectors(u[0],e).normalize(),f[0].crossVectors(u[0],s),o[0].crossVectors(u[0],f[0]),r=1;r<t;r++)f[r]=f[r-1].clone(),o[r]=o[r-1].clone(),s.crossVectors(u[r-1],u[r]),s.length()>Number.EPSILON&&(s.normalize(),e=Math.acos(THREE.Math.clamp(u[r-1].dot(u[r]),-1,1)),f[r].applyMatrix4(c.makeRotationAxis(s,e))),o[r].crossVectors(u[r],f[r]);if(i)for(e=Math.acos(THREE.Math.clamp(f[0].dot(f[t-1]),-1,1)),e/=t-1,0<u[0].dot(s.crossVectors(f[0],f[t-1]))&&(e=-e),r=1;r<t;r++)f[r].applyMatrix4(c.makeRotationAxis(u[r],e*r)),o[r].crossVectors(u[r],f[r])};THREE.PolyhedronGeometry=function(n,t,i,r){function f(n){var t=n.normalize().clone(),i;return t.index=s.vertices.push(t)-1,i=Math.atan2(n.z,-n.x)/2/Math.PI+.5,n=Math.atan2(-n.y,Math.sqrt(n.x*n.x+n.z*n.z))/Math.PI+.5,t.uv=new THREE.Vector2(i,1-n),t}function v(n,t,i){var r=new THREE.Face3(n.index,t.index,i.index,[n.clone(),t.clone(),i.clone()]);s.faces.push(r);a.copy(n).add(t).add(i).divideScalar(3);r=Math.atan2(a.z,-a.x);s.faceVertexUvs[0].push([l(n.uv,n,r),l(t.uv,t,r),l(i.uv,i,r)])}function w(n,t){for(var o=Math.pow(2,t),u=f(s.vertices[n.a]),a=f(s.vertices[n.b]),h=f(s.vertices[n.c]),e=[],i=0;i<=o;i++){e[i]=[];for(var c=f(u.clone().lerp(h,i/o)),y=f(a.clone().lerp(h,i/o)),l=o-i,r=0;r<=l;r++)e[i][r]=0===r&&i===o?c:f(c.clone().lerp(y,r/l))}for(i=0;i<o;i++)for(r=0;r<2*(o-i)-1;r++)u=Math.floor(r/2),0==r%2?v(e[i][u+1],e[i+1][u],e[i][u]):v(e[i][u+1],e[i+1][u+1],e[i+1][u])}function l(n,t,i){return 0>i&&1===n.x&&(n=new THREE.Vector2(n.x-1,n.y)),0===t.x&&0===t.z&&(n=new THREE.Vector2(i/2/Math.PI+.5,n.y)),n.clone()}THREE.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:n,indices:t,radius:i,detail:r};i=i||1;r=r||0;for(var s=this,u=0,e=n.length;u<e;u+=3)f(new THREE.Vector3(n[u],n[u+1],n[u+2]));n=this.vertices;for(var o=[],h=u=0,e=t.length;u<e;u+=3,h++){var c=n[t[u]],y=n[t[u+1]],p=n[t[u+2]];o[h]=new THREE.Face3(c.index,y.index,p.index,[c.clone(),y.clone(),p.clone()])}for(var a=new THREE.Vector3,u=0,e=o.length;u<e;u++)w(o[u],r);for(u=0,e=this.faceVertexUvs[0].length;u<e;u++)t=this.faceVertexUvs[0][u],r=t[0].x,n=t[1].x,o=t[2].x,h=Math.max(r,n,o),c=Math.min(r,n,o),.9<h&&.1>c&&(.2>r&&(t[0].x+=1),.2>n&&(t[1].x+=1),.2>o&&(t[2].x+=1));for(u=0,e=this.vertices.length;u<e;u++)this.vertices[u].multiplyScalar(i);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,i)};THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry;THREE.DodecahedronGeometry=function(n,t){var i=(1+Math.sqrt(5))/2,r=1/i;THREE.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],n,t);this.type="DodecahedronGeometry";this.parameters={radius:n,detail:t}};THREE.DodecahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry;THREE.IcosahedronGeometry=function(n,t){var i=(1+Math.sqrt(5))/2;THREE.PolyhedronGeometry.call(this,[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],n,t);this.type="IcosahedronGeometry";this.parameters={radius:n,detail:t}};THREE.IcosahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;THREE.OctahedronGeometry=function(n,t){THREE.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],n,t);this.type="OctahedronGeometry";this.parameters={radius:n,detail:t}};THREE.OctahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry;THREE.TetrahedronGeometry=function(n,t){THREE.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],n,t);this.type="TetrahedronGeometry";this.parameters={radius:n,detail:t}};THREE.TetrahedronGeometry.prototype=Object.create(THREE.PolyhedronGeometry.prototype);THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry;THREE.ParametricGeometry=function(n,t,i){var v,h,y,c;THREE.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:n,slices:t,stacks:i};for(var e=this.vertices,l=this.faces,a=this.faceVertexUvs[0],u,f,o,s=t+1,r=0;r<=i;r++)for(o=r/i,u=0;u<=t;u++)f=u/t,f=n(f,o),e.push(f);for(r=0;r<i;r++)for(u=0;u<t;u++)n=r*s+u,e=r*s+u+1,o=(r+1)*s+u+1,f=(r+1)*s+u,v=new THREE.Vector2(u/t,r/i),h=new THREE.Vector2((u+1)/t,r/i),y=new THREE.Vector2((u+1)/t,(r+1)/i),c=new THREE.Vector2(u/t,(r+1)/i),l.push(new THREE.Face3(n,e,f)),a.push([v,h,c]),l.push(new THREE.Face3(e,o,f)),a.push([h.clone(),y,c.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry;THREE.WireframeGeometry=function(n){function a(n,t){return n-t}var o,l,r,s,v;THREE.BufferGeometry.call(this);var t=[0,0],u={},c=["a","b","c"];if(n instanceof THREE.Geometry){var f=n.vertices,h=n.faces,i=0,e=new Uint32Array(6*h.length);for(n=0,o=h.length;n<o;n++)for(l=h[n],r=0;3>r;r++)t[0]=l[c[r]],t[1]=l[c[(r+1)%3]],t.sort(a),s=t.toString(),void 0===u[s]&&(e[2*i]=t[0],e[2*i+1]=t[1],u[s]=!0,i++);for(t=new Float32Array(6*i),n=0,o=i;n<o;n++)for(r=0;2>r;r++)u=f[e[2*n+r]],i=6*n+3*r,t[i+0]=u.x,t[i+1]=u.y,t[i+2]=u.z;this.addAttribute("position",new THREE.BufferAttribute(t,3))}else if(n instanceof THREE.BufferGeometry){if(null!==n.index){for(o=n.index.array,f=n.attributes.position,c=n.groups,i=0,0===c.length&&n.addGroup(0,o.length),e=new Uint32Array(2*o.length),h=0,l=c.length;h<l;++h)for(n=c[h],r=n.start,s=n.count,n=r,v=r+s;n<v;n+=3)for(r=0;3>r;r++)t[0]=o[n+r],t[1]=o[n+(r+1)%3],t.sort(a),s=t.toString(),void 0===u[s]&&(e[2*i]=t[0],e[2*i+1]=t[1],u[s]=!0,i++);for(t=new Float32Array(6*i),n=0,o=i;n<o;n++)for(r=0;2>r;r++)i=6*n+3*r,u=e[2*n+r],t[i+0]=f.getX(u),t[i+1]=f.getY(u),t[i+2]=f.getZ(u)}else for(f=n.attributes.position.array,i=f.length/3,e=i/3,t=new Float32Array(6*i),n=0,o=e;n<o;n++)for(r=0;3>r;r++)i=18*n+6*r,e=9*n+3*r,t[i+0]=f[e],t[i+1]=f[e+1],t[i+2]=f[e+2],u=9*n+(r+1)%3*3,t[i+3]=f[u],t[i+4]=f[u+1],t[i+5]=f[u+2];this.addAttribute("position",new THREE.BufferAttribute(t,3))}};THREE.WireframeGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.WireframeGeometry.prototype.constructor=THREE.WireframeGeometry;THREE.AxisHelper=function(n){n=n||1;var t=new Float32Array([0,0,0,n,0,0,0,0,0,0,n,0,0,0,0,0,0,n]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);n=new THREE.BufferGeometry;n.addAttribute("position",new THREE.BufferAttribute(t,3));n.addAttribute("color",new THREE.BufferAttribute(i,3));t=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.LineSegments.call(this,n,t)};THREE.AxisHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.AxisHelper.prototype.constructor=THREE.AxisHelper;THREE.ArrowHelper=function(){var t=new THREE.BufferGeometry,n;return t.addAttribute("position",new THREE.Float32Attribute([0,0,0,0,1,0],3)),n=new THREE.CylinderBufferGeometry(0,.5,1,5,1),n.translate(0,-.5,0),function(i,r,u,f,e,o){THREE.Object3D.call(this);void 0===f&&(f=16776960);void 0===u&&(u=1);void 0===e&&(e=.2*u);void 0===o&&(o=.2*e);this.position.copy(r);this.line=new THREE.Line(t,new THREE.LineBasicMaterial({color:f}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new THREE.Mesh(n,new THREE.MeshBasicMaterial({color:f}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(i);this.setLength(u,e,o)}}();THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper;THREE.ArrowHelper.prototype.setDirection=function(){var n=new THREE.Vector3,t;return function(i){.99999<i.y?this.quaternion.set(0,0,0,1):-.99999>i.y?this.quaternion.set(1,0,0,0):(n.set(i.z,0,-i.x).normalize(),t=Math.acos(i.y),this.quaternion.setFromAxisAngle(n,t))}}();THREE.ArrowHelper.prototype.setLength=function(n,t,i){void 0===t&&(t=.2*n);void 0===i&&(i=.2*t);this.line.scale.set(1,Math.max(0,n-t),1);this.line.updateMatrix();this.cone.scale.set(i,t,i);this.cone.position.y=n;this.cone.updateMatrix()};THREE.ArrowHelper.prototype.setColor=function(n){this.line.material.color.copy(n);this.cone.material.color.copy(n)};THREE.BoxHelper=function(n,t){void 0===t&&(t=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),u=new Float32Array(24),i=new THREE.BufferGeometry;i.setIndex(new THREE.BufferAttribute(r,1));i.addAttribute("position",new THREE.BufferAttribute(u,3));THREE.LineSegments.call(this,i,new THREE.LineBasicMaterial({color:t}));void 0!==n&&this.update(n)};THREE.BoxHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.BoxHelper.prototype.constructor=THREE.BoxHelper;THREE.BoxHelper.prototype.update=function(){var n=new THREE.Box3;return function(t){if(t instanceof THREE.Box3?n.copy(t):n.setFromObject(t),!n.isEmpty()){t=n.min;var r=n.max,u=this.geometry.attributes.position,i=u.array;i[0]=r.x;i[1]=r.y;i[2]=r.z;i[3]=t.x;i[4]=r.y;i[5]=r.z;i[6]=t.x;i[7]=t.y;i[8]=r.z;i[9]=r.x;i[10]=t.y;i[11]=r.z;i[12]=r.x;i[13]=r.y;i[14]=t.z;i[15]=t.x;i[16]=r.y;i[17]=t.z;i[18]=t.x;i[19]=t.y;i[20]=t.z;i[21]=r.x;i[22]=t.y;i[23]=t.z;u.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();THREE.BoundingBoxHelper=function(n,t){var i=void 0!==t?t:8947848;this.object=n;this.box=new THREE.Box3;THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:i,wireframe:!0}))};THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper;THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};THREE.CameraHelper=function(n){function t(n,t,i){u(n,i);u(t,i)}function u(n,t){i.vertices.push(new THREE.Vector3);i.colors.push(new THREE.Color(t));void 0===r[n]&&(r[n]=[]);r[n].push(i.vertices.length-1)}var i=new THREE.Geometry,f=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),r={};t("n1","n2",16755200);t("n2","n4",16755200);t("n4","n3",16755200);t("n3","n1",16755200);t("f1","f2",16755200);t("f2","f4",16755200);t("f4","f3",16755200);t("f3","f1",16755200);t("n1","f1",16755200);t("n2","f2",16755200);t("n3","f3",16755200);t("n4","f4",16755200);t("p","n1",16711680);t("p","n2",16711680);t("p","n3",16711680);t("p","n4",16711680);t("u1","u2",43775);t("u2","u3",43775);t("u3","u1",43775);t("c","t",16777215);t("p","c",3355443);t("cn1","cn2",3355443);t("cn3","cn4",3355443);t("cf1","cf2",3355443);t("cf3","cf4",3355443);THREE.LineSegments.call(this,i,f);this.camera=n;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=n.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=r;this.update()};THREE.CameraHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.CameraHelper.prototype.constructor=THREE.CameraHelper;THREE.CameraHelper.prototype.update=function(){function n(n,f,e,o){if(r.set(f,e,o).unproject(u),n=i[n],void 0!==n)for(f=0,e=n.length;f<e;f++)t.vertices[n[f]].copy(r)}var t,i,r=new THREE.Vector3,u=new THREE.Camera;return function(){t=this.geometry;i=this.pointMap;u.projectionMatrix.copy(this.camera.projectionMatrix);n("c",0,0,-1);n("t",0,0,1);n("n1",-1,-1,-1);n("n2",1,-1,-1);n("n3",-1,1,-1);n("n4",1,1,-1);n("f1",-1,-1,1);n("f2",1,-1,1);n("f3",-1,1,1);n("f4",1,1,1);n("u1",.7,1.1,-1);n("u2",-.7,1.1,-1);n("u3",0,2,-1);n("cf1",-1,0,1);n("cf2",1,0,1);n("cf3",0,-1,1);n("cf4",0,1,1);n("cn1",-1,0,-1);n("cn2",1,0,-1);n("cn3",0,-1,-1);n("cn4",0,1,-1);t.verticesNeedUpdate=!0}}();THREE.DirectionalLightHelper=function(n,t){var i,r;THREE.Object3D.call(this);this.light=n;this.light.updateMatrixWorld();this.matrix=n.matrixWorld;this.matrixAutoUpdate=!1;void 0===t&&(t=1);i=new THREE.BufferGeometry;i.addAttribute("position",new THREE.Float32Attribute([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));r=new THREE.LineBasicMaterial({fog:!1});this.add(new THREE.Line(i,r));i=new THREE.BufferGeometry;i.addAttribute("position",new THREE.Float32Attribute([0,0,0,0,0,1],3));this.add(new THREE.Line(i,r));this.update()};THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper;THREE.DirectionalLightHelper.prototype.dispose=function(){var n=this.children[0],t=this.children[1];n.geometry.dispose();n.material.dispose();t.geometry.dispose();t.material.dispose()};THREE.DirectionalLightHelper.prototype.update=function(){var t=new THREE.Vector3,i=new THREE.Vector3,n=new THREE.Vector3;return function(){t.setFromMatrixPosition(this.light.matrixWorld);i.setFromMatrixPosition(this.light.target.matrixWorld);n.subVectors(i,t);var r=this.children[0],u=this.children[1];r.lookAt(n);r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);u.lookAt(n);u.scale.z=n.length()}}();THREE.EdgesHelper=function(n,t,i){t=void 0!==t?t:16777215;THREE.LineSegments.call(this,new THREE.EdgesGeometry(n.geometry,i),new THREE.LineBasicMaterial({color:t}));this.matrix=n.matrixWorld;this.matrixAutoUpdate=!1};THREE.EdgesHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper;THREE.FaceNormalsHelper=function(n,t,i,r){this.object=n;this.size=void 0!==t?t:1;n=void 0!==i?i:16776960;r=void 0!==r?r:1;t=0;i=this.object.geometry;i instanceof THREE.Geometry?t=i.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");i=new THREE.BufferGeometry;t=new THREE.Float32Attribute(6*t,3);i.addAttribute("position",t);THREE.LineSegments.call(this,i,new THREE.LineBasicMaterial({color:n,linewidth:r}));this.matrixAutoUpdate=!1;this.update()};THREE.FaceNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper;THREE.FaceNormalsHelper.prototype.update=function(){var n=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Matrix3;return function(){var r,h;this.object.updateMatrixWorld(!0);i.getNormalMatrix(this.object.matrixWorld);for(var c=this.object.matrixWorld,e=this.geometry.attributes.position,u=this.object.geometry,o=u.vertices,u=u.faces,f=0,s=0,l=u.length;s<l;s++)r=u[s],h=r.normal,n.copy(o[r.a]).add(o[r.b]).add(o[r.c]).divideScalar(3).applyMatrix4(c),t.copy(h).applyMatrix3(i).normalize().multiplyScalar(this.size).add(n),e.setXYZ(f,n.x,n.y,n.z),f+=1,e.setXYZ(f,t.x,t.y,t.z),f+=1;return e.needsUpdate=!0,this}}();THREE.GridHelper=function(n,t,i,r){var s;t=t||1;i=new THREE.Color(void 0!==i?i:4473924);r=new THREE.Color(void 0!==r?r:8947848);for(var c=t/2,l=2*n/t,f=[],e=[],h=0,u=0,o=-n;h<=t;h++,o+=l)f.push(-n,0,o,n,0,o),f.push(o,0,-n,o,0,n),s=h===c?i:r,s.toArray(e,u),u+=3,s.toArray(e,u),u+=3,s.toArray(e,u),u+=3,s.toArray(e,u),u+=3;n=new THREE.BufferGeometry;n.addAttribute("position",new THREE.Float32Attribute(f,3));n.addAttribute("color",new THREE.Float32Attribute(e,3));f=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.LineSegments.call(this,n,f)};THREE.GridHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.GridHelper.prototype.constructor=THREE.GridHelper;THREE.GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};THREE.HemisphereLightHelper=function(n,t){var r,i;for(THREE.Object3D.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new THREE.Color,new THREE.Color],r=new THREE.SphereGeometry(t,4,2),r.rotateX(-Math.PI/2),i=0;8>i;i++)r.faces[i].color=this.colors[4>i?0:1];i=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(r,i);this.add(this.lightSphere);this.update()};THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper;THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};THREE.HemisphereLightHelper.prototype.update=function(){var n=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(n.setFromMatrixPosition(this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();THREE.PointLightHelper=function(n,t){this.light=n;this.light.updateMatrixWorld();var r=new THREE.SphereBufferGeometry(t,4,2),i=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});i.color.copy(this.light.color).multiplyScalar(this.light.intensity);THREE.Mesh.call(this,r,i);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper;THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};THREE.SkeletonHelper=function(n){this.bones=this.getBoneList(n);for(var t=new THREE.Geometry,i=0;i<this.bones.length;i++)this.bones[i].parent instanceof THREE.Bone&&(t.vertices.push(new THREE.Vector3),t.vertices.push(new THREE.Vector3),t.colors.push(new THREE.Color(0,0,1)),t.colors.push(new THREE.Color(0,1,0)));t.dynamic=!0;i=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});THREE.LineSegments.call(this,t,i);this.root=n;this.matrix=n.matrixWorld;this.matrixAutoUpdate=!1;this.update()};THREE.SkeletonHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper;THREE.SkeletonHelper.prototype.getBoneList=function(n){var t=[],i;for(n instanceof THREE.Bone&&t.push(n),i=0;i<n.children.length;i++)t.push.apply(t,this.getBoneList(n.children[i]));return t};THREE.SkeletonHelper.prototype.update=function(){for(var i,n=this.geometry,f=(new THREE.Matrix4).getInverse(this.root.matrixWorld),t=new THREE.Matrix4,r=0,u=0;u<this.bones.length;u++)i=this.bones[u],i.parent instanceof THREE.Bone&&(t.multiplyMatrices(f,i.matrixWorld),n.vertices[r].setFromMatrixPosition(t),t.multiplyMatrices(f,i.parent.matrixWorld),n.vertices[r+1].setFromMatrixPosition(t),r+=2);n.verticesNeedUpdate=!0;n.computeBoundingSphere()};THREE.SpotLightHelper=function(n){var r,u;THREE.Object3D.call(this);this.light=n;this.light.updateMatrixWorld();this.matrix=n.matrixWorld;this.matrixAutoUpdate=!1;n=new THREE.BufferGeometry;for(var t=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,f=1;32>i;i++,f++)r=i/32*Math.PI*2,u=f/32*Math.PI*2,t.push(Math.cos(r),Math.sin(r),1,Math.cos(u),Math.sin(u),1);n.addAttribute("position",new THREE.Float32Attribute(t,3));t=new THREE.LineBasicMaterial({fog:!1});this.cone=new THREE.LineSegments(n,t);this.add(this.cone);this.update()};THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper;THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};THREE.SpotLightHelper.prototype.update=function(){var n=new THREE.Vector3,t=new THREE.Vector3;return function(){var i=this.light.distance?this.light.distance:1e3,r=i*Math.tan(this.light.angle);this.cone.scale.set(r,r,i);n.setFromMatrixPosition(this.light.matrixWorld);t.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(t.sub(n));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();THREE.VertexNormalsHelper=function(n,t,i,r){this.object=n;this.size=void 0!==t?t:1;n=void 0!==i?i:16711680;r=void 0!==r?r:1;t=0;i=this.object.geometry;i instanceof THREE.Geometry?t=3*i.faces.length:i instanceof THREE.BufferGeometry&&(t=i.attributes.normal.count);i=new THREE.BufferGeometry;t=new THREE.Float32Attribute(6*t,3);i.addAttribute("position",t);THREE.LineSegments.call(this,i,new THREE.LineBasicMaterial({color:n,linewidth:r}));this.matrixAutoUpdate=!1;this.update()};THREE.VertexNormalsHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper;THREE.VertexNormalsHelper.prototype.update=function(){var n=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Matrix3;return function(){var f=["a","b","c"],v;this.object.updateMatrixWorld(!0);i.getNormalMatrix(this.object.matrixWorld);var l=this.object.matrixWorld,e=this.geometry.attributes.position,r=this.object.geometry;if(r instanceof THREE.Geometry)for(var o=r.vertices,a=r.faces,s=r=0,y=a.length;s<y;s++)for(var h=a[s],u=0,c=h.vertexNormals.length;u<c;u++)v=h.vertexNormals[u],n.copy(o[h[f[u]]]).applyMatrix4(l),t.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(n),e.setXYZ(r,n.x,n.y,n.z),r+=1,e.setXYZ(r,t.x,t.y,t.z),r+=1;else if(r instanceof THREE.BufferGeometry)for(f=r.attributes.position,o=r.attributes.normal,u=r=0,c=f.count;u<c;u++)n.set(f.getX(u),f.getY(u),f.getZ(u)).applyMatrix4(l),t.set(o.getX(u),o.getY(u),o.getZ(u)),t.applyMatrix3(i).normalize().multiplyScalar(this.size).add(n),e.setXYZ(r,n.x,n.y,n.z),r+=1,e.setXYZ(r,t.x,t.y,t.z),r+=1;return e.needsUpdate=!0,this}}();THREE.WireframeHelper=function(n,t){var i=void 0!==t?t:16777215;THREE.LineSegments.call(this,new THREE.WireframeGeometry(n.geometry),new THREE.LineBasicMaterial({color:i}));this.matrix=n.matrixWorld;this.matrixAutoUpdate=!1};THREE.WireframeHelper.prototype=Object.create(THREE.LineSegments.prototype);THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper;THREE.ImmediateRenderObject=function(n){THREE.Object3D.call(this);this.material=n;this.render=function(){}};THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype);THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject;THREE.MorphBlendMesh=function(n,t){THREE.Mesh.call(this,n,t);this.animationsMap={};this.animationsList=[];var i=this.geometry.morphTargets.length;this.createAnimation("__default",0,i-1,i/1);this.setAnimationWeight("__default",1)};THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh;THREE.MorphBlendMesh.prototype.createAnimation=function(n,t,i,r){t={start:t,end:i,length:i-t+1,fps:r,duration:(i-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[n]=t;this.animationsList.push(t)};THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(n){for(var t,i,f,u={},e=this.geometry,r=0,o=e.morphTargets.length;r<o;r++)t=e.morphTargets[r].name.match(/([a-z]+)_?(\d+)/i),t&&1<t.length&&(i=t[1],u[i]||(u[i]={start:Infinity,end:-Infinity}),t=u[i],r<t.start&&(t.start=r),r>t.end&&(t.end=r),f||(f=i));for(i in u)t=u[i],this.createAnimation(i,t.start,t.end,n);this.firstAnimation=f};THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(n){(n=this.animationsMap[n])&&(n.direction=1,n.directionBackwards=!1)};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(n){(n=this.animationsMap[n])&&(n.direction=-1,n.directionBackwards=!0)};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(n,t){var i=this.animationsMap[n];i&&(i.fps=t,i.duration=(i.end-i.start)/i.fps)};THREE.MorphBlendMesh.prototype.setAnimationDuration=function(n,t){var i=this.animationsMap[n];i&&(i.duration=t,i.fps=(i.end-i.start)/i.duration)};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(n,t){var i=this.animationsMap[n];i&&(i.weight=t)};THREE.MorphBlendMesh.prototype.setAnimationTime=function(n,t){var i=this.animationsMap[n];i&&(i.time=t)};THREE.MorphBlendMesh.prototype.getAnimationTime=function(n){var t=0;return(n=this.animationsMap[n])&&(t=n.time),t};THREE.MorphBlendMesh.prototype.getAnimationDuration=function(n){var t=-1;return(n=this.animationsMap[n])&&(t=n.duration),t};THREE.MorphBlendMesh.prototype.playAnimation=function(n){var t=this.animationsMap[n];t?(t.time=0,t.active=!0):console.warn("THREE.MorphBlendMesh: animation["+n+"] undefined in .playAnimation()")};THREE.MorphBlendMesh.prototype.stopAnimation=function(n){(n=this.animationsMap[n])&&(n.active=!1)};THREE.MorphBlendMesh.prototype.update=function(n){for(var t,i,f,r,u=0,e=this.animationsList.length;u<e;u++)t=this.animationsList[u],t.active&&(i=t.duration/t.length,t.time+=t.direction*n,t.mirroredLoop?(t.time>t.duration||0>t.time)&&(t.direction*=-1,t.time>t.duration&&(t.time=t.duration,t.directionBackwards=!0),0>t.time&&(t.time=0,t.directionBackwards=!1)):(t.time%=t.duration,0>t.time&&(t.time+=t.duration)),f=t.start+THREE.Math.clamp(Math.floor(t.time/i),0,t.length-1),r=t.weight,f!==t.currentFrame&&(this.morphTargetInfluences[t.lastFrame]=0,this.morphTargetInfluences[t.currentFrame]=1*r,this.morphTargetInfluences[f]=0,t.lastFrame=t.currentFrame,t.currentFrame=f),i=t.time%i/i,t.directionBackwards&&(i=1-i),t.currentFrame!==t.lastFrame?(this.morphTargetInfluences[t.currentFrame]=i*r,this.morphTargetInfluences[t.lastFrame]=(1-i)*r):this.morphTargetInfluences[t.currentFrame]=r)};TWEEN=TWEEN||function(){var n,i,r,u,t=[];return{start:function(n){r=setInterval(this.update,1e3/(n||60))},stop:function(){clearInterval(r)},add:function(n){t.push(n)},getAll:function(){return t},removeAll:function(){t=[]},remove:function(i){n=t.indexOf(i);n!==-1&&t.splice(n,1)},update:function(){for(n=0,i=t.length,u=(new Date).getTime();n<i;)t[n].update(u)?n++:(t.splice(n,1),i--)}}}();TWEEN.Tween=function(n){var o={},t={},i={},s=1e3,h=0,r=null,c=TWEEN.Easing.Linear.EaseNone,u=null,f=null,e=null;this.to=function(t,r){r!==null&&(s=r);for(var u in t)n[u]!==null&&(i[u]=t[u]);return this};this.start=function(){TWEEN.add(this);r=(new Date).getTime()+h;for(var u in i)n[u]!==null&&(o[u]=n[u],t[u]=i[u]-n[u]);return this};this.stop=function(){return TWEEN.remove(this),this};this.delay=function(n){return h=n,this};this.easing=function(n){return c=n,this};this.chain=function(n){u=n};this.onUpdate=function(n){return f=n,this};this.onComplete=function(n){return e=n,this};this.update=function(i){var h,l;if(i<r)return!0;i=(i-r)/s;i=i>1?1:i;l=c(i);for(h in t)n[h]=o[h]+t[h]*l;return(f!==null&&f.call(n,l),i==1)?(e!==null&&e.call(n),u!==null&&u.start(),!1):!0}};TWEEN.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};TWEEN.Easing.Linear.EaseNone=function(n){return n};TWEEN.Easing.Quadratic.EaseIn=function(n){return n*n};TWEEN.Easing.Quadratic.EaseOut=function(n){return-n*(n-2)};TWEEN.Easing.Quadratic.EaseInOut=function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)};TWEEN.Easing.Cubic.EaseIn=function(n){return n*n*n};TWEEN.Easing.Cubic.EaseOut=function(n){return--n*n*n+1};TWEEN.Easing.Cubic.EaseInOut=function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)};TWEEN.Easing.Quartic.EaseIn=function(n){return n*n*n*n};TWEEN.Easing.Quartic.EaseOut=function(n){return-(--n*n*n*n-1)};TWEEN.Easing.Quartic.EaseInOut=function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)};TWEEN.Easing.Quintic.EaseIn=function(n){return n*n*n*n*n};TWEEN.Easing.Quintic.EaseOut=function(n){return(n-=1)*n*n*n*n+1};TWEEN.Easing.Quintic.EaseInOut=function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)};TWEEN.Easing.Sinusoidal.EaseIn=function(n){return-Math.cos(n*Math.PI/2)+1};TWEEN.Easing.Sinusoidal.EaseOut=function(n){return Math.sin(n*Math.PI/2)};TWEEN.Easing.Sinusoidal.EaseInOut=function(n){return-.5*(Math.cos(Math.PI*n)-1)};TWEEN.Easing.Exponential.EaseIn=function(n){return n==0?0:Math.pow(2,10*(n-1))};TWEEN.Easing.Exponential.EaseOut=function(n){return n==1?1:-Math.pow(2,-10*n)+1};TWEEN.Easing.Exponential.EaseInOut=function(n){return n==0?0:n==1?1:(n*=2)<1?.5*Math.pow(2,10*(n-1)):.5*(-Math.pow(2,-10*(n-1))+2)};TWEEN.Easing.Circular.EaseIn=function(n){return-(Math.sqrt(1-n*n)-1)};TWEEN.Easing.Circular.EaseOut=function(n){return Math.sqrt(1- --n*n)};TWEEN.Easing.Circular.EaseInOut=function(n){return(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)};TWEEN.Easing.Elastic.EaseIn=function(n){var r,t=.1,i=.4;return n==0?0:n==1?1:(i||(i=.3),!t||t<1?(t=1,r=i/4):r=i/(2*Math.PI)*Math.asin(1/t),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-r)*2*Math.PI/i)))};TWEEN.Easing.Elastic.EaseOut=function(n){var r,t=.1,i=.4;return n==0?0:n==1?1:(i||(i=.3),!t||t<1?(t=1,r=i/4):r=i/(2*Math.PI)*Math.asin(1/t),t*Math.pow(2,-10*n)*Math.sin((n-r)*2*Math.PI/i)+1)};TWEEN.Easing.Elastic.EaseInOut=function(n){var r,t=.1,i=.4;return n==0?0:n==1?1:(i||(i=.3),!t||t<1?(t=1,r=i/4):r=i/(2*Math.PI)*Math.asin(1/t),(n*=2)<1)?-.5*t*Math.pow(2,10*(n-=1))*Math.sin((n-r)*2*Math.PI/i):t*Math.pow(2,-10*(n-=1))*Math.sin((n-r)*2*Math.PI/i)*.5+1};TWEEN.Easing.Back.EaseIn=function(n){return n*n*(2.70158*n-1.70158)};TWEEN.Easing.Back.EaseOut=function(n){return(n-=1)*n*(2.70158*n+1.70158)+1};TWEEN.Easing.Back.EaseInOut=function(n){return(n*=2)<1?.5*n*n*(3.5949095*n-2.5949095):.5*((n-=2)*n*(3.5949095*n+2.5949095)+2)};TWEEN.Easing.Bounce.EaseIn=function(n){return 1-TWEEN.Easing.Bounce.EaseOut(1-n)};TWEEN.Easing.Bounce.EaseOut=function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375};TWEEN.Easing.Bounce.EaseInOut=function(n){return n<.5?TWEEN.Easing.Bounce.EaseIn(n*2)*.5:TWEEN.Easing.Bounce.EaseOut(n*2-1)*.5+.5};window.$FlowPaper=window.getDocViewer=window.$FlowPaper=function(n){var t=n==="undefined"?"":n;return window.ViewerMode=="flash"?window["FlowPaperViewer_Instance"+t].getApi():window.ViewerMode=="html"?window["FlowPaperViewer_Instance"+t]:void 0};window.FlowPaperViewerEmbedding=window.$f=function(n,t){var r,f,l,k,d,u,s,o;this.id=n;r=navigator.userAgent.toLowerCase();f=window["eb.browser"]={version:(r.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:(/webkit/.test(r)||/applewebkit/.test(r))&&!/chrome/.test(r),opera:/opera/.test(r),msie:/msie/.test(r)&&!/opera/.test(r),mozilla:/mozilla/.test(r)&&!/(compatible|webkit)/.test(r),seamonkey:/seamonkey/.test(r),chrome:/chrome/.test(r)};f.detected=f.safari||f.opera||f.msie||f.mozilla||f.seamonkey||f.chrome;f.detected&&f.version||(f.chrome=!0,f.version="500.00");l=window["eb.platform"]={win:/win/.test(r),mac:/mac/.test(r),touchdevice:function(){try{return"ontouchstart"in document.documentElement}catch(n){return!1}}(),android:r.indexOf("android")>-1,ios:r.match(/iphone/i)||r.match(/ipod/i)||r.match(/ipad/i),iphone:r.match(/iphone/i)||r.match(/ipod/i),ipad:r.match(/ipad/i),winphone:r.match(/Windows Phone/i),blackberry:r.match(/BlackBerry/i)||r.match(/BB10/i),webos:r.match(/webOS/i)};l.touchonlydevice=l.touchdevice&&(l.android||l.ios||l.winphone||l.blackberry||l.webos);var i=t.config,e,y,h,p,c="",w="",v="",b="",g="",nt="";_WMode=i.WMode!=null||i.wmode!=null?i.wmode||i.WMode:"direct";var a=i.DOC!=null?unescape(i.DOC):null,it="FlowPaperViewer_Instance"+(n==="undefined"?"":n),tt=i.JSONDataType!=null?i.JSONDataType:"json";if(a!=null&&(e=FLOWPAPER.translateUrlByFormat(a,"swf"),y=FLOWPAPER.translateUrlByFormat(a,"pdf"),v=FLOWPAPER.translateUrlByFormat(a,tt),h=FLOWPAPER.translateUrlByFormat(a,"jpg"),p=FLOWPAPER.translateUrlByFormat(a,"svg"),c=FLOWPAPER.translateUrlByFormat(a,"jpg"),w=FLOWPAPER.translateUrlByFormat(a,"jpgpageslice")),e=i.SwfFile!=null?i.SwfFile:e,e=i.SWFFile!=null?i.SWFFile:e,y=i.PDFFile!=null?i.PDFFile:y,h=i.IMGFiles!=null?i.IMGFiles:h,h=i.PageImagePattern!=null?i.PageImagePattern:h,p=i.SVGFiles!=null?i.SVGFiles:p,c=i.ThumbIMGFiles!=null?i.ThumbIMGFiles:c,w=i.HighResIMGFiles!=null?i.HighResIMGFiles:w,v=i.JSONFile!=null?i.JSONFile:v,b=i.jsDirectory!=null?i.jsDirectory:FLOWPAPER.detectjsdir(),g=i.cssDirectory!=null?i.cssDirectory:FLOWPAPER.detectcssdir(),nt=i.localeDirectory!=null?i.localeDirectory:"locale/",e!=null&&e.indexOf("{")==0&&e.indexOf("[*,")>0&&e.indexOf("]")>0&&(e=escape(e)),FLOWPAPER.getLocationHashParameter&&(k=FLOWPAPER.getLocationHashParameter("page"),k!=null&&(i.StartAtPage=k)),FLOWPAPER.getLocationHashParameter&&(d=FLOWPAPER.getLocationHashParameter("PreviewMode"),d!=null&&(i.PreviewMode=d)),i.PreviewMode=="FrontPage"&&(h!=null&&h.length>0||c!=null&&c.length>0)){FLOWPAPER.initFrontPagePreview(n,t,c!=null&&c.length>0?c:h);return}window[it]=flashembed(n,{src:b+"../FlowPaperViewer.swf",version:[11,0],expressInstall:"js/expressinstall.swf",wmode:_WMode},{ElementId:n,SwfFile:e,PdfFile:y,IMGFiles:h,SVGFiles:p,JSONFile:v,ThumbIMGFiles:c,HighResIMGFiles:w,useCustomJSONFormat:i.useCustomJSONFormat,JSONPageDataFormat:i.JSONPageDataFormat,JSONDataType:tt,Scale:i.Scale!=null?i.Scale:.8,ZoomTransition:i.ZoomTransition!=null?i.ZoomTransition:"easeOut",ZoomTime:i.ZoomTime!=null?i.ZoomTime:.5,ZoomInterval:i.ZoomInterval?i.ZoomInterval:.1,TouchZoomInterval:i.TouchZoomInterval?i.TouchZoomInterval:1.5,FitPageOnLoad:i.FitPageOnLoad!=null?i.FitPageOnLoad:!1,FitWidthOnLoad:i.FitWidthOnLoad!=null?i.FitWidthOnLoad:!1,FullScreenAsMaxWindow:i.FullScreenAsMaxWindow!=null?i.FullScreenAsMaxWindow:!1,ProgressiveLoading:i.ProgressiveLoading!=null?i.ProgressiveLoading:!1,MinZoomSize:i.MinZoomSize!=null?i.MinZoomSize:.2,MaxZoomSize:i.MaxZoomSize!=null?i.MaxZoomSize:5,SearchMatchAll:i.SearchMatchAll!=null?i.SearchMatchAll:!1,SearchServiceUrl:i.SearchServiceUrl,InitViewMode:i.InitViewMode,DisableOverflow:i.DisableOverflow,DisplayRange:i.DisplayRange,TouchInitViewMode:i.TouchInitViewMode,PreviewMode:i.PreviewMode,PublicationTitle:i.PublicationTitle,LoaderImage:i.LoaderImage,MixedMode:i.MixedMode,EnableWebGL:i.EnableWebGL,AutoDetectLinks:i.AutoDetectLinks,ImprovedAccessibility:i.ImprovedAccessibility,BitmapBasedRendering:i.BitmapBasedRendering!=null?i.BitmapBasedRendering:!1,StartAtPage:i.StartAtPage!=null&&i.StartAtPage.toString().length>0&&!isNaN(i.StartAtPage)?i.StartAtPage:1,FontsToLoad:i.FontsToLoad,PrintPaperAsBitmap:i.PrintPaperAsBitmap!=null?i.PrintPaperAsBitmap:f.safari||f.mozilla?!0:!1,PrintFn:i.PrintFn,AutoAdjustPrintSize:i.AutoAdjustPrintSize!=null?i.AutoAdjustPrintSize:!0,EnableSearchAbstracts:i.EnableSearchAbstracts!=null?i.EnableSearchAbstracts:!0,EnableCornerDragging:i.EnableCornerDragging!=null?i.EnableCornerDragging:!0,BackgroundColor:i.BackgroundColor,PanelColor:i.PanelColor,BackgroundAlpha:i.BackgroundAlpha,UIConfig:i.UIConfig,PageIndexAdjustment:i.PageIndexAdjustment,SharingUrl:i.SharingUrl,BrandingLogo:i.BrandingLogo,BrandingUrl:i.BrandingUrl,ViewModeToolsVisible:i.ViewModeToolsVisible!=null?i.ViewModeToolsVisible:!0,ZoomToolsVisible:i.ZoomToolsVisible!=null?i.ZoomToolsVisible:!0,NavToolsVisible:i.NavToolsVisible!=null?i.NavToolsVisible:!0,CursorToolsVisible:i.CursorToolsVisible!=null?i.CursorToolsVisible:!0,SearchToolsVisible:i.SearchToolsVisible!=null?i.SearchToolsVisible:!0,AnnotationToolsVisible:i.AnnotationToolsVisible!=null?i.AnnotationToolsVisible:!0,StickyTools:i.StickyTools,UserCollaboration:i.UserCollaboration,CurrentUser:i.CurrentUser,Toolbar:i.Toolbar,BottomToolbar:i.BottomToolbar,DocSizeQueryService:i.DocSizeQueryService,RenderingOrder:i.RenderingOrder,TrackingNumber:i.TrackingNumber,localeChain:i.localeChain!=null?i.localeChain:"en_US",jsDirectory:b,cssDirectory:g,localeDirectory:nt,signature:i.signature,key:i.key});i.TrackingNumber&&i.TrackingNumber.length>0&&(u=e,u&&(u=u.indexOf("/")>0?u.substr(u.lastIndexOf("/")+1):u,u=u.replace("_[*,0]",""),u=u.replace(".swf",".pdf"),u=u.indexOf("}")>0?u.substr(0,u.lastIndexOf(",")):u),s=y,s&&(s=s.indexOf("/")>0?s.substr(s.lastIndexOf("/")+1):s,s=s.replace("_[*,0]","").replace("_[*,2]","")),o=v,v&&(o=o.indexOf("/")>0?o.substr(o.lastIndexOf("/")+1):o,o=o.replace("{page}",""),o=o.replace(".js",".pdf")),jQuery("#"+n).data("TrackingDocument",s||u||o),jQuery("#"+n).data("TrackingNumber",i.TrackingNumber))},function(){window.FLOWPAPER||(window.FLOWPAPER={});FLOWPAPER.detectjsdir=function(){return jQuery('script[src$="flowpaper.js"]').length>0?jQuery('script[src$="flowpaper.js"]').attr("src").replace("flowpaper.js",""):"js/"};FLOWPAPER.detectcssdir=function(){return jQuery('link[href$="flowpaper.css"]').length>0?jQuery('link[href$="flowpaper.css"]').attr("href").replace("flowpaper.css",""):"css/"};FLOWPAPER.getLocationHashParameter=function(n){var t=location.hash.substr(1);return t.indexOf(n+"=")>=0?t.substr(t.indexOf(n+"=")).split("&")[0].split("=")[1]:null};FLOWPAPER.translateUrlByFormat=function(n,t){return n.indexOf("{")==0&&t!="swf"?(n=n.substring(1,n.lastIndexOf(",")),t!="pdf"&&(n=n.replace("[*,0]","{page}"),n=n.replace("[*,2]","{page}"))):t=="swf"&&n.indexOf("{")!=0&&(n=n.replace("{page}",""),n=n.replace(/&/g,"%26"),n=n.replace(/ /g,"%20")),t=="jpgpageslice"&&(n=n+"&sector={sector}"),n!=null&&n.indexOf("{format}")>0?n.replace("{format}",t):null};FLOWPAPER.translateUrlByDocument=function(n,t){return n!=null&&n.indexOf("{doc}")>0?n.replace("{doc}",t):null};FLOWPAPER.animateDenyEffect=function(n,t,i,r){window.setTimeout(function(){var e=i/(2*r+1),o=1+60/(r*r),u,f;for(jQuery(n).stop(!0,!0),u=0;u<=r;u++){for(f=-1;f<=1;f+=2)jQuery(n).animate({marginLeft:(u!=r)*f*t},{duration:e,queue:!0});t/=o}},500)};FLOWPAPER.initFrontPagePreview=function(n,t,i){var u=!0,r;jQuery(document.body).css("background-color",jQuery("#"+n).css("background-color"));r=new Image;jQuery(r).bind("load",function(){jQuery(document.body).append("<div id='flowpaper_frontpagePreview_"+n+"'><form class='flowpaper_htmldialog' method='POST' style='display:none;top:100px;margin:"+(jQuery(window).height()>350?"50px auto":"0px auto")+";padding-bottom:0px;'><div class='flowpaper_preview_container flowpaper_publications flowpaper_publication_csstransforms3d' style='overflow-y:hidden;overflow-x:hidden;text-align:center;margin: -25px -25px 0px;padding: 15px 25px 20px 25px;'><div class='flowpaper_publication flowpaper_publication_csstransforms3d' style='cursor:pointer;margin-bottom:20px;'><img src='"+i.replace("{page}",1)+"' /><\/div>"+(t.config.PublicationTitle!=null&&t.config.PublicationTitle.length>0?"<h1 class='flowpaper_htmldialog-title' style='margin-bottom:0px;'>"+unescape(t.config.PublicationTitle)+"<\/h1>":"")+"<\/div><\/form><\/div>");var r=u?1e3:0,f=u?r/3:0;jQuery(".flowpaper_htmldialog").css({height:"0px",display:"block"});jQuery(".flowpaper_htmldialog").animate({height:"260px",top:"0px"},{duration:f,complete:function(){var i=jQuery("#flowpaper_frontpagePreview_"+n),f=i.find(".flowpaper_preview_container").width(),e=i.find(".flowpaper_preview_container").height(),u;i.find(".flowpaper_htmldialog").css({height:""});i.find(".flowpaper_preview_container").append("<div class='flowpaper_frontpagePreview_play' style='position:absolute;left:"+f/2+"px;top:"+(e/2-(t.config.PublicationTitle!=null?50:25))+"px;width:0px;height:0px;border-bottom:50px solid transparent;border-top:50px solid transparent;border-left:50px solid #AAAAAA;'><\/div>");u=i.find(".flowpaper_frontpagePreview_play");u.css({opacity:.85,cursor:"pointer"});i.find(".flowpaper_publication, .flowpaper_frontpagePreview_play").on("mouseover",function(){jQuery(u).css({"border-left":"50px solid #FFFFFF",opacity:.85})});i.find(".flowpaper_publication, .flowpaper_frontpagePreview_play").on("mouseout",function(){jQuery(u).css({"border-left":"50px solid #AAAAAA"})});i.find(".flowpaper_publication, .flowpaper_frontpagePreview_play").on("mousedown",function(){jQuery("#flowpaper_frontpagePreview_"+n).remove();t.config.PreviewMode=null;jQuery("#"+n).FlowPaperViewer(t)});jQuery(".flowpaper_publication").animate({opacity:1},{step:function(n){var t=-40,r=t- -7,i=r*n;jQuery(".flowpaper_publication").css({"-webkit-transform":"perspective(300) rotateY("+(t-i)+"deg)","-moz-transform":"rotateY("+(t-i)+"deg)","box-shadow":"5px 5px 20px rgba(51, 51, 51, "+n+")"})},duration:r})}})});r.src=i.replace("{page}",1)};FLOWPAPER.initLoginForm=function(n,t){jQuery(document.body).css("background-color","#dedede");var i=new Image;jQuery(i).bind("load",function(){jQuery(document.body).append("<div id='loginForm'><form class='flowpaper_htmldialog' method='POST' style='display:none;top:100px;margin:"+(jQuery(window).height()>500?"50px auto":"0px auto")+"'><div class='flowpaper_publications flowpaper_publication_csstransforms3d' style='overflow-y:hidden;overflow-x:hidden;text-align:center;background: #f7f7f7;margin: -25px -25px 0px;padding: 15px 25px 0px 25px;'><div class='flowpaper_publication flowpaper_publication_csstransforms3d' id='flowpaper_publication1'><img src='"+n.replace("{page}",1)+"' /><\/div><h1 class='flowpaper_htmldialog-title'>password protected publication<\/h1><input type='password' id='txt_flowpaper_password' name='txt_flowpaper_password' class='flowpaper_htmldialog-input' placeholder='Enter password'><input type='submit' value='Submit' class='flowpaper_htmldialog-button'><\/div><\/form><\/div>");var i=t?1e3:0,r=t?i/3:0;jQuery(".flowpaper_htmldialog").css({height:"0px",display:"block"});jQuery(".flowpaper_htmldialog").animate({height:"400px",top:"0px"},{duration:r,complete:function(){jQuery(".flowpaper_htmldialog").css({height:""});jQuery(".flowpaper_publication").animate({opacity:1},{step:function(n){var t=-40,r=t- -7,i=r*n;jQuery(".flowpaper_publication").css({"-webkit-transform":"perspective(300) rotateY("+(t-i)+"deg)","-moz-transform":"rotateY("+(t-i)+"deg)","box-shadow":"5px 5px 20px rgba(51, 51, 51, "+n+")"})},duration:i})}})});i.src=n.replace("{page}",1)};FLOWPAPER.blockedNewWindow=function(n){var t=!1;try{t=typeof n=="undefined"?!0:n&&n.closed?!1:n&&n.document?!1:!0}catch(i){}return t}}(),function(){function i(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function a(n,t){var r=[];for(var i in n)n.hasOwnProperty(i)&&(r[i]=t(n[i]));return r}function v(t,r,f){var o=window["eb.browser"],l,s,a,h,p,y;o.version=o.version?o.version:"";var c=window["eb.platform"],w=o.mozilla&&o.version.split(".")[0]>=3||o.chrome||o.msie&&o.version.split(".")[0]>=8||o.safari||o.opera,v=o.mozilla&&o.version.split(".")[0]>=4&&!o.seamonkey||o.chrome||o.msie&&o.version.split(".")[0]>=9||o.safari&&o.version.split(".")[0]>=535;f.RenderingOrder||f.SwfFile==null||(f.RenderingOrder="flash");!f.RenderingOrder&&f.JSONFile!=null&&f.JSONFile&&(f.RenderingOrder="html");f.RenderingOrder||f.PdfFile==null||(f.RenderingOrder="html5");FLOWPAPER.getLocationHashParameter&&FLOWPAPER.getLocationHashParameter("mobilepreview")&&(f.RenderingOrder=f.RenderingOrder.replace(/flash/g,"html"),c.mobilepreview=!0);!c.touchdevice&&c.ios&&(f.RenderingOrder=f.RenderingOrder.replace(/flash/g,"html"));c.ios&&(l=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),l!=null&&l.length>1&&(c.iosversion=[parseInt(l[1],10),parseInt(l[2],10),parseInt(l[3]||0,10)][0]));s=jQuery(t).attr("id");a="FlowPaperViewer_Instance"+(s==="undefined"?"":s);(f.RenderingOrder.indexOf("flash")==0||f.RenderingOrder.indexOf("flash")>0&&!w||f.RenderingOrder.indexOf("flash")>0&&f.RenderingOrder.indexOf("html5")>=0&&!v)&&n.isSupported(r.version)?(f.Toolbar&&(h=jQuery(t).wrap("<div class='flowpaper_toolbar_wrapper' style='"+jQuery(t).attr("style")+"'><\/div>").parent(),h.prepend(jQuery(f.Toolbar)),jQuery(t).css({left:"0px",top:"0px",position:"relative",width:"100%",height:(1-jQuery(h).find(".flowpaper_toolbar").height()/jQuery(t).parent().height())*100+"%"}).addClass("flowpaper_viewer")),window.ViewerMode="flash",f.BottomToolbar&&f.AnnotationToolsVisible!=!1&&jQuery.get(f.BottomToolbar,function(n){h.append(n);jQuery(t).css({height:jQuery(t).height()-jQuery(h).find(".flowpaper_bottomToolbar").height()})}),f.Toolbar?jQuery.getScript(f.jsDirectory+"flowpaper_flashhandlers_htmlui.js",function(){FLOWPAPER.bindFlashEventHandlers(t);t.innerHTML=n.getHTML(r,f);t.firstChild.dispose=function(){f.Toolbar?jQuery($FlowPaper("documentViewer")).parent().parent().remove():$FlowPaper(s).remove()}}):(t.innerHTML=n.getHTML(r,f),t.firstChild.dispose=function(){f.Toolbar?jQuery($FlowPaper("documentViewer")).parent().parent().remove():$FlowPaper(s).remove()})):f.RenderingOrder.indexOf("flash")==0&&r.expressInstall&&n.isSupported([6,65])?(window.ViewerMode="flash",f.Toolbar&&(h=jQuery(t).wrap("<div class='flowpaper_toolbar_wrapper' style='"+jQuery(t).attr("style")+"'><\/div>").parent(),jQuery(t).css({left:"0px",top:"0px",position:"relative",width:"100%",height:(1-jQuery(h).find(".flowpaper_toolbar").height()/jQuery(t).parent().height())*100+"%"}).addClass("flowpaper_viewer"),h.prepend(jQuery(f.Toolbar))),f.BottomToolbar&&f.AnnotationToolsVisible!=!1&&jQuery.get(f.BottomToolbar,function(n){h.append(n);jQuery(t).css({height:jQuery(t).height()-jQuery(h).find(".flowpaper_bottomToolbar").height()})}),f.Toolbar?jQuery.getScript(f.jsDirectory+"flowpaper_flashhandlers_htmlui.js",function(){FLOWPAPER.bindFlashEventHandlers(t);t.innerHTML=n.getHTML(i(r,{src:r.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});t.firstChild.dispose=function(){f.Toolbar?jQuery($FlowPaper("documentViewer")).parent().parent().remove():$FlowPaper(s).remove()}}):(t.innerHTML=n.getHTML(i(r,{src:r.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title}),t.firstChild.dispose=function(){f.Toolbar?jQuery($FlowPaper("documentViewer")).parent().parent().remove():$FlowPaper(s).remove()})):(window.ViewerMode="html",jQuery(document).ready(function(){f.Toolbar&&(jQuery.fn.showFullScreen=function(){$FlowPaper(jQuery(this).attr("id")).openFullScreen()});jQuery.ajaxSetup({cache:!0});var n=new jQuery.Deferred;window.FlowPaperViewer_HTML?n.resolve():jQuery.getScript(f.jsDirectory+"FlowPaperViewer.js").then(function(){n.resolve()}).fail(function(){arguments[0].readyState==0?console.log("failed to load FlowPaperViewer.js. Check your resources"):console.log(arguments[2].toString())});n.then(function(){var n;f.RenderingOrder||(f.RenderingOrder="",f.PdfFile!=null&&(f.RenderingOrder="html5"),f.SwfFile!=null&&(f.RenderingOrder+=(f.RenderingOrder.length>0?",":"")+"flash"));f.JSONFile!=null&&f.JSONFile.length>0&&f.IMGFiles!=null&&f.IMGFiles.length>0&&(o.safari||c.android||o.msie&&o.version<=9||c.mobilepreview?f.RenderingOrder="html"+(f.RenderingOrder.length>0?",":"")+f.RenderingOrder:f.RenderingOrder+=(f.RenderingOrder.length>0?",":"")+"html");var t=f.RenderingOrder.split(","),i=null,r=f.FontsToLoad&&f.FontsToLoad.length>0;t&&t.length==1&&f.JSONFile!=null&&f.JSONFile.length>0&&f.IMGFiles!=null&&f.IMGFiles.length>0&&!v&&(t[1]=f.RenderingOrder[0],t[0]="html");i=!r&&f.PdfFile!=null&&f.PdfFile.length>0&&f.RenderingOrder.split(",").length>=1&&v&&(t[0]=="html5"||t.length>1&&t[0]=="flash"&&t[1]=="html5")?new CanvasPageRenderer(s,f.PdfFile,f.jsDirectory,{jsonfile:f.JSONFile,pageImagePattern:f.IMGFiles,pageThumbImagePattern:f.ThumbIMGFiles,compressedJSONFormat:!f.useCustomJSONFormat,JSONPageDataFormat:f.JSONPageDataFormat,JSONDataType:f.JSONDataType,MixedMode:f.MixedMode,signature:f.signature,PageIndexAdjustment:f.PageIndexAdjustment,DisableShadows:f.DisableOverflow,DisplayRange:f.DisplayRange}):new ImagePageRenderer(s,{jsonfile:f.JSONFile,pageImagePattern:f.IMGFiles,pageThumbImagePattern:f.ThumbIMGFiles,pageHighResImagePattern:f.HighResIMGFiles,pageSVGImagePattern:f.SVGFiles,compressedJSONFormat:!f.useCustomJSONFormat,JSONPageDataFormat:f.JSONPageDataFormat,JSONDataType:f.JSONDataType,SVGMode:f.RenderingOrder.toLowerCase().indexOf("svg")>=0,MixedMode:f.MixedMode,signature:f.signature,PageIndexAdjustment:f.PageIndexAdjustment,DisableShadows:f.DisableOverflow,DisableOverflow:f.DisableOverflow,DisplayRange:f.DisplayRange,FontsToLoad:f.FontsToLoad},f.jsDirectory);n=window[a]=new FlowPaperViewer_HTML({rootid:s,Toolbar:f.Toolbar!=null?f.Toolbar:null,BottomToolbar:f.BottomToolbar!=null?f.BottomToolbar:null,instanceid:a,document:{SWFFile:f.SwfFile,IMGFiles:f.IMGFiles,ThumbIMGFiles:f.ThumbIMGFiles,JSONFile:f.JSONFile,PDFFile:f.PdfFile,Scale:f.Scale,FitPageOnLoad:f.FitPageOnLoad,FitWidthOnLoad:f.FitWidthOnLoad,FullScreenAsMaxWindow:f.FullScreenAsMaxWindow,MinZoomSize:f.MinZoomSize,MaxZoomSize:f.MaxZoomSize,SearchMatchAll:f.SearchMatchAll,InitViewMode:f.InitViewMode,DisableOverflow:f.DisableOverflow,DisplayRange:f.DisplayRange,TouchInitViewMode:f.TouchInitViewMode,PreviewMode:f.PreviewMode,MixedMode:f.MixedMode,LoaderImage:f.LoaderImage,SharingUrl:f.SharingUrl,BrandingLogo:f.BrandingLogo,BrandingUrl:f.BrandingUrl,EnableWebGL:f.EnableWebGL,StartAtPage:f.StartAtPage,RenderingOrder:f.RenderingOrder,useCustomJSONFormat:f.useCustomJSONFormat,JSONPageDataFormat:f.JSONPageDataFormat,JSONDataType:f.JSONDataType,ZoomTime:f.ZoomTime,ZoomTransition:f.ZoomTransition,ZoomInterval:f.ZoomInterval,TouchZoomInterval:f.TouchZoomInterval,ViewModeToolsVisible:f.ViewModeToolsVisible,ZoomToolsVisible:f.ZoomToolsVisible,NavToolsVisible:f.NavToolsVisible,CursorToolsVisible:f.CursorToolsVisible,SearchToolsVisible:f.SearchToolsVisible,AnnotationToolsVisible:f.AnnotationToolsVisible,StickyTools:f.StickyTools,AutoDetectLinks:f.AutoDetectLinks,ImprovedAccessibility:f.ImprovedAccessibility,PrintPaperAsBitmap:f.PrintPaperAsBitmap,PrintFn:f.PrintFn,AutoAdjustPrintSize:f.AutoAdjustPrintSize,EnableSearchAbstracts:f.EnableSearchAbstracts,EnableCornerDragging:f.EnableCornerDragging,UIConfig:f.UIConfig,BackgroundColor:f.BackgroundColor,PanelColor:f.PanelColor,localeChain:f.localeChain},renderer:i,key:f.key,jsDirectory:f.jsDirectory,localeDirectory:f.localeDirectory,cssDirectory:f.cssDirectory,docSizeQueryService:f.DocSizeQueryService,UserCollaboration:f.UserCollaboration,CurrentUser:f.CurrentUser});n.initialize();n.bindEvents();n.load=n.loadFromUrl;n.loadDoc=n.loadDoc;n.fitWidth=n.fitwidth;n.fitHeight=n.fitheight;n.gotoPage=n.gotoPage;n.getCurrPage=n.getCurrPage;n.getTotalPages=n.getTotalPages;n.nextPage=n.next;n.prevPage=n.previous;n.setZoom=n.Zoom;n.Zoom=n.Zoom;n.ZoomIn=n.ZoomIn;n.ZoomOut=n.ZoomOut;n.openFullScreen=n.openFullScreen;n.sliderChange=n.sliderChange;n.searchText=n.searchText;n.resize=n.resize;n.rotate=n.rotate;n.addLink=n.addLink;n.addImage=n.addImage;n.addVideo=n.addVideo;n.switchMode=n.switchMode;n.printPaper=n.printPaper;n.highlight=n.highlight;n.getCurrentRenderingMode=n.getCurrentRenderingMode;n.setCurrentCursor=n.setCurrentCursor;n.showFullScreen=n.openFullScreen;i.initialize(function(){n.document.numPages=i.getNumPages();n.document.dimensions=i.getDimensions();n.show();window[a]=n},{StartAtPage:f.StartAtPage,MixedMode:f.MixedMode})})}));jQuery(window).bind("hashchange",function(){var n=FLOWPAPER.getLocationHashParameter("page");n&&$FlowPaper(s).gotoPage(n)});u&&(window[r.id]=document.getElementById(r.id));i(this,{getRoot:function(){return t},getOptions:function(){return r},getConf:function(){return f},getApi:function(){return t.firstChild}})}var t=navigator.userAgent.toLowerCase(),u=document.all,e="http://www.adobe.com/go/getflashplayer",o=typeof jQuery=="function",s=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,h=/msie/.test(t)&&function(){try{return!!new ActiveXObject("htmlfile")}catch(n){return!1}}()&&navigator.platform=="Win64"&&document.documentElement.clientWidth==screen.width,c=function(){try{return"ontouchstart"in document.documentElement}catch(n){return!1}}()||t.match(/touch/i),l=t.indexOf("android")>-1||t.match(/iphone/i)||t.match(/ipod/i)||t.match(/ipad/i)||t.match(/Windows Phone/i)||t.match(/BlackBerry/i)||t.match(/webOS/i),f={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",allowFullScreenInteractive:!0,version:[10,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1},n,r;if(window.isTouchScreen=c&&(l||h),window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}}),window.dispatchJQueryEvent=function(n,t,i){i.length>0&&i[0].note&&(i[0].note=i[0].note.replace(/%22/g,'"').replace(/%5c/g,"\\").replace(/%26/g,"&").replace(/%25/g,"%"));jQuery("#"+n).trigger(t,i)},window.flashembed=function(n,t,r){if(typeof n=="string"&&(n=document.getElementById(n.replace("#",""))),n)return n.onclick=function(){return!1},typeof t=="string"&&(t={src:t}),new v(n,i(i({},f),t),r)},n=i(window.flashembed,{conf:f,getVersion:function(){var t,n;try{n=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(i){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");n=t&&t.GetVariable("$version")}catch(r){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");n=t&&t.GetVariable("$version")}catch(u){}}}return n=s.exec(n),n?[n[1],n[3]]:[0,0]},asString:function(t){var i,u,r;if(t===null||t===undefined)return null;i=typeof t;i=="object"&&t.push&&(i="array");switch(i){case"string":return t=t.replace(new RegExp('(["\\\\])',"g"),"\\$1"),t=t.replace(/^\s?(\d+\.?\d+)%/,"$1pct"),'"'+t+'"';case"array":return"["+a(t,function(t){return n.asString(t)}).join(",")+"]";case"function":return'"function()"';case"object":u=[];for(r in t)t.hasOwnProperty(r)&&u.push('"'+r+'":'+n.asString(t[r]));return"{"+u.join(",")+"}"}return String(t).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(t,r){var e,h,s,f,o;t=i({},t);t.id=t.id+(" "+Math.random()).slice(9);e='<object width="'+t.width+'" height="'+t.height+'" id="'+t.id+'" name="'+t.id+'"';t.cachebusting&&(t.src+=(t.src.indexOf("?")!=-1?"&":"?")+Math.random());e+=t.w3c||!u?' data="'+t.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';e+=">";(t.w3c||u)&&(e+='<param name="movie" value="'+t.src+'" />');t.width=t.height=t.id=t.w3c=t.src=null;t.onFail=t.version=t.expressInstall=null;for(h in t)t[h]&&(e+='<param name="'+h+'" value="'+t[h]+'" />');if(s="",r){for(f in r)typeof r[f]!="undefined"&&typeof r[f]!="unknown"&&f!="Toolbar"&&f!="BottomToolbar"&&(o=r[f],f=="JSONFile"&&(o=escape(o)),s+=f+"="+(/function|object/.test(typeof o)?n.asString(o):o)+"&");s=s.slice(0,-1);e+='<param name="flashvars" value=\''+s+"' />"}return e+"<\/object>"},isSupported:function(n){return r[0]>n[0]||r[0]==n[0]&&r[1]>=n[1]}}),r=n.getVersion(),o)jQuery.fn.flashembed=function(n,t){return this.each(function(){jQuery(this).data("flashembed",flashembed(this,n,t))})},jQuery.fn.FlowPaperViewer=function(n){jQuery("#"+this.attr("id")).empty();var t=new FlowPaperViewerEmbedding(this.attr("id"),n);return this.element=jQuery("#"+t.id),this.element};else throw new Error("jQuery missing!");}();typeof PDFJS=="undefined"&&((typeof window!="undefined"?window:this).PDFJS={});window.unsupportedPDFJSieversion=getIEversion()>0&&getIEversion()<9,function(){function t(t,i){return new n(this.slice(t,i))}function i(n,t){arguments.length<2&&(t=0);for(var i=0,r=n.length;i<r;++i,++t)this[t]=n[i]&255}function n(n){var r,u,f;if(typeof n=="number")for(r=[],u=0;u<n;++u)r[u]=0;else if("slice"in n)r=n.slice(0);else for(r=[],u=0,f=n.length;u<f;++u)r[u]=n[u];return r.subarray=t,r.buffer=r,r.byteLength=r.length,r.set=i,typeof n=="object"&&n.buffer&&(r.buffer=n.buffer),r}if(typeof Uint8Array!="undefined"){typeof Uint8Array.prototype.subarray=="undefined"&&(Uint8Array.prototype.subarray=function(n,t){return new Uint8Array(this.slice(n,t))},Float32Array.prototype.subarray=function(n,t){return new Float32Array(this.slice(n,t))});typeof Float64Array=="undefined"&&(window.Float64Array=Float32Array);return}window.Uint8Array=n;window.Int8Array=n;window.Uint32Array=n;window.Int32Array=n;window.Uint16Array=n;window.Float32Array=n;window.Float64Array=n}(),function(){window.URL||(window.URL=window.webkitURL)}(),function(){if(!window.unsupportedPDFJSieversion){if(typeof Object.defineProperty!="undefined"){var n=!0;try{Object.defineProperty(new Image,"id",{value:"test"});eval("var Test = function Test() {};Test.prototype = { get id() { } };Object.defineProperty(new Test(), 'id',{ value: '', configurable: true, enumerable: true, writable: false });")}catch(t){n=!1}if(n)return}Object.defineProperty=function(n,t,i){delete n[t];"get"in i&&n.__defineGetter__(t,i.get);"set"in i&&n.__defineSetter__(t,i.set);"value"in i&&(n.__defineSetter__(t,function(n){return this.__defineGetter__(t,function(){return n}),n}),n[t]=i.value)}}}(),function(){if(!window.unsupportedPDFJSieversion){var n=XMLHttpRequest.prototype,t=new XMLHttpRequest;if("overrideMimeType"in t||Object.defineProperty(n,"overrideMimeType",{value:function(){}}),!("responseType"in t)){if(PDFJS.disableWorker=!0,Object.defineProperty(n,"responseType",{get:function(){return this._responseType||"text"},set:function(n){(n==="text"||n==="arraybuffer")&&(this._responseType=n,n==="arraybuffer"&&typeof this.overrideMimeType=="function"&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),typeof VBArray!="undefined"){Object.defineProperty(n,"response",{get:function(){return this.responseType==="arraybuffer"?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}});return}Object.defineProperty(n,"response",{get:function(){if(this.responseType!=="arraybuffer")return this.responseText;for(var t=this.responseText,i=t.length,r=new Uint8Array(i),n=0;n<i;++n)r[n]=t.charCodeAt(n)&255;return r.buffer}})}}}(),function(){if(!("btoa"in window)){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.btoa=function(t){for(var u="",i=0,r=t.length;i<r;i+=3){var f=t.charCodeAt(i)&255,e=t.charCodeAt(i+1)&255,o=t.charCodeAt(i+2)&255,s=f>>2,h=(f&3)<<4|e>>4,c=i+1<r?(e&15)<<2|o>>6:64,l=i+2<r?o&63:64;u+=n.charAt(s)+n.charAt(h)+n.charAt(c)+n.charAt(l)}return u}}}(),function(){if(!("atob"in window)){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new Error("bad atob input");for(var r=0,u,i,e=0,f="";i=t.charAt(e++);~i&&(u=r%4?u*64+i:i,r++%4)?f+=String.fromCharCode(255&u>>(-2*r&6)):0)i=n.indexOf(i);return f}}}(),function(){typeof Function.prototype.bind=="undefined"&&(Function.prototype.bind=function(n){var t=this,i=Array.prototype.slice.call(arguments,1);return function(){var r=i.concat(Array.prototype.slice.call(arguments));return t.apply(n,r)}})}(),function(){if(!window.unsupportedPDFJSieversion){var n=document.createElement("div");"dataset"in n||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){var n,t,r,i,u;if(this._dataset)return this._dataset;for(n={},t=0,r=this.attributes.length;t<r;t++)(i=this.attributes[t],i.name.substring(0,5)==="data-")&&(u=i.name.substring(5).replace(/\-([a-z])/g,function(n,t){return t.toUpperCase()}),n[u]=i.value);return Object.defineProperty(this,"_dataset",{value:n,writable:!1,enumerable:!1}),n},enumerable:!0})}}(),function(){function n(n,t,i,r){var e=n.className||"",u=e.split(/\s+/g),f;return u[0]===""&&u.shift(),f=u.indexOf(t),f<0&&i&&u.push(t),f>=0&&r&&u.splice(f,1),n.className=u.join(" "),f>=0}var t,i;window.unsupportedPDFJSieversion||(t=document.createElement("div"),"classList"in t)||(i={add:function(t){n(this.element,t,!0,!1)},contains:function(t){return n(this.element,t,!1,!1)},remove:function(t){n(this.element,t,!1,!0)},toggle:function(t){n(this.element,t,!0,!0)}},Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var n=Object.create(i,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:n,writable:!1,enumerable:!1}),n},enumerable:!0}))}(),function(){window.unsupportedPDFJSieversion||("console"in window?"bind"in console.log||(console.log=function(n){return function(t){return n(t)}}(console.log),console.error=function(n){return function(t){return n(t)}}(console.error),console.warn=function(n){return function(t){return n(t)}}(console.warn)):window.console={log:function(){},error:function(){},warn:function(){}})}(),function(){function t(t){n(t.target)&&t.stopPropagation()}function n(t){return t.disabled||t.parentNode&&n(t.parentNode)}navigator.userAgent.indexOf("Opera")!==-1&&document.addEventListener("click",t,!0)}(),function(){navigator.userAgent.indexOf("Trident")>=0&&(PDFJS.disableCreateObjectURL=!0)}(),function(){function n(n){var t=n.split(/[-_]/);return t[0]=t[0].toLowerCase(),t.length>1&&(t[1]=t[1].toUpperCase()),t.join("-")}if(!("language"in navigator)||!/^[a-z]+(-[A-Z]+)?$/.test(navigator.language)){var t=navigator.language||navigator.userLanguage||"en-US";PDFJS.locale=n(t)}}(),function(){var n=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,t=/Android\s[0-2][^\d]/.test(navigator.userAgent);(n||t)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0)}(),function(){(!history.pushState||navigator.userAgent.indexOf("Android 2.")>=0)&&(PDFJS.disableHistory=!0)}(),function(){var t,n,i;window.CanvasPixelArray?typeof window.CanvasPixelArray.prototype.set!="function"&&(window.CanvasPixelArray.prototype.set=function(n){for(var t=0,i=this.length;t<i;t++)this[t]=n[t]}):(t=!1,navigator.userAgent.indexOf("Chrom")>=0?(n=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),t=n&&parseInt(n[2])<21):navigator.userAgent.indexOf("Android")>=0?t=/Android\s[0-4][^\d]/g.test(navigator.userAgent):navigator.userAgent.indexOf("Safari")>=0&&(n=navigator.userAgent.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//),t=n&&parseInt(n[1])<6),t&&(i=window.CanvasRenderingContext2D.prototype,i._createImageData=i.createImageData,i.createImageData=function(n,t){var i=this._createImageData(n,t);return i.data.set=function(n){for(var t=0,i=this.length;t<i;t++)this[t]=n[t]},i}))}(),function(){function n(n){window.setTimeout(n,20)}var t=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);"requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||n)}(),function(){var n=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),t=/Android/g.test(navigator.userAgent);(n||t)&&(PDFJS.maxCanvasPixels=5242880)}(),function(){var n=navigator.userAgent.indexOf("Trident")>=0&&window.parent!==window;n&&(PDFJS.disableFullscreen=!0)}(),function(){var y=this,lt=y._,e={},r=Array.prototype,nt=Object.prototype,at=Function.prototype,p=r.push,t=r.slice,o=r.concat,f=nt.toString,vt=nt.hasOwnProperty,tt=r.forEach,it=r.map,rt=r.reduce,ut=r.reduceRight,ft=r.filter,et=r.every,ot=r.some,s=r.indexOf,st=r.lastIndexOf,yt=Array.isArray,pt=Object.keys,w=at.bind,n=function(t){if(t instanceof n)return t;if(!(this instanceof n))return new n(t);this._wrapped=t},i,b,k,h,c,d,l,a,u,ht,ct,v;typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=n),exports._=n):y._=n;n.VERSION="1.5.2";i=n.each=n.forEach=function(t,i,r){var o,u,f;if(t!=null)if(tt&&t.forEach===tt)t.forEach(i,r);else if(t.length===+t.length){for(u=0,f=t.length;u<f;u++)if(i.call(r,t[u],u,t)===e)return}else for(o=n.keys(t),u=0,f=o.length;u<f;u++)if(i.call(r,t[o[u]],o[u],t)===e)return};n.map=n.collect=function(n,t,r){var u=[];return n==null?u:it&&n.map===it?n.map(t,r):(i(n,function(n,i,f){u.push(t.call(r,n,i,f))}),u)};b="Reduce of empty array with no initial value";n.reduce=n.foldl=n.inject=function(t,r,u,f){var e=arguments.length>2;if(t==null&&(t=[]),rt&&t.reduce===rt)return f&&(r=n.bind(r,f)),e?t.reduce(r,u):t.reduce(r);if(i(t,function(n,t,i){e?u=r.call(f,u,n,t,i):(u=n,e=!0)}),!e)throw new TypeError(b);return u};n.reduceRight=n.foldr=function(t,r,u,f){var o=arguments.length>2,e,s;if(t==null&&(t=[]),ut&&t.reduceRight===ut)return f&&(r=n.bind(r,f)),o?t.reduceRight(r,u):t.reduceRight(r);if(e=t.length,e!==+e&&(s=n.keys(t),e=s.length),i(t,function(n,i,h){i=s?s[--e]:--e;o?u=r.call(f,u,t[i],i,h):(u=t[i],o=!0)}),!o)throw new TypeError(b);return u};n.find=n.detect=function(n,t,i){var r;return k(n,function(n,u,f){if(t.call(i,n,u,f))return r=n,!0}),r};n.filter=n.select=function(n,t,r){var u=[];return n==null?u:ft&&n.filter===ft?n.filter(t,r):(i(n,function(n,i,f){t.call(r,n,i,f)&&u.push(n)}),u)};n.reject=function(t,i,r){return n.filter(t,function(n,t,u){return!i.call(r,n,t,u)},r)};n.every=n.all=function(t,r,u){r||(r=n.identity);var f=!0;return t==null?f:et&&t.every===et?t.every(r,u):(i(t,function(n,t,i){if(!(f=f&&r.call(u,n,t,i)))return e}),!!f)};k=n.some=n.any=function(t,r,u){r||(r=n.identity);var f=!1;return t==null?f:ot&&t.some===ot?t.some(r,u):(i(t,function(n,t,i){if(f||(f=r.call(u,n,t,i)))return e}),!!f)};n.contains=n.include=function(n,t){return n==null?!1:s&&n.indexOf===s?n.indexOf(t)!=-1:k(n,function(n){return n===t})};n.invoke=function(i,r){var u=t.call(arguments,2),f=n.isFunction(r);return n.map(i,function(n){return(f?r:n[r]).apply(n,u)})};n.pluck=function(t,i){return n.map(t,function(n){return n[i]})};n.where=function(t,i,r){return n.isEmpty(i)?r?void 0:[]:n[r?"find":"filter"](t,function(n){for(var t in i)if(i[t]!==n[t])return!1;return!0})};n.findWhere=function(t,i){return n.where(t,i,!0)};n.max=function(t,r,u){if(!r&&n.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!r&&n.isEmpty(t))return-Infinity;var f={computed:-Infinity,value:-Infinity};return i(t,function(n,t,i){var e=r?r.call(u,n,t,i):n;e>f.computed&&(f={value:n,computed:e})}),f.value};n.min=function(t,r,u){if(!r&&n.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!r&&n.isEmpty(t))return Infinity;var f={computed:Infinity,value:Infinity};return i(t,function(n,t,i){var e=r?r.call(u,n,t,i):n;e<f.computed&&(f={value:n,computed:e})}),f.value};n.shuffle=function(t){var u,f=0,r=[];return i(t,function(t){u=n.random(f++);r[f-1]=r[u];r[u]=t}),r};n.sample=function(t,i,r){return arguments.length<2||r?t[n.random(t.length-1)]:n.shuffle(t).slice(0,Math.max(0,i))};h=function(t){return n.isFunction(t)?t:function(n){return n[t]}};n.sortBy=function(t,i,r){var u=h(i);return n.pluck(n.map(t,function(n,t,i){return{value:n,index:t,criteria:u.call(r,n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(i<r||r===void 0)return-1}return n.index-t.index}),"value")};c=function(t){return function(r,u,f){var e={},o=u==null?n.identity:h(u);return i(r,function(n,i){var u=o.call(f,n,i,r);t(e,u,n)}),e}};n.groupBy=c(function(t,i,r){(n.has(t,i)?t[i]:t[i]=[]).push(r)});n.indexBy=c(function(n,t,i){n[t]=i});n.countBy=c(function(t,i){n.has(t,i)?t[i]++:t[i]=1});n.sortedIndex=function(t,i,r,u){var e;r=r==null?n.identity:h(r);for(var s=r.call(u,i),f=0,o=t.length;f<o;)e=f+o>>>1,r.call(u,t[e])<s?f=e+1:o=e;return f};n.toArray=function(i){return i?n.isArray(i)?t.call(i):i.length===+i.length?n.map(i,n.identity):n.values(i):[]};n.size=function(t){return t==null?0:t.length===+t.length?t.length:n.keys(t).length};n.first=n.head=n.take=function(n,i,r){if(n!=null)return i==null||r?n[0]:t.call(n,0,i)};n.initial=function(n,i,r){return t.call(n,0,n.length-(i==null||r?1:i))};n.last=function(n,i,r){if(n!=null)return i==null||r?n[n.length-1]:t.call(n,Math.max(n.length-i,0))};n.rest=n.tail=n.drop=function(n,i,r){return t.call(n,i==null||r?1:i)};n.compact=function(t){return n.filter(t,n.identity)};d=function(t,r,u){return r&&n.every(t,n.isArray)?o.apply(u,t):(i(t,function(t){n.isArray(t)||n.isArguments(t)?r?p.apply(u,t):d(t,r,u):u.push(t)}),u)};n.flatten=function(n,t){return d(n,t,[])};n.without=function(i){return n.difference(i,t.call(arguments,1))};n.uniq=n.unique=function(t,r,u,f){n.isFunction(r)&&(f=u,u=r,r=!1);var s=u?n.map(t,u,f):t,o=[],e=[];return i(s,function(i,u){(r?u&&e[e.length-1]===i:n.contains(e,i))||(e.push(i),o.push(t[u]))}),o};n.union=function(){return n.uniq(n.flatten(arguments,!0))};n.intersection=function(i){var r=t.call(arguments,1);return n.filter(n.uniq(i),function(t){return n.every(r,function(i){return n.indexOf(i,t)>=0})})};n.difference=function(i){var u=o.apply(r,t.call(arguments,1));return n.filter(i,function(t){return!n.contains(u,t)})};n.zip=function(){for(var i=n.max(n.pluck(arguments,"length").concat(0)),r=new Array(i),t=0;t<i;t++)r[t]=n.pluck(arguments,""+t);return r};n.object=function(n,t){var r,i,u;if(n==null)return{};for(r={},i=0,u=n.length;i<u;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r};n.indexOf=function(t,i,r){if(t==null)return-1;var u=0,f=t.length;if(r)if(typeof r=="number")u=r<0?Math.max(0,f+r):r;else return u=n.sortedIndex(t,i),t[u]===i?u:-1;if(s&&t.indexOf===s)return t.indexOf(i,r);for(;u<f;u++)if(t[u]===i)return u;return-1};n.lastIndexOf=function(n,t,i){var u,r;if(n==null)return-1;if(u=i!=null,st&&n.lastIndexOf===st)return u?n.lastIndexOf(t,i):n.lastIndexOf(t);for(r=u?i:n.length;r--;)if(n[r]===t)return r;return-1};n.range=function(n,t,i){arguments.length<=1&&(t=n||0,n=0);i=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/i),0),u=0,f=new Array(r);u<r;)f[u++]=n,n+=i;return f};l=function(){};n.bind=function(i,r){var u,f;if(w&&i.bind===w)return w.apply(i,t.call(arguments,1));if(!n.isFunction(i))throw new TypeError;return u=t.call(arguments,2),f=function(){var e,n;return(this instanceof f)?(l.prototype=i.prototype,e=new l,l.prototype=null,n=i.apply(e,u.concat(t.call(arguments))),Object(n)===n)?n:e:i.apply(r,u.concat(t.call(arguments)))}};n.partial=function(n){var i=t.call(arguments,1);return function(){return n.apply(this,i.concat(t.call(arguments)))}};n.bindAll=function(r){var u=t.call(arguments,1);if(u.length===0)throw new Error("bindAll must be passed function names");return i(u,function(t){r[t]=n.bind(r[t],r)}),r};n.memoize=function(t,i){var r={};return i||(i=n.identity),function(){var u=i.apply(this,arguments);return n.has(r,u)?r[u]:r[u]=t.apply(this,arguments)}};n.delay=function(n,i){var r=t.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},i)};n.defer=function(i){return n.delay.apply(n,[i,1].concat(t.call(arguments,1)))};n.throttle=function(n,t,i){var f,e,o,r=null,u=0,s;return i||(i={}),s=function(){u=i.leading===!1?0:new Date;r=null;o=n.apply(f,e)},function(){var h=new Date,c;return u||i.leading!==!1||(u=h),c=t-(h-u),f=this,e=arguments,c<=0?(clearTimeout(r),r=null,u=h,o=n.apply(f,e)):r||i.trailing===!1||(r=setTimeout(s,c)),o}};n.debounce=function(n,t,i){var r,u,f,o,e;return function(){f=this;u=arguments;o=new Date;var s=function(){var h=new Date-o;h<t?r=setTimeout(s,t-h):(r=null,i||(e=n.apply(f,u)))},h=i&&!r;return r||(r=setTimeout(s,t)),h&&(e=n.apply(f,u)),e}};n.once=function(n){var i=!1,t;return function(){return i?t:(i=!0,t=n.apply(this,arguments),n=null,t)}};n.wrap=function(n,t){return function(){var i=[n];return p.apply(i,arguments),t.apply(this,i)}};n.compose=function(){var n=arguments;return function(){for(var t=arguments,i=n.length-1;i>=0;i--)t=[n[i].apply(this,t)];return t[0]}};n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}};n.keys=pt||function(t){var i,r;if(t!==Object(t))throw new TypeError("Invalid object");i=[];for(r in t)n.has(t,r)&&i.push(r);return i};n.values=function(t){for(var r=n.keys(t),u=r.length,f=new Array(u),i=0;i<u;i++)f[i]=t[r[i]];return f};n.pairs=function(t){for(var r=n.keys(t),u=r.length,f=new Array(u),i=0;i<u;i++)f[i]=[r[i],t[r[i]]];return f};n.invert=function(t){for(var u={},r=n.keys(t),i=0,f=r.length;i<f;i++)u[t[r[i]]]=r[i];return u};n.functions=n.methods=function(t){var i=[];for(var r in t)n.isFunction(t[r])&&i.push(r);return i.sort()};n.extend=function(n){return i(t.call(arguments,1),function(t){if(t)for(var i in t)n[i]=t[i]}),n};n.pick=function(n){var u={},f=o.apply(r,t.call(arguments,1));return i(f,function(t){t in n&&(u[t]=n[t])}),u};n.omit=function(i){var f={},e=o.apply(r,t.call(arguments,1));for(var u in i)n.contains(e,u)||(f[u]=i[u]);return f};n.defaults=function(n){return i(t.call(arguments,1),function(t){if(t)for(var i in t)n[i]===void 0&&(n[i]=t[i])}),n};n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t};n.tap=function(n,t){return t(n),n};a=function(t,i,r,u){var l,v,h,c,e,o,s;if(t===i)return t!==0||1/t==1/i;if(t==null||i==null)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),l=f.call(t),l!=f.call(i))return!1;switch(l){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:t==0?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if(typeof t!="object"||typeof i!="object")return!1;for(v=r.length;v--;)if(r[v]==t)return u[v]==i;if(h=t.constructor,c=i.constructor,h!==c&&!(n.isFunction(h)&&h instanceof h&&n.isFunction(c)&&c instanceof c))return!1;if(r.push(t),u.push(i),e=0,o=!0,l=="[object Array]"){if(e=t.length,o=e==i.length,o)while(e--)if(!(o=a(t[e],i[e],r,u)))break}else{for(s in t)if(n.has(t,s)&&(e++,!(o=n.has(i,s)&&a(t[s],i[s],r,u))))break;if(o){for(s in i)if(n.has(i,s)&&!e--)break;o=!e}}return r.pop(),u.pop(),o};n.isEqual=function(n,t){return a(n,t,[],[])};n.isEmpty=function(t){if(t==null)return!0;if(n.isArray(t)||n.isString(t))return t.length===0;for(var i in t)if(n.has(t,i))return!1;return!0};n.isElement=function(n){return!!(n&&n.nodeType===1)};n.isArray=yt||function(n){return f.call(n)=="[object Array]"};n.isObject=function(n){return n===Object(n)};i(["Arguments","Function","String","Number","Date","RegExp"],function(t){n["is"+t]=function(n){return f.call(n)=="[object "+t+"]"}});n.isArguments(arguments)||(n.isArguments=function(t){return!!(t&&n.has(t,"callee"))});typeof/./!="function"&&(n.isFunction=function(n){return typeof n=="function"});n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};n.isNaN=function(t){return n.isNumber(t)&&t!=+t};n.isBoolean=function(n){return n===!0||n===!1||f.call(n)=="[object Boolean]"};n.isNull=function(n){return n===null};n.isUndefined=function(n){return n===void 0};n.has=function(n,t){return vt.call(n,t)};n.noConflict=function(){return y._=lt,this};n.identity=function(n){return n};n.times=function(n,t,i){for(var u=Array(Math.max(0,n)),r=0;r<n;r++)u[r]=t.call(i,r);return u};n.random=function(n,t){return t==null&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};u={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};u.unescape=n.invert(u.escape);ht={escape:new RegExp("["+n.keys(u.escape).join("")+"]","g"),unescape:new RegExp("("+n.keys(u.unescape).join("|")+")","g")};n.each(["escape","unescape"],function(t){n[t]=function(n){return n==null?"":(""+n).replace(ht[t],function(n){return u[t][n]})}});n.result=function(t,i){if(t==null)return void 0;var r=t[i];return n.isFunction(r)?r.call(t):r};n.mixin=function(t){i(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return p.apply(t,arguments),v.call(this,r.apply(n,t))}})};ct=0;n.uniqueId=function(n){var t=++ct+"";return n?n+t:t};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/(.)^/,wt={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},bt=/\\|'|\r|\n|\t|\u2028|\u2029/g;n.template=function(t,i,r){var f,e;r=n.defaults({},r,n.templateSettings);var h=new RegExp([(r.escape||g).source,(r.interpolate||g).source,(r.evaluate||g).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(h,function(n,i,r,f,e){return u+=t.slice(o,e).replace(bt,function(n){return"\\"+wt[n]}),i&&(u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),r&&(u+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),f&&(u+="';\n"+f+"\n__p+='"),o=e+n.length,n});u+="';\n";r.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{f=new Function(r.variable||"obj","_",u)}catch(s){s.source=u;throw s;}return i?f(i,n):(e=function(t){return f.call(this,t,n)},e.source="function("+(r.variable||"obj")+"){\n"+u+"}",e)};n.chain=function(t){return n(t).chain()};v=function(t){return this._chain?n(t).chain():t};n.mixin(n);i(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=r[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),(t=="shift"||t=="splice")&&n.length===0&&delete n[0],v.call(this,n)}});i(["concat","join","slice"],function(t){var i=r[t];n.prototype[t]=function(){return v.call(this,i.apply(this._wrapped,arguments))}});n.extend(n.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){function n(n){function o(){}var t={},i,r,u,f,e;return t.Object=o,n.extend(t.Object,{__mro__:[t.Object],__properties__:{__ringConstructor__:function(){}},__classId__:1,__parents__:[],__classIndex__:{1:t.Object}}),n.extend(t.Object.prototype,{__ringConstructor__:t.Object.__properties__.__ringConstructor__}),i=function(n){function t(){}t.prototype=n;var i=new t;return i.__proto__=n,i},t.__objectCreate=i,r=3,u=/xyz/.test(function(){xyz()})?/\$super\b/:/.*/,t.create=function(){var a=n.toArray(arguments),s,h,c,o,v,y,l,p;return a.reverse(),s=a[0],h=a.length>=2?a[1]:[],h instanceof Array||(h=[h]),n.each(h,function(n){e(n)}),h.length===0&&(h=[t.Object]),c=s.constructor!==Object?s.constructor:undefined,s=n.clone(s),delete s.constructor,c?s.__ringConstructor__=c:(c=s.init,delete s.init,c&&(s.__ringConstructor__=c)),o=function(){this.$super=null;this.__ringConstructor__.apply(this,arguments)},o.__properties__=s,v=n.pluck(h,"__mro__"),v=v.concat([h]),y=[o].concat(f(v)),l=Object.prototype,n.each(n.clone(y).reverse(),function(t){var r=i(l);n.extend(r,t.__properties__);n.each(n.keys(r),function(n){var i=r[n];typeof i=="function"&&u.test(i)&&(n==="__ringConstructor__"||!t.__ringConvertedObject__)&&(r[n]=function(n,t,i){return function(){var r=this.$super;this.$super=i[n];try{return t.apply(this,arguments)}finally{this.$super=r}}}(n,i,l))});r.constructor=t;l=r}),p=r++,o.__mro__=y,o.__parents__=h,o.prototype=l,o.__classId__=p,o.__classIndex__={},n.each(o.__mro__,function(n){o.__classIndex__[n.__classId__]=n}),o.prototype.classInit&&(o.__classInit__=o.prototype.classInit,delete o.prototype.classInit),n.each(n.chain(o.__mro__).clone().reverse().value(),function(n){if(n.__classInit__){var t=n.__classInit__(o.prototype);t!==undefined&&(o.prototype=t)}}),o},f=function(i){for(var o=[],r=n.clone(i),e,u,f,s;;){for(e=!1,u=0;u<r.length;u++)if(r[u].length!==0&&(f=r[u][0],s=n.find(r,function(t){return n.contains(n.rest(t),f)}),!s)){e=!0;o.push(f);r=n.map(r,function(t){return n.head(t)===f?n.rest(t):t});break}if(!e){if(n.all(r,function(n){return n.length===0}))return o;throw new t.ValueError("Cannot create a consistent method resolution order (MRO)");}}},e=function(i){var u,f;i.__classId__||(u=Object.getOwnPropertyNames?function(){var t={};return function r(i){i!==Object.prototype&&(n.extend(t,n.chain(Object.getOwnPropertyNames(i)).map(function(n){return[n,!0]}).object().value()),r(Object.getPrototypeOf(i)))}(i.prototype),n.object(n.map(n.keys(t),function(n){return[n,i.prototype[n]]}))}():i.prototype,u=n.chain(u).map(function(n,t){return[t,n]}).filter(function(n){return n[0]!=="constructor"&&n[0]!=="__proto__"}).object().value(),f=r++,n.extend(i,{__mro__:[i,t.Object],__properties__:n.extend({},u,{__ringConstructor__:function(){this.$super.apply(this,arguments);var n=this.$super;this.$super=null;try{i.apply(this,arguments)}finally{this.$super=n}}}),__classId__:f,__parents__:[t.Object],__classIndex__:{1:t.Object},__ringConvertedObject__:!0}),i.__classIndex__[f]=i)},t.instance=function(n,t){return typeof n=="object"&&n.constructor&&n.constructor.__classIndex__&&typeof t=="function"&&typeof t.__classId__=="number"?n.constructor.__classIndex__[t.__classId__]!==undefined:typeof t=="string"?typeof n===t:n instanceof t},t.Error=t.create({name:"ring.Error",defaultMessage:"",constructor:function(n){this.message=n||this.defaultMessage},classInit:function(t){var u=[],f=function(n){n&&(u.push(n),f(n.__proto__))},r;return f(t),r=new Error,n.each(n.clone(u).reverse(),function(t){var u=i(r);n.each(t,function(n,t){t!=="__proto__"&&(u[t]=n)});r=u}),r}}),t.ValueError=t.create([t.Error],{name:"ring.ValueError"}),t.getSuper=function(i,r,u){for(var s,h,e,o,c=r.constructor.__mro__,f=0;f<c.length;f++)if(c[f]===i){o=f;break}if(o===undefined)throw new t.ValueError("Class not found in instance's method resolution order.");return s=function(n,t){return t===0?n:s(n.__proto__,t-1)},h=s(r.constructor.prototype,o+1),e=u!=="constructor"&&u!=="init"?h[u]:h.__ringConstructor__,t.instance(e,"function")?n.bind(e,r):e},t}if(typeof exports!="undefined"){var t=require("underscore");t.extend(exports,n(t))}else typeof define!="undefined"?define(["underscore"],n):window.ring=n(_)}();jQuery(function(){jQuery("#documentViewer").bind("onExternalLinkClicked",function(n,t){if(window.eb&&window.eb.platform&&window.eb.platform.touchonlydevice)window!=window.top?window.parent.location.href=t:document.location.href=t;else{var i=window.open(t,"_flowpaper_exturl");FLOWPAPER.blockedNewWindow(i)&&(document.location.href=t)}});jQuery("#documentViewer").bind("onProgress",function(){});jQuery("#documentViewer").bind("onDocumentLoading",function(){});jQuery("#documentViewer").bind("onPageLoading",function(){});jQuery("#documentViewer").bind("onCurrentPageChanged",function(n,t){if(jQuery(this).data("TrackingNumber")){var i=jQuery(this).data("TrackingDocument"),r=i.substr(0,i.indexOf(".pdf")+4);(function(n,t,i,r,u,f,e){n.GoogleAnalyticsObject=u;n[u]=n[u]||function(){(n[u].q=n[u].q||[]).push(arguments)};n[u].l=1*new Date;f=t.createElement(i);e=t.getElementsByTagName(i)[0];f.async=1;f.src=r;e.parentNode.insertBefore(f,e)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create",jQuery(this).data("TrackingNumber"),"auto","FlowPaperEventTracker");ga("FlowPaperEventTracker.send",{hitType:"event",eventCategory:"PDF Documents",eventAction:"Page View",eventLabel:r+" - page "+t})}});jQuery("#documentViewer").bind("onDocumentLoaded",function(){});jQuery("#documentViewer").bind("onPageLoaded",function(){});jQuery("#documentViewer").bind("onErrorLoadingPage",function(){});jQuery("#documentViewer").bind("onDocumentLoadedError",function(){});jQuery("#documentViewer").bind("onDocumentPrinted",function(){});jQuery("#documentViewer").bind("onPasswordNeeded",function(){})});data=document.getElementById("params").dataset;$("#documentViewer").FlowPaperViewer({config:{PDFFile:`docs/${data.name}.pdf?reload=${data.reload}`,IMGFiles:`docs/${data.name}.pdf_{page}.jpg?reload=${data.reload}`,HighResIMGFiles:"",JSONFile:`docs/${data.name}.pdf_{page}.js?reload=${data.reload}`,ThumbIMGFiles:`docs/${data.name}.pdf_{page}_thumb.jpg?reload=${data.reload}`,SWFFile:"",FontsToLoad:["g_font_1","g_font_2","g_font_3","g_font_4","g_font_5","g_font_6","g_font_7","g_font_8"],Scale:.1,ZoomTransition:"easeOut",ZoomTime:.4,ZoomInterval:.1,FitPageOnLoad:!0,FitWidthOnLoad:!1,AutoAdjustPrintSize:!0,PrintPaperAsBitmap:!1,AutoDetectLinks:!0,ImprovedAccessibility:!1,FullScreenAsMaxWindow:!1,ProgressiveLoading:!1,MinZoomSize:.1,MaxZoomSize:10,SearchMatchAll:!0,InitViewMode:"Zine",RenderingOrder:"html,html",StartAtPage:1,EnableWebGL:!0,PreviewMode:"",PublicationTitle:"",MixedMode:!0,ViewModeToolsVisible:!0,ZoomToolsVisible:!0,NavToolsVisible:!0,CursorToolsVisible:!0,SearchToolsVisible:!0,UIConfig:`UI_Zine.xml?reload=${data.reload}`,BrandingLogo:"",BrandingUrl:"",WMode:"transparent",key:"#V2ZzcGBFXVpeTBhxAklCXlVZaw",TrackingNumber:"",localeDirectory:"locale/",localeChain:data.locale}});url=window.location.href.toString();location.length==0&&(url=document.URL.toString());url.indexOf("file:")>=0&&jQuery("#documentViewer");document.addEventListener("DOMContentLoaded",function(){$("footer a").removeClass("text-dark").addClass("text-light");$("img[alt='epic solutions']").attr("src","epic_light_hor.svg")});