function toTitleCase(n){return n.replace(/(?:^|\s)\w/g,function(n){return n.toUpperCase()})}$("form input#RUT").rut({formatOn:"keyup",validateOn:"keyup"}).on("rutInvalido",function(){$(this).parents(".form-group").addClass("has-error");$('[data-valmsg-for="RUT"]').html("Rut Inválido")}).on("rutValido",function(){$(this).parents(".form-group").removeClass("has-error");$('[data-valmsg-for="RUT"]').html("")});$("form input#RUT").rut({formatOn:"change",validateOn:"change"}).on("rutInvalido",function(){$(this).parents(".form-group").addClass("has-error");$('[data-valmsg-for="RUT"]').html("Rut Inválido");$("input[type=submit]").prop("disabled",!0)}).on("rutValido",function(){$(this).parents(".form-group").removeClass("has-error");$('[data-valmsg-for="RUT"]').html("");var n="/Clientes/ClientExists/RUT";n=n.replace("RUT",$(this).val().toString().replace(new RegExp("-.*"),"").replace(new RegExp("\\.","g"),""));$.get(n,{},n=>{n.response==="True"&&$(document).find("title").text()==="Nuevo Cliente - CLM"?($("form input#RUT").parents(".form-group").addClass("has-error"),$('[data-valmsg-for="RUT"]').html("Cliente ya ingresado a la base de datos"),$("input[type=submit]").prop("disabled",!0)):$("#RUT").val()!==""?$.getJSON("https://siichile.herokuapp.com/consulta",{rut:$("#RUT").val().toString().replace(/[^0-9Kk]/g,"")},function(n){n.error?($("#Name").val(""),$('[data-valmsg-for="RUT"]').html(n.rut+" "+n.error),$("#Giros.selectpicker").selectpicker("val",""),$("input[type=submit]").prop("disabled",!0)):($('[data-valmsg-for="RUT"]').empty(),$("#Name").val(toTitleCase(n.razon_social.toString().toLowerCase())),$("#Giros.selectpicker").selectpicker("val",n.actividades.map(n=>n.codigo)),$("input[type=submit]").prop("disabled",!1))}):($("#rutVal").empty(),$("#rutPass").empty(),$("#Name").val(""),$("input[type=submit]").prop("disabled",!0))})});