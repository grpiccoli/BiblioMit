function generatePdf(){setExportStatus(!0);setTimeout(()=>{processedCharts=0;for(var n in charts)addToExport(charts[n],handleUploadFiles)},1e3)}function setExportStatus(n){var t="exporting";n?$(".showOnExport").addClass(t):$(".showOnExport").removeClass(t)}function addToExport(n,t){var i=n.getChart(),r=n.getSelector();i["export"].capture({},function(){this.toPNG({},n=>{exportsData.images[r]=n,processedCharts++,processedCharts===charts.length&&t()})})}function handleUploadFiles(){exportsData.selected_quarter_name=selected_quarter_name;exportsData.quarter_lastyear_name=quarter_lastyear_name;exportsData.total_semillas=total_semillas;exportsData.total_cosechas=total_cosechas;exportsData.total_abastecimiento=total_abastecimiento;exportsData.commune_table_tab1=commune_table_tab1;exportsData.commune_table_tab2=commune_table_tab2;exportsData.product_table_tab2=product_table_tab2;exportsData.report_analysis=report_analysis;$.post("http://139.162.167.71:8081/generatepdf",exportsData,function(n){try{var t=JSON.parse(n);t.hasOwnProperty("status")&&t.status==="success"?(setExportStatus(!1),triggerDownload(t.documentPath)):(setExportStatus(!1),console.log("error"))}catch(i){setExportStatus(!1);console.log("Error: "+i)}})}function triggerDownload(n){var t=document.createElement("a");t.href=n;t.download="boletin.pdf";$("body").append(t);t.click();$(t).remove()}var charts=[],exportsData={images:{}},processedCharts=0;$(document).ready(function(){var n,t;for(n in charts)document.getElementById(n)!==null&&(t=charts[n],charts.push(Chart(t.type,n,t.data,t.options)));$("#downloadReport").click(function(n){n.preventDefault();generatePdf()})});